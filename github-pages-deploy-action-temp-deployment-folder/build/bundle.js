!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(54)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=r(i),a=n(25),l=r(a),s=n(11),u=r(s),c=n(21),d=r(c),f=n(8),p=r(f),h=n(51),g=r(h),v=[],m=[],y=new Map,b=new Set,x=function(e){if(!e)return k;var t={nodes:e.nodes.map(function(e){var t=new l.default(e);return t.properties=t.properties.map(function(e){return new u.default(e)}),t}),edges:e.edges.map(function(e){var t=new o.default(e);return t.properties=t.properties.map(function(e){return new u.default(e)}),t})};return v=(0,g.default)(t.nodes)||v,m=t.edges||m,t},w=function e(t,n,r){var i=e,o={event:t,target:n,change:r,saves:p.default.getSaves(),data:{nodes:v,edges:m}},a=JSON.stringify(i.lastTarget||{}).replace(/\"x"\:.*,"y":.*,"color/,'"color,'),l=JSON.stringify(r).replace(/\"x"\:.*,"y":.*,"color/,'"color,');"update"===t&&"node"===n&&i.lastTarget&&i.lastTarget.id===r.id&&a===l||d.default.pushState(o),i.lastTarget=r,b.forEach(function(e){return e(o,t)})},S=function(e){return m.filter(function(t){return t.id===e})[0]},M=function(e){return v.filter(function(t){return t.id===e})[0]};p.default.onChange(function(e){w("saves updated",{},e)});var k={dispatchUpdate:w,isEntitySelected:function(){return v.some(function(e){return e.isSelected})||m.some(function(e){return e.isSelected})},getSelectedEntity:function(){var e=v.filter(function(e){return e.isSelected})[0]||m.filter(function(e){return e.isSelected})[0];if(e&&e.id)return k.getNode(e.id)||k.getEdge(e.id)},selectEntity:function(e){var t=M(e)||S(e);return t&&!t.isSelected&&(k.deselectAllEntities(),t.isSelected=!0,w("select",t.isNode?"node":"edge",t)),k},deselectAllEntities:function(e){return v.forEach(function(e){e.isSelected&&(e.isSelected=!1)}),m.forEach(function(e){e.isSelected&&(e.isSelected=!1)}),e&&w("deselect","all",{}),k},addNode:function(e){return v.push(e),w("add","node",e),k},loadData:function(e,t){var n=x(e);if(w(t?"history":"load","data",n),k.isEntitySelected()){var r=k.getSelectedEntity();w("select",r.isNode?"node":"edge",r)}return k},clear:function(){m=[],v=[],w("clear","data",[])},updateNode:function(e){return v=v.map(function(t){return t.id===e.id?e:t}),w("update","node",e),k},deleteNode:function(e){return v=v.reduce(function(t,n){return e.id!==n.id&&t.push(n),t},[]),m=m.reduce(function(t,n){return n.startNodeId!==e.id&&n.endNodeId!==e.id&&t.push(n),t},[]),w("delete","node",e),k},getNode:function(e){if(v.filter(function(t){return t.id===e}).length)return M(e).copy},getAllNodes:function(){return v.map(function(e){return e.copy})},getSchemaNodes:function(){y=new Map;for(var e=v.map(function(e){return e.copy}),t=[],n=0;n<e.length;n++){var r=e[n],i=(n+1).toString(),o={properties_filter:[],id:(n+1).toString(),labels:[r.label]};t.push(o),y.set(r.id,i)}return t},getSchemaEdges:function(){for(var e=m.map(function(e){return e.copy}),t=[],n=0;n<e.length;n++){var r=e[n],i={startNode:y.get(r.startNodeId),properties_filter:[],id:(n+1).toString(),type:r.label,endNode:y.get(r.endNodeId)};t.push(i)}return y.clear(),t},getVisNodes:function(){y=new Map;for(var e=v.map(function(e){return e.copy}),t=[],n=0;n<e.length;n++){var r=e[n],i=(n+1).toString(),o={properties:{name:r.label},id:i};t.push(o),y.set(r.id,i)}return t},getVisEdges:function(){for(var e=m.map(function(e){return e.copy}),t=[],n=0;n<e.length;n++){var r=e[n],i={type:r.label,endNode:y.get(r.startNodeId),startNode:y.get(r.endNodeId)};t.push(i)}return y.clear(),t},setAllNodes:function(e){v=e,w("set","nodes",v)},addEdge:function(e){return m.push(e),w("add","edge",e),k},setAllEdges:function(e){m=e,w("set","edges",m)},updateEdge:function(e){return m=m.map(function(t){return t.id===e.id?e:t}),w("update","edge",e),k},deleteEdge:function(e){return m=m.reduce(function(t,n){return e.id!==n.id&&t.push(n),t},[]),w("delete","edge",e),k},getEdge:function(e){return S(e).copy},getAllEdges:function(){return m.map(function(e){return e.copy})},getEdgesForStartNode:function(e){return k.getAllEdges().filter(function(t){return t.startNodeId===e})},onChange:function(e){return b.add(e)}};t.default=k},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EDITOR_CLASS:"graph-editor",EDITOR_ID:"graph-editor",SVGROOT_ID:"rootSVG",SVGROOT_CLASS:"rootSVG",PROPERTIES_MENU_LAYER_ID:"properties-menu-layer",PROPERTIES_MENU_LAYER_CLASS:"properties-menu-layer",CONTEXT_MENU_LAYER_ID:"context-menu-layer",CONTEXT_MENU_LAYER_CLASS:"context-menu-layer",PROPERTY_MENU_ID:"property-menu",PROPERTY_MENU_CLASS:"property-menu",CONTEXT_MENU_ID:"context-menu",CONTEXT_MENU_CLASS:"context-menu",ENTITIES_GROUP_ID:"entities-group",ENTITIES_GROUP_CLASS:"entities-group",PROPERTIES_GROUP_ID:"properties-group",PROPERTIES_GROUP_CLASS:"properties-group",HELP_ID:"help",HELP_CLASS:"help",HELP_PANEL_ID:"help-panel",HELP_PANEL_CLASS:"help-panel",INFO_ID:"info",INFO_CLASS:"info",INFO_PANEL_ID:"info-panel",INFO_PANEL_CLASS:"info-panel",HISTORY_ID:"history",HISTORY_CLASS:"history",HISTORY_PANEL_ID:"history-panel",HISTORY_PANEL_CLASS:"history-panel",HISTORY_SUMMARY_ID:"history-summary",HISTORY_SUMMARY_CLASS:"history-summary",MENU_SAVE:"menu_save",MENU_LOAD:"menu_load",MENU_TASK:"menu_task",MENU_EXPORT:"menu_export",MENU_IMPORT:"menu_import",MENU_DATABASE:"menu_database",MENU_SVG_STYLE:"menu_svg_style",SVG_STYLE_RELATION:"relation",SVG_STYLE_TYPE_LINKS:"type-links",SVG_STYLE_META_RELATION:"meta-relation",SVG_STYLE_COLOR_REFRESH:"svg-style-color-refresh"}},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){"use strict";function n(e,t,n,r){var i=document.createElement(t);return n&&i.setAttribute("id",n),r&&i.setAttribute("class",r),document.querySelector(e).appendChild(i),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(4),l=r(a),s=function e(){e.isDone||(u.notificationLager=(0,l.default)("#"+o.default.EDITOR_ID,"div","notification-layer","notification-layer"),u.notificationLager=(0,l.default)("#"+u.notificationLager.id,"ul","notifications","notifications"),e.isDone=!0)},u={notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s();var n=(0,l.default)("#"+u.notificationLager.id,"li","notification","notification");n.classList.add(t),n.innerHTML=e,setTimeout(function(){n.classList.add("open")},0),setTimeout(function(){n.classList.add("closed"),setTimeout(function(){n.parentNode.removeChild(n)},250)},3e3)},success:function(e){u.notify(e,"success")},error:function(e){u.notify(e,"error")},warning:function(e){u.notify(e,"warning")},info:function(e){u.notify(e,"information")}};t.default=u},function(e,t){"use strict";function n(){var e=window.performance.now();return"axyxxxyx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r,i;/*!
	 * jQuery JavaScript Library v1.12.4
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-05-20T17:17Z
	 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){function a(e){var t=!!e&&"length"in e&&e.length,n=ve.type(e);return"function"!==n&&!ve.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e,t,n){if(ve.isFunction(t))return ve.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ve.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ne.test(t))return ve.filter(t,e,n);t=ve.filter(t,e)}return ve.grep(e,function(e){return ve.inArray(e,t)>-1!==n})}function s(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function u(e){var t={};return ve.each(e.match(Ae)||[],function(e,n){t[n]=!0}),t}function c(){le.addEventListener?(le.removeEventListener("DOMContentLoaded",d),n.removeEventListener("load",d)):(le.detachEvent("onreadystatechange",d),n.detachEvent("onload",d))}function d(){(le.addEventListener||"load"===n.event.type||"complete"===le.readyState)&&(c(),ve.ready())}function f(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Re,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?ve.parseJSON(n):n)}catch(e){}ve.data(e,t,n)}else n=void 0}return n}function p(e){var t;for(t in e)if(("data"!==t||!ve.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function h(e,t,n,r){if(Pe(e)){var i,o,a=ve.expando,l=e.nodeType,s=l?ve.cache:e,u=l?e[a]:e[a]&&a;if(u&&s[u]&&(r||s[u].data)||void 0!==n||"string"!=typeof t)return u||(u=l?e[a]=ae.pop()||ve.guid++:a),s[u]||(s[u]=l?{}:{toJSON:ve.noop}),"object"!=typeof t&&"function"!=typeof t||(r?s[u]=ve.extend(s[u],t):s[u].data=ve.extend(s[u].data,t)),o=s[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ve.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[ve.camelCase(t)]):i=o,i}}function g(e,t,n){if(Pe(e)){var r,i,o=e.nodeType,a=o?ve.cache:e,l=o?e[ve.expando]:ve.expando;if(a[l]){if(t&&(r=n?a[l]:a[l].data)){ve.isArray(t)?t=t.concat(ve.map(t,ve.camelCase)):t in r?t=[t]:(t=ve.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!p(r):!ve.isEmptyObject(r))return}(n||(delete a[l].data,p(a[l])))&&(o?ve.cleanData([e],!0):ge.deleteExpando||a!=a.window?delete a[l]:a[l]=void 0)}}}function v(e,t,n,r){var i,o=1,a=20,l=r?function(){return r.cur()}:function(){return ve.css(e,t,"")},s=l(),u=n&&n[3]||(ve.cssNumber[t]?"":"px"),c=(ve.cssNumber[t]||"px"!==u&&+s)&&He.exec(ve.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+s||1;do{o=o||".5",c/=o,ve.style(e,t,c+u)}while(o!==(o=l()/s)&&1!==o&&--a)}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function m(e){var t=Ge.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ve.nodeName(r,t)?o.push(r):ve.merge(o,y(r,t));return void 0===t||t&&ve.nodeName(e,t)?ve.merge([e],o):o}function b(e,t){for(var n,r=0;null!=(n=e[r]);r++)ve._data(n,"globalEval",!t||ve._data(t[r],"globalEval"))}function x(e){We.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t,n,r,i){for(var o,a,l,s,u,c,d,f=e.length,p=m(t),h=[],g=0;g<f;g++)if((a=e[g])||0===a)if("object"===ve.type(a))ve.merge(h,a.nodeType?[a]:a);else if(Xe.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Be.exec(a)||["",""])[1].toLowerCase(),d=Ye[u]||Ye._default,s.innerHTML=d[1]+ve.htmlPrefilter(a)+d[2],o=d[0];o--;)s=s.lastChild;if(!ge.leadingWhitespace&&Ve.test(a)&&h.push(t.createTextNode(Ve.exec(a)[0])),!ge.tbody)for(a="table"!==u||Je.test(a)?"<table>"!==d[1]||Je.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)ve.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ve.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(a));for(s&&p.removeChild(s),ge.appendChecked||ve.grep(y(h,"input"),x),g=0;a=h[g++];)if(r&&ve.inArray(a,r)>-1)i&&i.push(a);else if(l=ve.contains(a.ownerDocument,a),s=y(p.appendChild(a),"script"),l&&b(s),n)for(o=0;a=s[o++];)Ue.test(a.type||"")&&n.push(a);return s=null,p}function S(){return!0}function M(){return!1}function k(){try{return le.activeElement}catch(e){}}function C(e,t,n,r,i,o){var a,l;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(l in t)C(e,l,n,r,t[l],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=M;else if(!i)return e;return 1===o&&(a=i,i=function(e){return ve().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ve.guid++)),e.each(function(){ve.event.add(this,t,i,r,n)})}function N(e,t){return ve.nodeName(e,"table")&&ve.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==ve.find.attr(e,"type"))+"/"+e.type,e}function T(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function L(e,t){if(1===t.nodeType&&ve.hasData(e)){var n,r,i,o=ve._data(e),a=ve._data(t,o),l=o.events;if(l){delete a.handle,a.events={};for(n in l)for(r=0,i=l[n].length;r<i;r++)ve.event.add(t,n,l[n][r])}a.data&&(a.data=ve.extend({},a.data))}}function _(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ge.noCloneEvent&&t[ve.expando]){i=ve._data(t);for(r in i.events)ve.removeEvent(t,r,i.handle);t.removeAttribute(ve.expando)}"script"===n&&t.text!==e.text?(E(t).text=e.text,T(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ge.html5Clone&&e.innerHTML&&!ve.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&We.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function A(e,t,n,r){t=ue.apply([],t);var i,o,a,l,s,u,c=0,d=e.length,f=d-1,p=t[0],h=ve.isFunction(p);if(h||d>1&&"string"==typeof p&&!ge.checkClone&&ot.test(p))return e.each(function(i){var o=e.eq(i);h&&(t[0]=p.call(this,i,o.html())),A(o,t,n,r)});if(d&&(u=w(t,e[0].ownerDocument,!1,e,r),i=u.firstChild,1===u.childNodes.length&&(u=i),i||r)){for(l=ve.map(y(u,"script"),E),a=l.length;c<d;c++)o=u,c!==f&&(o=ve.clone(o,!0,!0),a&&ve.merge(l,y(o,"script"))),n.call(e[c],o,c);if(a)for(s=l[l.length-1].ownerDocument,ve.map(l,T),c=0;c<a;c++)o=l[c],Ue.test(o.type||"")&&!ve._data(o,"globalEval")&&ve.contains(s,o)&&(o.src?ve._evalUrl&&ve._evalUrl(o.src):ve.globalEval((o.text||o.textContent||o.innerHTML||"").replace(lt,"")));u=i=null}return e}function O(e,t,n){for(var r,i=t?ve.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ve.cleanData(y(r)),r.parentNode&&(n&&ve.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=ve(t.createElement(e)).appendTo(t.body),r=ve.css(n[0],"display");return n.detach(),r}function P(e){var t=le,n=dt[e];return n||(n=D(e,t),"none"!==n&&n||(ct=(ct||ve("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write(),t.close(),n=D(e,t),ct.detach()),dt[e]=n),n}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in Nt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if((e=Ct[n]+t)in Nt)return e}function j(e,t){for(var n,r,i,o=[],a=0,l=e.length;a<l;a++)r=e[a],r.style&&(o[a]=ve._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ze(r)&&(o[a]=ve._data(r,"olddisplay",P(r.nodeName)))):(i=ze(r),(n&&"none"!==n||!i)&&ve._data(r,"olddisplay",i?n:ve.css(r,"display"))));for(a=0;a<l;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function H(e,t,n){var r=St.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function q(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ve.css(e,n+qe[o],!0,i)),r?("content"===n&&(a-=ve.css(e,"padding"+qe[o],!0,i)),"margin"!==n&&(a-=ve.css(e,"border"+qe[o]+"Width",!0,i))):(a+=ve.css(e,"padding"+qe[o],!0,i),"padding"!==n&&(a+=ve.css(e,"border"+qe[o]+"Width",!0,i)));return a}function z(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=vt(e),a=ge.boxSizing&&"border-box"===ve.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=mt(e,t,o),(i<0||null==i)&&(i=e.style[t]),pt.test(i))return i;r=a&&(ge.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+q(e,t,n||(a?"border":"content"),r,o)+"px"}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function W(){return n.setTimeout(function(){Et=void 0}),Et=ve.now()}function B(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=qe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function U(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,a,l,s,u,c=this,d={},f=e.style,p=e.nodeType&&ze(e),h=ve._data(e,"fxshow");n.queue||(l=ve._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,s=l.empty.fire,l.empty.fire=function(){l.unqueued||s()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,ve.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ve.css(e,"display"),"inline"===("none"===u?ve._data(e,"olddisplay")||P(e.nodeName):u)&&"none"===ve.css(e,"float")&&(ge.inlineBlockNeedsLayout&&"inline"!==P(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ge.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Lt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}d[r]=h&&h[r]||ve.style(e,r)}else u=void 0;if(ve.isEmptyObject(d))"inline"===("none"===u?P(e.nodeName):u)&&(f.display=u);else{h?"hidden"in h&&(p=h.hidden):h=ve._data(e,"fxshow",{}),o&&(h.hidden=!p),p?ve(e).show():c.done(function(){ve(e).hide()}),c.done(function(){var t;ve._removeData(e,"fxshow");for(t in d)ve.style(e,t,d[t])});for(r in d)a=U(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=ve.camelCase(n),i=t[r],o=e[n],ve.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ve.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,l=ve.Deferred().always(function(){delete s.elem}),s=function(){if(i)return!1;for(var t=Et||W(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,s=u.tweens.length;a<s;a++)u.tweens[a].run(o);return l.notifyWith(e,[u,o,n]),o<1&&s?n:(l.resolveWith(e,[u]),!1)},u=l.promise({elem:e,props:ve.extend({},t),opts:ve.extend(!0,{specialEasing:{},easing:ve.easing._default},n),originalProperties:t,originalOptions:n,startTime:Et||W(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ve.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u,t])):l.rejectWith(e,[u,t]),this}}),c=u.props;for(G(c,u.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(u,e,c,u.opts))return ve.isFunction(r.stop)&&(ve._queueHooks(u.elem,u.opts.queue).stop=ve.proxy(r.stop,r)),r;return ve.map(c,U,u),ve.isFunction(u.opts.start)&&u.opts.start.call(e,u),ve.fx.timer(ve.extend(s,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function X(e){return ve.attr(e,"class")||""}function J(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Ae)||[];if(ve.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function i(l){var s;return o[l]=!0,ve.each(e[l]||[],function(e,l){var u=l(t,n,r);return"string"!=typeof u||a||o[u]?a?!(s=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),s}var o={},a=e===en;return i(t.dataTypes[0])||!o["*"]&&i("*")}function K(e,t){var n,r,i=ve.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ve.extend(!0,e,n),e}function Z(e,t,n){for(var r,i,o,a,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){s.unshift(a);break}if(s[0]in n)o=s[0];else{for(a in n){if(!s[0]||e.converters[a+" "+s[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==s[0]&&s.unshift(o),n[o]}function Q(e,t,n,r){var i,o,a,l,s,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=o,o=c.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=u[s+" "+o]||u["* "+o]))for(i in u)if(l=i.split(" "),l[1]===o&&(a=u[s+" "+l[0]]||u["* "+l[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=l[0],c.unshift(l[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+o}}}return{state:"success",data:t}}function ee(e){return e.style&&e.style.display||ve.css(e,"display")}function te(e){if(!ve.contains(e.ownerDocument||le,e))return!0;for(;e&&1===e.nodeType;){if("none"===ee(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function ne(e,t,n,r){var i;if(ve.isArray(t))ve.each(t,function(t,i){n||an.test(e)?r(e,i):ne(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==ve.type(t))r(e,t);else for(i in t)ne(e+"["+i+"]",t[i],n,r)}function re(){try{return new n.XMLHttpRequest}catch(e){}}function ie(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function oe(e){return ve.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ae=[],le=n.document,se=ae.slice,ue=ae.concat,ce=ae.push,de=ae.indexOf,fe={},pe=fe.toString,he=fe.hasOwnProperty,ge={},ve=function(e,t){return new ve.fn.init(e,t)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ye=/^-ms-/,be=/-([\da-z])/gi,xe=function(e,t){return t.toUpperCase()};ve.fn=ve.prototype={jquery:"1.12.4",constructor:ve,selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:se.call(this)},pushStack:function(e){var t=ve.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ve.each(this,e)},map:function(e){return this.pushStack(ve.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:ae.sort,splice:ae.splice},ve.extend=ve.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},l=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||ve.isFunction(a)||(a={}),l===s&&(a=this,l--);l<s;l++)if(null!=(i=arguments[l]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(ve.isPlainObject(n)||(t=ve.isArray(n)))?(t?(t=!1,o=e&&ve.isArray(e)?e:[]):o=e&&ve.isPlainObject(e)?e:{},a[r]=ve.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ve.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ve.type(e)},isArray:Array.isArray||function(e){return"array"===ve.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ve.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ve.type(e)||e.nodeType||ve.isWindow(e))return!1;try{if(e.constructor&&!he.call(e,"constructor")&&!he.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ge.ownFirst)for(t in e)return he.call(e,t);for(t in e);return void 0===t||he.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?fe[pe.call(e)]||"object":typeof e},globalEval:function(e){e&&ve.trim(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(ye,"ms-").replace(be,xe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ve.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(de)return de.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,l=[];if(a(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&l.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&l.push(i);return ue.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),ve.isFunction(e))return n=se.call(arguments,2),r=function(){return e.apply(t||this,n.concat(se.call(arguments)))},r.guid=e.guid=e.guid||ve.guid++,r},now:function(){return+new Date},support:ge}),"function"==typeof Symbol&&(ve.fn[Symbol.iterator]=ae[Symbol.iterator]),ve.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){fe["[object "+t+"]"]=t.toLowerCase()});var we=/*!
	 * Sizzle CSS Selector Engine v2.2.1
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-10-17
	 */
function(e){function t(e,t,n,r){var i,o,a,l,u,d,f,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:H)!==_&&L(t),t=t||_,O)){if(11!==g&&(d=ge.exec(e)))if(i=d[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(d[2])return $.apply(n,t.getElementsByTagName(e)),n;if((i=d[3])&&b.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!B[e+" "]&&(!D||!D.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(me,"\\$&"):t.setAttribute("id",l=j),f=M(e),o=f.length,u=ce.test(l)?"#"+l:"[id='"+l+"']";o--;)f[o]=u+" "+c(f[o]);p=f.join(","),h=ve.test(e)&&s(t.parentNode)||t}if(p)try{return $.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{l===j&&t.removeAttribute("id")}}}return C(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function i(e){var t=_.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function s(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=z++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var l,s,u,c=[q,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[j]||(t[j]={}),s=u[t.uniqueID]||(u[t.uniqueID]={}),(l=s[r])&&l[0]===q&&l[1]===o)return c[2]=l[2];if(s[r]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],l=0,s=e.length,u=null!=t;l<s;l++)(o=e[l])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(l)));return a}function g(e,t,n,i,o,a){return i&&!i[j]&&(i=g(i)),o&&!o[j]&&(o=g(o,a)),r(function(r,a,l,s){var u,c,d,f=[],g=[],v=a.length,m=r||p(t||"*",l.nodeType?[l]:l,[]),y=!e||!r&&t?m:h(m,f,e,l,s),b=n?o||(r?e:v||i)?[]:a:y;if(n&&n(y,b,l,s),i)for(u=h(b,g),i(u,[],l,s),c=u.length;c--;)(d=u[c])&&(b[g[c]]=!(y[g[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,s)}for(c=b.length;c--;)(d=b[c])&&(u=o?Z(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=h(b===a?b.splice(v,b.length):b),o?o(null,a,b,s):$.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],l=o?1:0,s=d(function(e){return e===t},a,!0),u=d(function(e){return Z(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==N)||((t=n).nodeType?s(e,n,r):u(e,n,r));return t=null,i}];l<i;l++)if(n=x.relative[e[l].type])p=[d(f(p),n)];else{if(n=x.filter[e[l].type].apply(null,e[l].matches),n[j]){for(r=++l;r<i&&!x.relative[e[r].type];r++);return g(l>1&&f(p),l>1&&c(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(oe,"$1"),n,l<r&&v(e.slice(l,r)),r<i&&v(e=e.slice(r)),r<i&&c(e))}p.push(n)}return f(p)}function m(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,l,s,u){var c,d,f,p=0,g="0",v=r&&[],m=[],y=N,b=r||o&&x.find.TAG("*",u),w=q+=null==y?1:Math.random()||.1,S=b.length;for(u&&(N=a===_||a||u);g!==S&&null!=(c=b[g]);g++){if(o&&c){for(d=0,a||c.ownerDocument===_||(L(c),l=!O);f=e[d++];)if(f(c,a||_,l)){s.push(c);break}u&&(q=w)}i&&((c=!f&&c)&&p--,r&&v.push(c))}if(p+=g,i&&g!==p){for(d=0;f=n[d++];)f(v,m,a,l);if(r){if(p>0)for(;g--;)v[g]||m[g]||(m[g]=X.call(s));m=h(m)}$.apply(s,m),u&&!r&&m.length>0&&p+n.length>1&&t.uniqueSort(s)}return u&&(q=w,N=y),v};return i?r(a):a}var y,b,x,w,S,M,k,C,N,E,T,L,_,A,O,D,P,I,R,j="sizzle"+1*new Date,H=e.document,q=0,z=0,F=n(),W=n(),B=n(),U=function(e,t){return e===t&&(T=!0),0},V=1<<31,G={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,$=Y.push,K=Y.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){L()};try{$.apply(Y=K.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(e){$={apply:Y.length?function(e,t){J.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==_&&9===r.nodeType&&r.documentElement?(_=r,A=_.documentElement,O=!S(_),(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(_.getElementsByClassName),b.getById=i(function(e){return A.appendChild(e).id=j,!_.getElementsByName||!_.getElementsByName(j).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},P=[],D=[],(b.qsa=he.test(_.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+j+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||D.push(".#.+[+~]")}),i(function(e){var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(b.matchesSelector=he.test(I=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){b.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),P.push("!=",re)}),D=D.length&&new RegExp(D.join("|")),P=P.length&&new RegExp(P.join("|")),t=he.test(A.compareDocumentPosition),R=t||he.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===_||e.ownerDocument===H&&R(H,e)?-1:t===_||t.ownerDocument===H&&R(H,t)?1:E?Z(E,e)-Z(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,l=[e],s=[t];if(!i||!o)return e===_?-1:t===_?1:i?-1:o?1:E?Z(E,e)-Z(E,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;l[r]===s[r];)r++;return r?a(l[r],s[r]):l[r]===H?-1:s[r]===H?1:0},_):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&L(e),n=n.replace(se,"='$1']"),b.matchesSelector&&O&&!B[n+" "]&&(!P||!P.test(n))&&(!D||!D.test(n)))try{var r=I.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&L(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&L(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:b.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(T=!b.detectDuplicates,E=!b.sortStable&&e.slice(0),e.sort(U),T){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return E=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=M(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var u,c,d,f,p,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=l&&t.nodeName.toLowerCase(),y=!s&&!l,b=!1;if(v){if(o){for(;g;){for(f=t;f=f[g];)if(l?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(f=v,d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],b=p&&u[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[q,p,b];break}}else if(y&&(f=t,d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],p=u[0]===q&&u[1],b=p),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||h.pop())&&((l?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&(d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[q,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=Z(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(oe,"$1"));return i[j]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),l=e.length;l--;)(o=a[l])&&(e[l]=!(t[l]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var n;do{if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,M=t.tokenize=function(e,n){var r,i,o,a,l,s,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(l=e,s=[],u=x.preFilter;l;){r&&!(i=ae.exec(l))||(i&&(l=l.slice(i[0].length)||l),s.push(o=[])),r=!1,(i=le.exec(l))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),l=l.slice(r.length));for(a in x.filter)!(i=de[a].exec(l))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),l=l.slice(r.length));if(!r)break}return n?l.length:l?t.error(e):W(e,s).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=B[e+" "];if(!o){for(t||(t=M(e)),n=t.length;n--;)o=v(t[n]),o[j]?r.push(o):i.push(o);o=B(e,m(i,r)),o.selector=e}return o},C=t.select=function(e,t,n,r){var i,o,a,l,u,d="function"==typeof e&&e,f=!r&&M(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&O&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[l=a.type]);)if((u=x.find[l])&&(r=u(a.matches[0].replace(ye,be),ve.test(o[0].type)&&s(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return $.apply(n,r),n;break}}return(d||k(e,f))(r,t,!O,n,!t||ve.test(e)&&s(t.parentNode)||t),n},b.sortStable=j.split("").sort(U).join("")===j,b.detectDuplicates=!!T,L(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);ve.find=we,ve.expr=we.selectors,ve.expr[":"]=ve.expr.pseudos,ve.uniqueSort=ve.unique=we.uniqueSort,ve.text=we.getText,ve.isXMLDoc=we.isXML,ve.contains=we.contains;var Se=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ve(e).is(n))break;r.push(e)}return r},Me=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=ve.expr.match.needsContext,Ce=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ne=/^.[^:#\[\.,]*$/;ve.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ve.find.matchesSelector(r,e)?[r]:[]:ve.find.matches(e,ve.grep(t,function(e){return 1===e.nodeType}))},ve.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ve(e).filter(function(){for(t=0;t<i;t++)if(ve.contains(r[t],this))return!0}));for(t=0;t<i;t++)ve.find(e,r[t],n);return n=this.pushStack(i>1?ve.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&ke.test(e)?ve(e):e||[],!1).length}});var Ee,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ve.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ve?t[0]:t,ve.merge(this,ve.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Ce.test(r[1])&&ve.isPlainObject(t))for(r in t)ve.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=le.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return Ee.find(e);this.length=1,this[0]=i}return this.context=le,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ve.isFunction(e)?void 0!==n.ready?n.ready(e):e(ve):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ve.makeArray(e,this))}).prototype=ve.fn,Ee=ve(le);var Le=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};ve.fn.extend({has:function(e){var t,n=ve(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ve.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ke.test(e)||"string"!=typeof e?ve(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ve.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ve.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ve.inArray(this[0],ve(e)):ve.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ve.uniqueSort(ve.merge(this.get(),ve(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ve.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,n){return Se(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function(e,t,n){return Se(e,"previousSibling",n)},siblings:function(e){return Me((e.parentNode||{}).firstChild,e)},children:function(e){return Me(e.firstChild)},contents:function(e){return ve.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ve.merge([],e.childNodes)}},function(e,t){ve.fn[e]=function(n,r){var i=ve.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ve.filter(r,i)),this.length>1&&(_e[e]||(i=ve.uniqueSort(i)),Le.test(e)&&(i=i.reverse())),this.pushStack(i)}});var Ae=/\S+/g;ve.Callbacks=function(e){e="string"==typeof e?u(e):ve.extend({},e);var t,n,r,i,o=[],a=[],l=-1,s=function(){for(i=e.once,r=t=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(l=o.length-1,a.push(n)),function t(n){ve.each(n,function(n,r){ve.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==ve.type(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return ve.each(arguments,function(e,t){for(var n;(n=ve.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?ve.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ve.extend({Deferred:function(e){var t=[["resolve","done",ve.Callbacks("once memory"),"resolved"],["reject","fail",ve.Callbacks("once memory"),"rejected"],["notify","progress",ve.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ve.Deferred(function(n){ve.each(t,function(t,o){var a=ve.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ve.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ve.extend(e,r):r}},i={};return r.pipe=r.then,ve.each(t,function(e,o){var a=o[2],l=o[3];r[o[1]]=a.add,l&&a.add(function(){n=l},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=se.call(arguments),a=o.length,l=1!==a||e&&ve.isFunction(e.promise)?a:0,s=1===l?e:ve.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?se.call(arguments):i,r===t?s.notifyWith(n,r):--l||s.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&ve.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(s.reject):--l;return l||s.resolveWith(r,o),s.promise()}});var Oe;ve.fn.ready=function(e){return ve.ready.promise().done(e),this},ve.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ve.readyWait++:ve.ready(!0)},ready:function(e){(!0===e?--ve.readyWait:ve.isReady)||(ve.isReady=!0,!0!==e&&--ve.readyWait>0||(Oe.resolveWith(le,[ve]),ve.fn.triggerHandler&&(ve(le).triggerHandler("ready"),ve(le).off("ready"))))}}),ve.ready.promise=function(e){if(!Oe)if(Oe=ve.Deferred(),"complete"===le.readyState||"loading"!==le.readyState&&!le.documentElement.doScroll)n.setTimeout(ve.ready);else if(le.addEventListener)le.addEventListener("DOMContentLoaded",d),n.addEventListener("load",d);else{le.attachEvent("onreadystatechange",d),n.attachEvent("onload",d);var t=!1;try{t=null==n.frameElement&&le.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!ve.isReady){try{t.doScroll("left")}catch(t){return n.setTimeout(e,50)}c(),ve.ready()}}()}return Oe.promise(e)},ve.ready.promise();var De;for(De in ve(ge))break;ge.ownFirst="0"===De,ge.inlineBlockNeedsLayout=!1,ve(function(){var e,t,n,r;(n=le.getElementsByTagName("body")[0])&&n.style&&(t=le.createElement("div"),r=le.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ge.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=le.createElement("div");ge.deleteExpando=!0;try{delete e.test}catch(e){ge.deleteExpando=!1}e=null}();var Pe=function(e){var t=ve.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/([A-Z])/g;ve.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ve.cache[e[ve.expando]]:e[ve.expando])&&!p(e)},data:function(e,t,n){return h(e,t,n)},removeData:function(e,t){return g(e,t)},_data:function(e,t,n){return h(e,t,n,!0)},_removeData:function(e,t){return g(e,t,!0)}}),ve.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ve.data(o),1===o.nodeType&&!ve._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ve.camelCase(r.slice(5)),f(o,r,i[r])));ve._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ve.data(this,e)}):arguments.length>1?this.each(function(){ve.data(this,e,t)}):o?f(o,e,ve.data(o,e)):void 0},removeData:function(e){return this.each(function(){ve.removeData(this,e)})}}),ve.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ve._data(e,t),n&&(!r||ve.isArray(n)?r=ve._data(e,t,ve.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ve.queue(e,t),r=n.length,i=n.shift(),o=ve._queueHooks(e,t),a=function(){ve.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve._data(e,n)||ve._data(e,n,{empty:ve.Callbacks("once memory").add(function(){ve._removeData(e,t+"queue"),ve._removeData(e,n)})})}}),ve.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ve.queue(this[0],e):void 0===t?this:this.each(function(){var n=ve.queue(this,e,t);ve._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ve.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ve.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ve.Deferred(),o=this,a=this.length,l=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ve._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),i.promise(t)}}),function(){var e;ge.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=le.getElementsByTagName("body")[0])&&n.style?(t=le.createElement("div"),r=le.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(le.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],ze=function(e,t){return e=t||e,"none"===ve.css(e,"display")||!ve.contains(e.ownerDocument,e)},Fe=function(e,t,n,r,i,o,a){var l=0,s=e.length,u=null==n;if("object"===ve.type(n)){i=!0;for(l in n)Fe(e,t,l,n[l],!0,o,a)}else if(void 0!==r&&(i=!0,ve.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ve(e),n)})),t))for(;l<s;l++)t(e[l],n,a?r:r.call(e[l],l,t(e[l],n)));return i?e:u?t.call(e):s?t(e[0],n):o},We=/^(?:checkbox|radio)$/i,Be=/<([\w:-]+)/,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^\s+/,Ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=le.createElement("div"),t=le.createDocumentFragment(),n=le.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ge.leadingWhitespace=3===e.firstChild.nodeType,ge.tbody=!e.getElementsByTagName("tbody").length,ge.htmlSerialize=!!e.getElementsByTagName("link").length,ge.html5Clone="<:nav></:nav>"!==le.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ge.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ge.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=le.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ge.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.noCloneEvent=!!e.addEventListener,e[ve.expando]=1,ge.attributes=!e.getAttribute(ve.expando)}();var Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ge.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td;var Xe=/<|&#?\w+;/,Je=/<tbody/i;!function(){var e,t,r=le.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ge[e]=t in n)||(r.setAttribute(t,"t"),ge[e]=!1===r.attributes[t].expando);r=null}();var $e=/^(?:input|select|textarea)$/i,Ke=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,et=/^([^.]*)(?:\.(.+)|)/;ve.event={global:{},add:function(e,t,n,r,i){var o,a,l,s,u,c,d,f,p,h,g,v=ve._data(e);if(v){for(n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=ve.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||(c=v.handle=function(e){return void 0===ve||e&&ve.event.triggered===e.type?void 0:ve.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(Ae)||[""],l=t.length;l--;)o=et.exec(t[l])||[],p=g=o[1],h=(o[2]||"").split(".").sort(),p&&(u=ve.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ve.event.special[p]||{},d=ve.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ve.expr.match.needsContext.test(i),namespace:h.join(".")},s),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ve.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,l,s,u,c,d,f,p,h,g,v=ve.hasData(e)&&ve._data(e);if(v&&(c=v.events)){for(t=(t||"").match(Ae)||[""],u=t.length;u--;)if(l=et.exec(t[u])||[],p=g=l[1],h=(l[2]||"").split(".").sort(),p){for(d=ve.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||l&&!l.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||ve.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)ve.event.remove(e,p+t[u],n,r,!0);ve.isEmptyObject(c)&&(delete v.handle,ve._removeData(e,"events"))}},trigger:function(e,t,r,i){var o,a,l,s,u,c,d,f=[r||le],p=he.call(e,"type")?e.type:e,h=he.call(e,"namespace")?e.namespace.split("."):[];if(l=c=r=r||le,3!==r.nodeType&&8!==r.nodeType&&!Qe.test(p+ve.event.triggered)&&(p.indexOf(".")>-1&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,e=e[ve.expando]?e:new ve.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ve.makeArray(t,[e]),u=ve.event.special[p]||{},i||!u.trigger||!1!==u.trigger.apply(r,t))){if(!i&&!u.noBubble&&!ve.isWindow(r)){for(s=u.delegateType||p,Qe.test(s+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),c=l;c===(r.ownerDocument||le)&&f.push(c.defaultView||c.parentWindow||n)}for(d=0;(l=f[d++])&&!e.isPropagationStopped();)e.type=d>1?s:u.bindType||p,o=(ve._data(l,"events")||{})[e.type]&&ve._data(l,"handle"),o&&o.apply(l,t),(o=a&&l[a])&&o.apply&&Pe(l)&&(e.result=o.apply(l,t),!1===e.result&&e.preventDefault());if(e.type=p,!i&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),t))&&Pe(r)&&a&&r[p]&&!ve.isWindow(r)){c=r[a],c&&(r[a]=null),ve.event.triggered=p;try{r[p]()}catch(e){}ve.event.triggered=void 0,c&&(r[a]=c)}return e.result}},dispatch:function(e){e=ve.event.fix(e);var t,n,r,i,o,a=[],l=se.call(arguments),s=(ve._data(this,"events")||{})[e.type]||[],u=ve.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=ve.event.handlers.call(this,e,s),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((ve.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],l=t.delegateCount,s=e.target;if(l&&s.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;s!=this;s=s.parentNode||this)if(1===s.nodeType&&(!0!==s.disabled||"click"!==e.type)){for(r=[],n=0;n<l;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ve(i,this).index(s)>-1:ve.find(i,this,null,[s]).length),r[i]&&r.push(o);r.length&&a.push({elem:s,handlers:r})}return l<t.length&&a.push({elem:this,handlers:t.slice(l)}),a},fix:function(e){if(e[ve.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ze.test(i)?this.mouseHooks:Ke.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ve.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||le),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||le,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ve.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ve.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=ve.extend(new ve.Event,n,{type:e,isSimulated:!0});ve.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},ve.removeEvent=le.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},ve.Event=function(e,t){if(!(this instanceof ve.Event))return new ve.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:M):this.type=e,t&&ve.extend(this,t),this.timeStamp=e&&e.timeStamp||ve.now(),this[ve.expando]=!0},ve.Event.prototype={constructor:ve.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ve.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ve.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ve.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ge.submit||(ve.event.special.submit={setup:function(){if(ve.nodeName(this,"form"))return!1;ve.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ve.nodeName(t,"input")||ve.nodeName(t,"button")?ve.prop(t,"form"):void 0;n&&!ve._data(n,"submit")&&(ve.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),ve._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ve.event.simulate("submit",this.parentNode,e))},teardown:function(){if(ve.nodeName(this,"form"))return!1;ve.event.remove(this,"._submit")}}),ge.change||(ve.event.special.change={setup:function(){if($e.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ve.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ve.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ve.event.simulate("change",this,e)})),!1;ve.event.add(this,"beforeactivate._change",function(e){var t=e.target;$e.test(t.nodeName)&&!ve._data(t,"change")&&(ve.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ve.event.simulate("change",this.parentNode,e)}),ve._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ve.event.remove(this,"._change"),!$e.test(this.nodeName)}}),ge.focusin||ve.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ve.event.simulate(t,e.target,ve.event.fix(e))};ve.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve._data(r,t);i||r.addEventListener(e,n,!0),ve._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve._data(r,t)-1;i?ve._data(r,t,i):(r.removeEventListener(e,n,!0),ve._removeData(r,t))}}}),ve.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ve(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=M),this.each(function(){ve.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ve.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ve.event.trigger(e,t,n,!0)}});var tt=/ jQuery\d+="(?:null|\d+)"/g,nt=new RegExp("<(?:"+Ge+")[\\s/>]","i"),rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,st=m(le),ut=st.appendChild(le.createElement("div"));ve.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,l,s=ve.contains(e.ownerDocument,e);if(ge.html5Clone||ve.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ut.innerHTML=e.outerHTML,ut.removeChild(o=ut.firstChild)),!(ge.noCloneEvent&&ge.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ve.isXMLDoc(e)))for(r=y(o),l=y(e),a=0;null!=(i=l[a]);++a)r[a]&&_(i,r[a]);if(t)if(n)for(l=l||y(e),r=r||y(o),a=0;null!=(i=l[a]);a++)L(i,r[a]);else L(e,o);return r=y(o,"script"),r.length>0&&b(r,!s&&y(e,"script")),r=l=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,l=ve.expando,s=ve.cache,u=ge.attributes,c=ve.event.special;null!=(n=e[a]);a++)if((t||Pe(n))&&(i=n[l],o=i&&s[i])){if(o.events)for(r in o.events)c[r]?ve.event.remove(n,r):ve.removeEvent(n,r,o.handle);s[i]&&(delete s[i],u||void 0===n.removeAttribute?n[l]=void 0:n.removeAttribute(l),ae.push(i))}}}),ve.fn.extend({domManip:A,detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?ve.text(this):this.empty().append((this[0]&&this[0].ownerDocument||le).createTextNode(e))},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){N(this,e).appendChild(e)}})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ve.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ve.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ve.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(tt,""):void 0;if("string"==typeof e&&!it.test(e)&&(ge.htmlSerialize||!nt.test(e))&&(ge.leadingWhitespace||!Ve.test(e))&&!Ye[(Be.exec(e)||["",""])[1].toLowerCase()]){e=ve.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ve.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;ve.inArray(this,e)<0&&(ve.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),ve.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ve.fn[e]=function(e){for(var n,r=0,i=[],o=ve(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),ve(o[r])[t](n),ce.apply(i,n.get());return this.pushStack(i)}});var ct,dt={HTML:"block",BODY:"block"},ft=/^margin/,pt=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),ht=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},gt=le.documentElement;!function(){function e(){var e,c,d=le.documentElement;d.appendChild(s),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=l=!1,r=a=!0,n.getComputedStyle&&(c=n.getComputedStyle(u),t="1%"!==(c||{}).top,l="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,e=u.appendChild(le.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((n.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),d.removeChild(s)}var t,r,i,o,a,l,s=le.createElement("div"),u=le.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ge.opacity="0.5"===u.style.opacity,ge.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ge.clearCloneStyle="content-box"===u.style.backgroundClip,s=le.createElement("div"),s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",s.appendChild(u),ge.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ve.extend(ge,{reliableHiddenOffsets:function(){return null==t&&e(),o},boxSizingReliable:function(){return null==t&&e(),i},pixelMarginRight:function(){return null==t&&e(),r},pixelPosition:function(){return null==t&&e(),t},reliableMarginRight:function(){return null==t&&e(),a},reliableMarginLeft:function(){return null==t&&e(),l}}))}();var vt,mt,yt=/^(top|right|bottom|left)$/;n.getComputedStyle?(vt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},mt=function(e,t,n){var r,i,o,a,l=e.style;return n=n||vt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||ve.contains(e.ownerDocument,e)||(a=ve.style(e,t)),n&&!ge.pixelMarginRight()&&pt.test(a)&&ft.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=i,l.maxWidth=o),void 0===a?a:a+""}):gt.currentStyle&&(vt=function(e){return e.currentStyle},mt=function(e,t,n){var r,i,o,a,l=e.style;return n=n||vt(e),a=n?n[t]:void 0,null==a&&l&&l[t]&&(a=l[t]),pt.test(a)&&!yt.test(t)&&(r=l.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),l.left="fontSize"===t?"1em":a,a=l.pixelLeft+"px",l.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var bt=/alpha\([^)]*\)/i,xt=/opacity\s*=\s*([^)]*)/i,wt=/^(none|table(?!-c[ea]).+)/,St=new RegExp("^("+je+")(.*)$","i"),Mt={position:"absolute",visibility:"hidden",display:"block"},kt={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],Nt=le.createElement("div").style;ve.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=mt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ge.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,l=ve.camelCase(t),s=e.style;if(t=ve.cssProps[l]||(ve.cssProps[l]=R(l)||l),a=ve.cssHooks[t]||ve.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:s[t];if(o=typeof n,"string"===o&&(i=He.exec(n))&&i[1]&&(n=v(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ve.cssNumber[l]?"":"px")),ge.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{s[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,l=ve.camelCase(t);return t=ve.cssProps[l]||(ve.cssProps[l]=R(l)||l),a=ve.cssHooks[t]||ve.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=mt(e,t,r)),"normal"===o&&t in kt&&(o=kt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),ve.each(["height","width"],function(e,t){ve.cssHooks[t]={get:function(e,n,r){if(n)return wt.test(ve.css(e,"display"))&&0===e.offsetWidth?ht(e,Mt,function(){return z(e,t,r)}):z(e,t,r)},set:function(e,n,r){var i=r&&vt(e);return H(e,n,r?q(e,t,r,ge.boxSizing&&"border-box"===ve.css(e,"boxSizing",!1,i),i):0)}}}),ge.opacity||(ve.cssHooks.opacity={get:function(e,t){return xt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ve.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ve.trim(o.replace(bt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=bt.test(o)?o.replace(bt,i):o+" "+i)}}),ve.cssHooks.marginRight=I(ge.reliableMarginRight,function(e,t){if(t)return ht(e,{display:"inline-block"},mt,[e,"marginRight"])}),ve.cssHooks.marginLeft=I(ge.reliableMarginLeft,function(e,t){if(t)return(parseFloat(mt(e,"marginLeft"))||(ve.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),ve.each({margin:"",padding:"",border:"Width"},function(e,t){ve.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+qe[r]+t]=o[r]||o[r-2]||o[0];return i}},ft.test(e)||(ve.cssHooks[e+t].set=H)}),ve.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,i,o={},a=0;if(ve.isArray(t)){for(r=vt(e),i=t.length;a<i;a++)o[t[a]]=ve.css(e,t[a],!1,r);return o}return void 0!==n?ve.style(e,t,n):ve.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?ve(this).show():ve(this).hide()})}}),ve.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ve.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ve.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=ve.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ve.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ve.fx.step[e.prop]?ve.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ve.cssProps[e.prop]]&&!ve.cssHooks[e.prop]?e.elem[e.prop]=e.now:ve.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ve.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ve.fx=F.prototype.init,ve.fx.step={};var Et,Tt,Lt=/^(?:toggle|show|hide)$/,_t=/queueHooks$/;ve.Animation=ve.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,He.exec(t),n),n}]},tweener:function(e,t){ve.isFunction(e)?(t=e,e=["*"]):e=e.match(Ae);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),ve.speed=function(e,t,n){var r=e&&"object"==typeof e?ve.extend({},e):{complete:n||!n&&t||ve.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ve.isFunction(t)&&t};return r.duration=ve.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ve.fx.speeds?ve.fx.speeds[r.duration]:ve.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ve.isFunction(r.old)&&r.old.call(this),r.queue&&ve.dequeue(this,r.queue)},r},ve.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ve.isEmptyObject(e),o=ve.speed(t,n,r),a=function(){var t=Y(this,ve.extend({},e),o);(i||ve._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ve.timers,a=ve._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&_t.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ve.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ve._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ve.timers,a=r?r.length:0;for(n.finish=!0,ve.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ve.each(["toggle","show","hide"],function(e,t){var n=ve.fn[t];ve.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),ve.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ve.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ve.timers=[],ve.fx.tick=function(){var e,t=ve.timers,n=0;for(Et=ve.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ve.fx.stop(),Et=void 0},ve.fx.timer=function(e){ve.timers.push(e),e()?ve.fx.start():ve.timers.pop()},ve.fx.interval=13,ve.fx.start=function(){Tt||(Tt=n.setInterval(ve.fx.tick,ve.fx.interval))},ve.fx.stop=function(){n.clearInterval(Tt),Tt=null},ve.fx.speeds={slow:600,fast:200,_default:400},ve.fn.delay=function(e,t){return e=ve.fx?ve.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e,t=le.createElement("input"),n=le.createElement("div"),r=le.createElement("select"),i=r.appendChild(le.createElement("option"));n=le.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",ge.getSetAttribute="t"!==n.className,ge.style=/top/.test(e.getAttribute("style")),ge.hrefNormalized="/a"===e.getAttribute("href"),ge.checkOn=!!t.value,ge.optSelected=i.selected,ge.enctype=!!le.createElement("form").enctype,r.disabled=!0,ge.optDisabled=!i.disabled,t=le.createElement("input"),t.setAttribute("value",""),ge.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ge.radioValue="t"===t.value}();var At=/\r/g,Ot=/[\x20\t\r\n\f]+/g;ve.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ve.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ve(this).val()):e,null==i?i="":"number"==typeof i?i+="":ve.isArray(i)&&(i=ve.map(i,function(e){return null==e?"":e+""})),(t=ve.valHooks[this.type]||ve.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=ve.valHooks[i.type]||ve.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(At,""):null==n?"":n)}}}),ve.extend({valHooks:{option:{get:function(e){var t=ve.find.attr(e,"value");return null!=t?t:ve.trim(ve.text(e)).replace(Ot," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],l=o?i+1:r.length,s=i<0?l:o?i:0;s<l;s++)if(n=r[s],(n.selected||s===i)&&(ge.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ve.nodeName(n.parentNode,"optgroup"))){if(t=ve(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ve.makeArray(t),a=i.length;a--;)if(r=i[a],ve.inArray(ve.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ve.each(["radio","checkbox"],function(){ve.valHooks[this]={set:function(e,t){if(ve.isArray(t))return e.checked=ve.inArray(ve(e).val(),t)>-1}},ge.checkOn||(ve.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dt,Pt,It=ve.expr.attrHandle,Rt=/^(?:checked|selected)$/i,jt=ge.getSetAttribute,Ht=ge.input;ve.fn.extend({attr:function(e,t){return Fe(this,ve.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ve.removeAttr(this,e)})}}),ve.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ve.prop(e,t,n):(1===o&&ve.isXMLDoc(e)||(t=t.toLowerCase(),i=ve.attrHooks[t]||(ve.expr.match.bool.test(t)?Pt:Dt)),void 0!==n?null===n?void ve.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ve.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ge.radioValue&&"radio"===t&&ve.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Ae);if(o&&1===e.nodeType)for(;n=o[i++];)r=ve.propFix[n]||n,ve.expr.match.bool.test(n)?Ht&&jt||!Rt.test(n)?e[r]=!1:e[ve.camelCase("default-"+n)]=e[r]=!1:ve.attr(e,n,""),e.removeAttribute(jt?n:r)}}),Pt={set:function(e,t,n){return!1===t?ve.removeAttr(e,n):Ht&&jt||!Rt.test(n)?e.setAttribute(!jt&&ve.propFix[n]||n,n):e[ve.camelCase("default-"+n)]=e[n]=!0,n}},ve.each(ve.expr.match.bool.source.match(/\w+/g),function(e,t){var n=It[t]||ve.find.attr;Ht&&jt||!Rt.test(t)?It[t]=function(e,t,r){var i,o;return r||(o=It[t],It[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,It[t]=o),i}:It[t]=function(e,t,n){if(!n)return e[ve.camelCase("default-"+t)]?t.toLowerCase():null}}),Ht&&jt||(ve.attrHooks.value={set:function(e,t,n){if(!ve.nodeName(e,"input"))return Dt&&Dt.set(e,t,n);e.defaultValue=t}}),jt||(Dt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},It.id=It.name=It.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ve.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Dt.set},ve.attrHooks.contenteditable={set:function(e,t,n){Dt.set(e,""!==t&&t,n)}},ve.each(["width","height"],function(e,t){ve.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ge.style||(ve.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,zt=/^(?:a|area)$/i;ve.fn.extend({prop:function(e,t){return Fe(this,ve.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ve.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ve.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ve.isXMLDoc(e)||(t=ve.propFix[t]||t,i=ve.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ve.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||zt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ge.hrefNormalized||ve.each(["href","src"],function(e,t){ve.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ge.optSelected||(ve.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ve.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ve.propFix[this.toLowerCase()]=this}),ge.enctype||(ve.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;ve.fn.extend({addClass:function(e){var t,n,r,i,o,a,l,s=0;if(ve.isFunction(e))return this.each(function(t){ve(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[s++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");l=ve.trim(r),i!==l&&ve.attr(n,"class",l)}return this},removeClass:function(e){var t,n,r,i,o,a,l,s=0;if(ve.isFunction(e))return this.each(function(t){ve(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[s++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");l=ve.trim(r),i!==l&&ve.attr(n,"class",l)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ve.isFunction(e)?this.each(function(n){ve(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=ve(this),o=e.match(Ae)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=X(this),t&&ve._data(this,"__className__",t),ve.attr(this,"class",t||!1===e?"":ve._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;return!1}}),ve.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ve.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ve.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Wt=n.location,Bt=ve.now(),Ut=/\?/,Vt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ve.parseJSON=function(e){if(n.JSON&&n.JSON.parse)return n.JSON.parse(e+"");var t,r=null,i=ve.trim(e+"");return i&&!ve.trim(i.replace(Vt,function(e,n,i,o){return t&&n&&(r=0),0===r?e:(t=i||n,r+=!o-!i,"")}))?Function("return "+i)():ve.error("Invalid JSON: "+e)},ve.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{n.DOMParser?(r=new n.DOMParser,t=r.parseFromString(e,"text/xml")):(t=new n.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ve.error("Invalid XML: "+e),t};var Gt=/#.*$/,Yt=/([?&])_=[^&]*/,Xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Kt=/^\/\//,Zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},en={},tn="*/".concat("*"),nn=Wt.href,rn=Zt.exec(nn.toLowerCase())||[];ve.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Jt.test(rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ve.parseJSON,"text xml":ve.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,ve.ajaxSettings),t):K(ve.ajaxSettings,e)},ajaxPrefilter:J(Qt),ajaxTransport:J(en),ajax:function(e,t){function r(e,t,r,i){var o,d,y,b,w,M=t;2!==x&&(x=2,s&&n.clearTimeout(s),c=void 0,l=i||"",S.readyState=e>0?4:0,o=e>=200&&e<300||304===e,r&&(b=Z(f,S,r)),b=Q(f,b,S,o),o?(f.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(ve.lastModified[a]=w),(w=S.getResponseHeader("etag"))&&(ve.etag[a]=w)),204===e||"HEAD"===f.type?M="nocontent":304===e?M="notmodified":(M=b.state,d=b.data,y=b.error,o=!y)):(y=M,!e&&M||(M="error",e<0&&(e=0))),S.status=e,S.statusText=(t||M)+"",o?g.resolveWith(p,[d,M,S]):g.rejectWith(p,[S,M,y]),S.statusCode(m),m=void 0,u&&h.trigger(o?"ajaxSuccess":"ajaxError",[S,f,o?d:y]),v.fireWith(p,[S,M]),u&&(h.trigger("ajaxComplete",[S,f]),--ve.active||ve.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,l,s,u,c,d,f=ve.ajaxSetup({},t),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?ve(p):ve.event,g=ve.Deferred(),v=ve.Callbacks("once memory"),m=f.statusCode||{},y={},b={},x=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!d)for(d={};t=Xt.exec(l);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?l:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,f.url=((e||f.url||nn)+"").replace(Gt,"").replace(Kt,rn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ve.trim(f.dataType||"*").toLowerCase().match(Ae)||[""],null==f.crossDomain&&(i=Zt.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===rn[1]&&i[2]===rn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(rn[3]||("http:"===rn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ve.param(f.data,f.traditional)),$(Qt,f,t,S),2===x)return S;u=ve.event&&f.global,u&&0==ve.active++&&ve.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!$t.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Ut.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Yt.test(a)?a.replace(Yt,"$1_="+Bt++):a+(Ut.test(a)?"&":"?")+"_="+Bt++)),f.ifModified&&(ve.lastModified[a]&&S.setRequestHeader("If-Modified-Since",ve.lastModified[a]),ve.etag[a]&&S.setRequestHeader("If-None-Match",ve.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+tn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)S.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||2===x))return S.abort();w="abort";for(o in{success:1,error:1,complete:1})S[o](f[o]);if(c=$(en,f,t,S)){if(S.readyState=1,u&&h.trigger("ajaxSend",[S,f]),2===x)return S;f.async&&f.timeout>0&&(s=n.setTimeout(function(){S.abort("timeout")},f.timeout));try{x=1,c.send(y,r)}catch(e){if(!(x<2))throw e;r(-1,e)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return ve.get(e,t,n,"json")},getScript:function(e,t){return ve.get(e,void 0,t,"script")}}),ve.each(["get","post"],function(e,t){ve[t]=function(e,n,r,i){return ve.isFunction(n)&&(i=i||r,r=n,n=void 0),ve.ajax(ve.extend({url:e,type:t,dataType:i,data:n,success:r},ve.isPlainObject(e)&&e))}}),ve._evalUrl=function(e){return ve.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ve.fn.extend({wrapAll:function(e){if(ve.isFunction(e))return this.each(function(t){ve(this).wrapAll(e.call(this,t))});if(this[0]){var t=ve(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ve.isFunction(e)?this.each(function(t){ve(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ve(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve.isFunction(e);return this.each(function(n){ve(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ve.nodeName(this,"body")||ve(this).replaceWith(this.childNodes)}).end()}}),ve.expr.filters.hidden=function(e){return ge.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:te(e)},ve.expr.filters.visible=function(e){return!ve.expr.filters.hidden(e)};var on=/%20/g,an=/\[\]$/,ln=/\r?\n/g,sn=/^(?:submit|button|image|reset|file)$/i,un=/^(?:input|select|textarea|keygen)/i;ve.param=function(e,t){var n,r=[],i=function(e,t){t=ve.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ve.ajaxSettings&&ve.ajaxSettings.traditional),ve.isArray(e)||e.jquery&&!ve.isPlainObject(e))ve.each(e,function(){i(this.name,this.value)});else for(n in e)ne(n,e[n],t,i);return r.join("&").replace(on,"+")},ve.fn.extend({serialize:function(){return ve.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ve.prop(this,"elements");return e?ve.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ve(this).is(":disabled")&&un.test(this.nodeName)&&!sn.test(e)&&(this.checked||!We.test(e))}).map(function(e,t){var n=ve(this).val();return null==n?null:ve.isArray(n)?ve.map(n,function(e){return{name:t.name,value:e.replace(ln,"\r\n")}}):{name:t.name,value:n.replace(ln,"\r\n")}}).get()}}),ve.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?ie():le.documentMode>8?re():/^(get|post|head|put|delete|options)$/i.test(this.type)&&re()||ie()}:re;var cn=0,dn={},fn=ve.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var e in dn)dn[e](void 0,!0)}),ge.cors=!!fn&&"withCredentials"in fn,fn=ge.ajax=!!fn,fn&&ve.ajaxTransport(function(e){if(!e.crossDomain||ge.cors){var t;return{send:function(r,i){var o,a=e.xhr(),l=++cn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(e.hasContent&&e.data||null),t=function(n,r){var o,s,u;if(t&&(r||4===a.readyState))if(delete dn[l],t=void 0,a.onreadystatechange=ve.noop,r)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{s=a.statusText}catch(e){s=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&i(o,s,u,a.getAllResponseHeaders())},e.async?4===a.readyState?n.setTimeout(t):a.onreadystatechange=dn[l]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ve.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ve.globalEval(e),e}}}),ve.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ve.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=le.head||ve("head")[0]||le.documentElement;return{send:function(r,i){t=le.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var pn=[],hn=/(=)\?(?=&|$)|\?\?/;ve.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||ve.expando+"_"+Bt++;return this[e]=!0,e}}),ve.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,l=!1!==e.jsonp&&(hn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ve.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(hn,"$1"+i):!1!==e.jsonp&&(e.url+=(Ut.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ve.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?ve(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,pn.push(i)),a&&ve.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ve.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||le;var r=Ce.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w([e],t,i),i&&i.length&&ve(i).remove(),ve.merge([],r.childNodes))};var gn=ve.fn.load;ve.fn.load=function(e,t,n){if("string"!=typeof e&&gn)return gn.apply(this,arguments);var r,i,o,a=this,l=e.indexOf(" ");return l>-1&&(r=ve.trim(e.slice(l,e.length)),e=e.slice(0,l)),ve.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&ve.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ve("<div>").append(ve.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ve.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ve.fn[t]=function(e){return this.on(t,e)}}),ve.expr.filters.animated=function(e){return ve.grep(ve.timers,function(t){return e===t.elem}).length},ve.offset={setOffset:function(e,t,n){var r,i,o,a,l,s,u,c=ve.css(e,"position"),d=ve(e),f={};"static"===c&&(e.style.position="relative"),l=d.offset(),o=ve.css(e,"top"),s=ve.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ve.inArray("auto",[o,s])>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),ve.isFunction(t)&&(t=t.call(e,n,ve.extend({},l))),null!=t.top&&(f.top=t.top-l.top+a),null!=t.left&&(f.left=t.left-l.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ve.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ve.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ve.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=oe(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ve.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ve.nodeName(e[0],"html")||(n=e.offset()),n.top+=ve.css(e[0],"borderTopWidth",!0),n.left+=ve.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ve.css(r,"marginTop",!0),left:t.left-n.left-ve.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!ve.nodeName(e,"html")&&"static"===ve.css(e,"position");)e=e.offsetParent;return e||gt})}}),ve.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ve.fn[e]=function(r){return Fe(this,function(e,r,i){var o=oe(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?ve(o).scrollLeft():i,n?i:ve(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),ve.each(["top","left"],function(e,t){ve.cssHooks[t]=I(ge.pixelPosition,function(e,n){if(n)return n=mt(e,t),pt.test(n)?ve(e).position()[t]+"px":n})}),ve.each({Height:"height",Width:"width"},function(e,t){ve.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ve.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Fe(this,function(t,n,r){var i;return ve.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ve.css(t,n,a):ve.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ve.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ve.fn.size=function(){return this.length},ve.fn.andSelf=ve.fn.addBack,r=[],void 0!==(i=function(){return ve}.apply(t,r))&&(e.exports=i);var vn=n.jQuery,mn=n.$;return ve.noConflict=function(e){return n.$===ve&&(n.$=mn),e&&n.jQuery===ve&&(n.jQuery=vn),ve},o||(n.jQuery=n.$=ve),ve})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=r(i),a=n(27),l=r(a),s=n(1),u=r(s),c=n(5),d=r(c),f=[],p=[],h=null,g=function(e){p.forEach(function(t){t(e)})},v={loadSaves:function(e){f=e,g(f)},getSaves:function(){return f},save:function(e,t){f.unshift(Object.assign({id:(0,o.default)(),date:(0,l.default)(new Date),name:t},e)),g(f)},load:function(e){var t=f.filter(function(t){return t.id===e})[0];h=t.name,u.default.loadData(t.data),d.default.success("Save successfully loaded.")},currentName:function(){return null===h?"":h},setCurrentName:function(e){h=e},remove:function(e){f=f.reduce(function(t,n){return n.id!==e&&t.push(n),t},[]),g(f)},onChange:function(e){p.push(e)}};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(4),l=r(a),s=n(8),u=r(s),c=n(1),d=r(c),f=n(40),p=r(f),h=n(41),g=r(h),v=n(5),m=r(v),y=n(39),b=r(y),x=n(13),w=r(x),S=void 0,M=void 0,k=function(e){S=e,_.render()},C=function(){var e={data:{nodes:d.default.getAllNodes(),edges:d.default.getAllEdges()}},t=document.querySelector(".new-save-name-input").value;u.default.save(e,t)},N=function(e){return'\n     <div class="dialog">\n        <div class="header">\n          <span class="span">Saved graphs</span>\n          <button class="export-all-json left" style="display: none">All Json</button>\n          <button class="export-current-json left" style="display: none">Current Json</button>\n          <button class="export-schema-json left" style="display: none">Schema Json</button>\n          <button class="export-vis-json left" style="display: none">Vis Json</button>\n          <button class="upload-json-file left" style="display: none">Upload Json File</button>\n          <button class="import-from-json left" style="display: none">Import From Json</button>\n          <button class="import-from-arrows left" style="display: none">Import From Arrows</button>\n          <button class="download-json-file left" style="display: none">Download Json File</button>\n          <button class="associate-with-graph-databases left" style="display: none">Graph Databases</button>\n          <button class="svg-style-relation left" style="display: none">Relation</button>\n          <button class="svg-style-type-links left" style="display: none">Type Links</button>\n          <button class="svg-style-meta-relation left" style="display: none">Meta-Relation</button>\n        </div>\n        <div id="set_file_name" class="sub-header">\n          <span>Save graph as:</span>\n          <input type="text" maxlength="20" placeholder="Name of the save you wanna save." class="new-save-name-input" value="'+u.default.currentName()+'" />\n          <button class="save-btn">Save</button>\n        </div>\n        <div class="body">\n          <ul class="saves-list">'+E(e)+'</ul>\n        </div>\n        <div class="footer">\n          <button class="new-save-btn left" style="display: none">New Save</button>\n          <button class="delete-btn" style="'+(!S&&"display: none;")+'">Delete</button>\n          <button class="load-btn" style="'+(!S&&"display: none;")+'">Load</button>\n          <button class="delete-btn-indb" style="display: none">Delete</button>\n          <button class="download-btn" style="display: none">Download</button>\n          <button class="close-dialog-btn">Close</button>\n        </div>\n      </div>'},E=function(e){var t="";return e.forEach(function(e){t+='\n    <li class="save-entry '+(S===e.id&&"selected")+'" title="'+e.name+" \n"+e.data.nodes.length+" nodes, "+e.data.edges.length+" edges \n"+e.date+'" id="'+e.id+'">\n\x3c!--      <div class="icon">&#128196;</div>--\x3e\n      <div class="icon"><img src="./img/document-cover.png" height="90%" width="100%" title=""/></div>\n      <div class="name">'+e.name+"\n        <small>"+e.date+"</small>\n      </div>\n    </li>"}),t},T=function e(){if(!e.isDone){_.dialogLayer=(0,l.default)("#"+o.default.EDITOR_ID,"div","overlay-dialog","overlay-dialog"),u.default.onChange(function(e){S=null,_.render(e)}),d3.select("body").on("keydown",function(){var e=document.activeElement;13===d3.event.keyCode&&S&&(u.default.load(S),_.close(),d3.event.preventDefault(),d3.event.stopPropagation()),13===d3.event.keyCode&&e&&e.classList.contains("new-save-name-input")&&document.querySelector(".new-save-name-input").value.length>0&&(C(),d3.event.preventDefault(),d3.event.stopPropagation()),27===d3.event.keyCode&&(_.close(),d3.event.preventDefault(),d3.event.stopPropagation())});var t=void 0;_.dialogLayer.addEventListener("click",function(e){var n=e.target;switch(n.classList[0]){case"close-dialog-btn":_.close();break;case"new-save-btn":_.open(!0,o.default.MENU_SAVE);break;case"save-btn":C();break;case"load-btn":if(null===S)try{d.default.loadData(g.default.getInputJsonData()),m.default.success("Save successfully loaded."),_.close()}catch(e){console.log(e),console.log(g.default.getDemoJson()),alert("\nF12\nJSON"+g.default.getDemoJson())}else u.default.load(S),_.close();break;case"delete-btn":window.confirm("Are you sure you want to delete all saved nodes and edges?")&&u.default.remove(S);break;case"save-entry":k(n.id),t===S&&(u.default.load(S),_.close());break;case"export-all-json":p.default.all();break;case"export-current-json":p.default.current();break;case"export-schema-json":p.default.schema();break;case"export-vis-json":p.default.vis();break;case"upload-json-file":p.default.uploadJson();break;case"import-from-json":g.default.singleModelGraphJson();break;case"import-from-arrows":g.default.singleModelGraphArrows();break;case"download-json-file":g.default.downloadJsonFromOS();break;case"associate-with-graph-databases":b.default.cql();break;case"svg-style-relation":w.default.style(o.default.SVG_STYLE_RELATION);break;case"svg-style-type-links":w.default.style(o.default.SVG_STYLE_TYPE_LINKS);break;case"svg-style-meta-relation":w.default.style(o.default.SVG_STYLE_META_RELATION);break;case"svg-style-color-refresh":w.default.localStorageColor()}t=n.id,setTimeout(function(){t=null},400)}),e.isDone=!0}},L=function(e){function t(e){document.querySelector(".dialog .footer .delete-btn").style.display="none"}switch(M){case o.default.MENU_SAVE:document.querySelector(".dialog .footer .new-save-btn").style.display="inline",document.getElementById("set_file_name").style.display=e?"flex":"none",document.querySelector(".dialog .sub-header .new-save-name-input").focus();break;case o.default.MENU_LOAD:document.querySelector(".dialog .header .span").innerHTML="Load Graphs",t(!1);break;case o.default.MENU_TASK:document.querySelector(".dialog .header .span").innerHTML="Task Mappings:",t(!1);break;case o.default.MENU_EXPORT:document.querySelector(".dialog .header .span").innerHTML="Export Graphs:",document.querySelector(".dialog .header .export-all-json").style.display="inline",document.querySelector(".dialog .header .export-current-json").style.display="inline",document.querySelector(".dialog .header .export-schema-json").style.display="inline",document.querySelector(".dialog .header .export-vis-json").style.display="inline",document.querySelector(".dialog .header .upload-json-file").style.display="inline",t(!1);break;case o.default.MENU_IMPORT:document.querySelector(".dialog .header .span").innerHTML="Import Graphs:",document.querySelector(".dialog .header .import-from-json").style.display="inline",document.querySelector(".dialog .header .import-from-arrows").style.display="inline",document.querySelector(".dialog .header .download-json-file").style.display="inline",t(!1);break;case o.default.MENU_DATABASE:document.querySelector(".dialog .header .span").innerHTML="Associate:",document.querySelector(".dialog .header .associate-with-graph-databases").style.display="inline",t(!1);break;case o.default.MENU_SVG_STYLE:document.querySelector(".dialog .header ."+w.default.getBtnId()).style.background="#bbb",document.querySelector(".dialog .header .span").innerHTML="Svg Style Adjust:",document.querySelector(".dialog .header .svg-style-relation").style.display="inline",document.querySelector(".dialog .header .svg-style-type-links").style.display="inline",document.querySelector(".dialog .header .svg-style-meta-relation").style.display="inline",t(!1)}},_={render:function(){var e=u.default.getSaves();_.dialogLayer.innerHTML=N(e),L(M)},open:function(e,t){M=t,T(),S=null,_.render(),L(e),document.querySelector("#"+o.default.SVGROOT_ID).classList.add("blurred"),setTimeout(function(){_.dialogLayer.classList.add("opened")},0)},close:function(){T(),document.querySelector("#"+o.default.SVGROOT_ID).classList.remove("blurred"),_.dialogLayer.classList.remove("opened")}};t.default=_},function(e,t,n){!function(e,n){n(t)}(0,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,i,o,a,l;for(l=arguments.length;l-- >2;)q.push(arguments[l]);for(n&&n.children&&(q.length||q.push(n.children),delete n.children);q.length;)if((o=q.pop())instanceof Array)for(l=o.length;l--;)q.push(o[l]);else null!=o&&!0!==o&&!1!==o&&("number"==typeof o&&(o=String(o)),a="string"==typeof o,a&&i?r[r.length-1]+=o:((r||(r=[])).push(o),i=a));var s=new t(e,n||void 0,r||z);return H.vnode&&H.vnode(s),s}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function i(e){return r({},e)}function o(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function a(e){return"function"==typeof e}function l(e){return"string"==typeof e}function s(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function u(e,t){return n(e.nodeName,r(i(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function c(e,t,n){var r=t.split(".");return function(t){for(var i=t&&t.target||this,a={},s=a,u=l(n)?o(t,n):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,c=0;c<r.length-1;c++)s=s[r[c]]||(s[r[c]]=!c&&e.state[r[c]]||{});s[r[c]]=u,e.setState(a)}}function d(e){!e._dirty&&(e._dirty=!0)&&1==J.push(e)&&(H.debounceRendering||U)(f)}function f(){var e,t=J;for(J=[];e=t.pop();)e._dirty&&D(e)}function p(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function h(e,t){return e.nodeName(m(e),t||V)}function g(e,t){return l(t)?e instanceof Text:l(t.nodeName)?!e._componentConstructor&&v(e,t.nodeName):a(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||p(t):void 0}function v(e,t){return e.normalizedNodeName===t||W(e.nodeName)===W(t)}function m(e){var t=i(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,r,i){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=s(r)),"key"===t);else if("class"!==t||i)if("style"===t){if((!r||l(r)||l(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!l(n))for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"!=typeof r[o]||Y[o]?r[o]:r[o]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var u=e._listeners||(e._listeners={});t=W(t.substring(2)),r?u[t]||e.addEventListener(t,w,!!X[t]):u[t]&&e.removeEventListener(t,w,!!X[t]),u[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)x(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var c=i&&t.match(/^xlink\:?(.+)/);null==r||!1===r?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",W(c[1])):e.removeAttribute(t):"object"==typeof r||a(r)||(c?e.setAttributeNS("http://www.w3.org/1999/xlink",W(c[1]),r):e.setAttribute(t,r))}else e.className=r||""}function x(e,t,n){try{e[t]=n}catch(e){}}function w(e){return this._listeners[e.type](H.event&&H.event(e)||e)}function S(e){if(y(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||W(e.nodeName);($[t]||($[t]=[])).push(e)}}function M(e,t){var n=W(e),r=$[n]&&$[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function k(){for(var e;e=K.pop();)H.afterMount&&H.afterMount(e),e.componentDidMount&&e.componentDidMount()}function C(e,t,n,r,i,o){Z++||(Q=i&&void 0!==i.ownerSVGElement,ee=e&&!(G in e));var a=N(e,t,n,r);return i&&a.parentNode!==i&&i.appendChild(a),--Z||(ee=!1,o||k()),a}function N(e,t,n,r){for(var i=t&&t.attributes&&t.attributes.ref;p(t);)t=h(t,n);if(null==t&&(t=""),l(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&T(e),e=document.createTextNode(t)),e;if(a(t.nodeName))return P(e,t,n,r);var o=e,s=String(t.nodeName),u=Q,c=t.children;if(Q="svg"===s||"foreignObject"!==s&&Q,e){if(!v(e,s)){for(o=M(s,Q);e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),T(e)}}else o=M(s,Q);var d=o.firstChild,f=o[G];if(!f){o[G]=f={};for(var g=o.attributes,m=g.length;m--;)f[g[m].name]=g[m].value}return!ee&&c&&1===c.length&&"string"==typeof c[0]&&d&&d instanceof Text&&!d.nextSibling?d.nodeValue!=c[0]&&(d.nodeValue=c[0]):(c&&c.length||d)&&E(o,c,n,r,!!f.dangerouslySetInnerHTML),L(o,t.attributes,f),i&&(f.ref=i)(o),Q=u,o}function E(e,t,n,r,i){var o,a,l,s,u=e.childNodes,c=[],d={},f=0,p=0,h=u.length,v=0,m=t&&t.length;if(h)for(var b=0;b<h;b++){var x=u[b],w=x[G],S=m?(a=x._component)?a.__key:w?w.key:null:null;null!=S?(f++,d[S]=x):(ee||i||w||x instanceof Text)&&(c[v++]=x)}if(m)for(var b=0;b<m;b++){l=t[b],s=null;var S=l.key;if(null!=S)f&&S in d&&(s=d[S],d[S]=void 0,f--);else if(!s&&p<v)for(o=p;o<v;o++)if((a=c[o])&&g(a,l)){s=a,c[o]=void 0,o===v-1&&v--,o===p&&p++;break}s=N(s,l,n,r),s&&s!==e&&(b>=h?e.appendChild(s):s!==u[b]&&(s===u[b+1]&&y(u[b]),e.insertBefore(s,u[b]||null)))}if(f)for(var b in d)d[b]&&T(d[b]);for(;p<=v;)(s=c[v--])&&T(s)}function T(e,t){var n=e._component;if(n)I(n,!t);else{e[G]&&e[G].ref&&e[G].ref(null),t||S(e);for(var r;r=e.lastChild;)T(r,t)}}function L(e,t,n){var r;for(r in n)t&&r in t||null==n[r]||b(e,r,n[r],n[r]=void 0,Q);if(t)for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||b(e,r,n[r],n[r]=t[r],Q)}function _(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function A(e,t,n){var r=new e(t,n),i=te[e.name];if(R.call(r,t,n),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function O(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===H.syncComponentUpdates&&e.base?d(e):D(e,1,i)),e.__ref&&e.__ref(e))}function D(e,t,n,o){if(!e._disable){var l,s,u,c,d=e.props,f=e.state,g=e.context,v=e.prevProps||d,y=e.prevState||f,b=e.prevContext||g,x=e.base,w=e.nextBase,S=x||w,M=e._component;if(x&&(e.props=v,e.state=y,e.context=b,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,f,g)?l=!0:e.componentWillUpdate&&e.componentWillUpdate(d,f,g),e.props=d,e.state=f,e.context=g),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!l){for(e.render&&(s=e.render(d,f,g)),e.getChildContext&&(g=r(i(g),e.getChildContext()));p(s);)s=h(s,g);var N,E,L=s&&s.nodeName;if(a(L)){var _=m(s);u=M,u&&u.constructor===L&&_.key==u.__key?O(u,_,1,g):(N=u,u=A(L,_,g),u.nextBase=u.nextBase||w,u._parentComponent=e,e._component=u,O(u,_,0,g),D(u,1,n,!0)),E=u.base}else c=S,N=M,N&&(c=e._component=null),(S||1===t)&&(c&&(c._component=null),E=C(c,s,g,n||!x,S&&S.parentNode,!0));if(S&&E!==S&&u!==M){var P=S.parentNode;P&&E!==P&&(P.replaceChild(E,S),N||(S._component=null,T(S)))}if(N&&I(N,E!==S),e.base=E,E&&!o){for(var R=e,j=e;j=j._parentComponent;)(R=j).base=E;E._component=R,E._componentConstructor=R.constructor}}!x||n?K.unshift(e):l||(e.componentDidUpdate&&e.componentDidUpdate(v,y,b),H.afterUpdate&&H.afterUpdate(e));var q,z=e._renderCallbacks;if(z)for(;q=z.pop();)q.call(e);Z||o||k()}}function P(e,t,n,r){for(var i=e&&e._component,o=i,a=e,l=i&&e._componentConstructor===t.nodeName,s=l,u=m(t);i&&!s&&(i=i._parentComponent);)s=i.constructor===t.nodeName;return i&&s&&(!r||i._component)?(O(i,u,3,n,r),e=i.base):(o&&!l&&(I(o,!0),e=a=null),i=A(t.nodeName,u,n),e&&!i.nextBase&&(i.nextBase=e,a=null),O(i,u,1,n,r),e=i.base,a&&e!==a&&(a._component=null,T(a))),e}function I(e,t){H.beforeUnmount&&H.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;if(r)I(r,t);else if(n){n[G]&&n[G].ref&&n[G].ref(null),e.nextBase=n,t&&(y(n),_(e));for(var i;i=n.lastChild;)T(i,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function R(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function j(e,t,n){return C(n,e,{},!1,t)}var H={},q=[],z=[],F={},W=function(e){return F[e]||(F[e]=e.toLowerCase())},B="undefined"!=typeof Promise&&Promise.resolve(),U=B?function(e){B.then(e)}:setTimeout,V={},G="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Y={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},X={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},J=[],$={},K=[],Z=0,Q=!1,ee=!1,te={};r(R.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=c(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i(n)),r(n,a(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),d(this)},forceUpdate:function(){D(this,2)},render:function(){}}),e.h=n,e.cloneElement=u,e.Component=R,e.render=j,e.rerender=f,e.options=H})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.id=t.id||(0,a.default)(),this.key=t.key||"new",this.type=t.type||"",this.defaultValue=t.defaultValue||"",this.limitMin=t.limitMin||"",this.limitMax=t.limitMax||"",this.isRequired=t.isRequired||!1,this.isAutoGenerated=t.isAutoGenerated||!1,this.isSystem=t.isSystem||!1,this.description=t.description||""}return i(e,[{key:"copy",get:function(){return new e(JSON.parse(JSON.stringify(this)))}}]),e}();t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NONE:"",STRING:"String",ID:"ID",INT:"Int",FLOAT:"Float",BOOLEAN:"Boolean",PASSWORD:"Password",EMAIL:"Email",URL:"URL",DATE:"Datetime",LATLNG:"LatLng",ENUM:"Enum",OBJECT:"Ojbect",ARRAY:"Array"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){localStorage.setItem(p,e)}function o(e){localStorage.setItem(h,e)}function a(){document.getElementById("svg-style-node-color").setAttribute("value",localStorage.getItem(g)||""),document.getElementById("svg-style-edge-color").setAttribute("value",localStorage.getItem(v)||"")}Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),s=r(l),u=n(14),c=r(u),d=n(2),f=r(d),p="nma.grad3ph.svg.style.path.stroke.dasharray",h="nma.grad3ph.svg.style.path.stroke.dasharray.id",g="nma.grad3ph.svg.style.node.color",v="nma.grad3ph.svg.style.edge.color",m={getPathStrokeDasharray:function(){return localStorage.getItem(p)||"none"},getBtnId:function(){return localStorage.getItem(h)||"svg-style-relation"},getNodeColor:function(){return localStorage.getItem(g)},getEdgeColor:function(){return localStorage.getItem(v)},localStorageColor:function(){localStorage.setItem(g,document.getElementById("svg-style-node-color").value),localStorage.setItem(v,document.getElementById("svg-style-edge-color").value)},style:function(e){if(null!==document.getElementById("overlay-operation-dialog-body-span-id"))s.default.open(!1,f.default.MENU_SVG_STYLE);else switch(document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").remove(),(0,c.default)(),e){case f.default.SVG_STYLE_RELATION:i("none"),o("svg-style-relation"),document.querySelector(".dialog .header .svg-style-relation").style.background="#bbb",document.querySelector(".dialog .header .svg-style-type-links").style.removeProperty("background"),document.querySelector(".dialog .header .svg-style-meta-relation").style.removeProperty("background"),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",y()+w()),a();break;case f.default.SVG_STYLE_TYPE_LINKS:i("2 5"),o("svg-style-type-links"),document.querySelector(".dialog .header .svg-style-type-links").style.background="#bbb",document.querySelector(".dialog .header .svg-style-relation").style.removeProperty("background"),document.querySelector(".dialog .header .svg-style-meta-relation").style.removeProperty("background"),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",b()+w()),a();break;case f.default.SVG_STYLE_META_RELATION:i("15 5"),o("svg-style-meta-relation"),document.querySelector(".dialog .header .svg-style-meta-relation").style.background="#bbb",document.querySelector(".dialog .header .svg-style-relation").style.removeProperty("background"),document.querySelector(".dialog .header .svg-style-type-links").style.removeProperty("background"),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",x()+w()),a()}}},y=function(){return'\n   <div style="position:relative;">\n    <div>Relation</div>\n    <svg>\n      <polyline\n        class="shap"\n        points="20,20 40,25 60,40 80,120 120,140 200,180"\n        stroke-dasharray="none"\n        style="fill:none;stroke:#db1212;stroke-width:2.05px;"\n      />\n    </svg>\n  </div>'},b=function(){return'\n   <div style="position:relative;">\n    <div>Type Links</div>\n    <svg>\n      <polyline\n        class="shap"\n        points="20,20 40,25 60,40 80,120 120,140 200,180"\n        stroke-dasharray="2 5"\n        style="fill:none;stroke:#db1212;stroke-width:2.05px;"\n      />\n    </svg>\n  </div>'},x=function(){return'\n   <div style="position:relative;">\n    <div>Meta Relation</div>\n    <svg>\n      <polyline\n        class="shap"\n        points="20,20 40,25 60,40 80,120 120,140 200,180"\n        stroke-dasharray="15 5"\n        style="fill:none;stroke:#db1212;stroke-width:2.05px;"\n      />\n    </svg>\n  </div>'},w=function(){return'\n  <div>\n    <span>Node:</span>\n    <input id="svg-style-node-color" type="text" maxlength="20" placeholder="#FF4040 (Eg. Color)" value="">\n    <span>Edge:</span>\n    <input id="svg-style-edge-color" type="text" maxlength="20" placeholder="#FF4040 (Eg. Color)" value="">\n    <button class="svg-style-color-refresh left">Refresh</button>\n  </div>\n'};t.default=m},function(e,t,n){"use strict";function r(){return(0,o.default)(".overlay-dialog.opened .dialog .body","span","overlay-operation-dialog-body-span-id","overlay-operation-dialog-body-span")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(e){var t;try{t=e.activeElement}catch(n){t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function l(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function s(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function u(e){return e.display.wrapper.ownerDocument}function c(e){return u(e).defaultView}function d(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function f(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function p(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf("\t",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}}function h(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function g(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function v(e){for(;Ka.length<=e;)Ka.push(m(Ka)+" ");return Ka[e]}function m(e){return e[e.length-1]}function y(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function b(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function x(){}function w(e,t){var n;return Object.create?n=Object.create(e):(x.prototype=e,n=new x),t&&f(t,n),n}function S(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Za.test(e))}function M(e,t){return t?!!(t.source.indexOf("\\w")>-1&&S(e))||t.test(e):S(e)}function k(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Qa.test(e)}function N(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function E(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function T(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function L(e,t,n){var r;el=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:el=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:el=i)}return null!=r?r:el}function _(e,t){var n=e.order;return null==n&&(n=e.order=tl(e.text,t)),n}function A(e,t){return e._handlers&&e._handlers[t]||nl}function O(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=h(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function D(e,t){var n=A(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function P(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),D(e,n||t.type,e,t),z(t)||t.codemirrorIgnore}function I(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==h(n,t[r])&&n.push(t[r])}function R(e,t){return A(e,t).length>0}function j(e){e.prototype.on=function(e,t){rl(this,e,t)},e.prototype.off=function(e,t){O(this,e,t)}}function H(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function q(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function z(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function F(e){H(e),q(e)}function W(e){return e.target||e.srcElement}function B(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Pa&&e.ctrlKey&&1==t&&(t=3),t}function U(e){if(null==Ua){var t=r("span","");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ua=t.offsetWidth<=1&&t.offsetHeight>2&&!(wa&&Sa<8))}var i=Ua?r("span",""):r("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function V(e){if(null!=Va)return Va;var r=n(e,document.createTextNode("AA")),i=Ha(r,0,1).getBoundingClientRect(),o=Ha(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Va=o.right-i.right<3)}function G(e){if(null!=sl)return sl;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Ha(t,0,1).getBoundingClientRect();return sl=Math.abs(i.left-o.left)>1}function Y(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ul[e]=t}function X(e,t){cl[e]=t}function J(e){if("string"==typeof e&&cl.hasOwnProperty(e))e=cl[e];else if(e&&"string"==typeof e.name&&cl.hasOwnProperty(e.name)){var t=cl[e.name];"string"==typeof t&&(t={name:t}),e=w(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return J("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return J("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function $(e,t){t=J(t);var n=ul[t.name];if(!n)return $(e,"text/plain");var r=n(e,t);if(dl.hasOwnProperty(t.name)){var i=dl[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function K(e,t){f(t,dl.hasOwnProperty(e)?dl[e]:dl[e]={})}function Z(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Q(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function ee(e,t,n){return!e.startState||e.startState(t,n)}function te(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ne(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function re(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ie(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function oe(e){if(null==e.parent)return null;for(var t=e.parent,n=h(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function ae(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a],s=l.height;if(t<s)break;t-=s}return n+a}function le(e,t){return t>=e.first&&t<e.first+e.size}function se(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ue(e,t,n){if(void 0===n&&(n=null),!(this instanceof ue))return new ue(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ce(e,t){return e.line-t.line||e.ch-t.ch}function de(e,t){return e.sticky==t.sticky&&0==ce(e,t)}function fe(e){return ue(e.line,e.ch)}function pe(e,t){return ce(e,t)<0?t:e}function he(e,t){return ce(e,t)<0?e:t}function ge(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ve(e,t){if(t.line<e.first)return ue(e.first,0);var n=e.first+e.size-1;return t.line>n?ue(n,te(e,n).text.length):me(t,te(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?ue(e.line,t):n<0?ue(e.line,0):e}function ye(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ve(e,t[r]);return n}function be(e,t,n,r){var i=[e.state.modeGen],o={};Ee(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,l=0;l<e.state.overlays.length;++l)!function(r){n.baseTokens=i;var l=e.state.overlays[r],s=1,u=0;n.state=!0,Ee(e,t.text,l.mode,n,function(e,t){for(var n=s;u<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,u=Math.min(e,r)}if(t)if(l.opaque)i.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function xe(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=we(e,oe(t)),i=t.text.length>e.options.maxHighlightLength&&Z(e.doc.mode,r.state),o=be(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function we(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new hl(r,!0,t);var o=Te(e,t,n),a=o>r.first&&te(r,o-1).stateAfter,l=a?hl.fromSaved(r,a,o):new hl(r,ee(r.mode),o);return r.iter(o,t,function(n){Se(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?l.save():null,l.nextLine()}),n&&(r.modeFrontier=l.line),l}function Se(e,t,n,r){var i=e.doc.mode,o=new fl(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Me(i,n.state);!o.eol();)ke(i,o,n.state),o.start=o.pos}function Me(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Q(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ke(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Q(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ce(e,t,n,r){var i,o=e.doc,a=o.mode;t=ve(o,t);var l,s=te(o,t.line),u=we(e,t.line,n),c=new fl(s.text,e.options.tabSize,u);for(r&&(l=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=ke(a,c,u.state),r&&l.push(new gl(c,i,Z(o.mode,u.state)));return r?l:new gl(c,i,u.state)}function Ne(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Ee(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,c=null,d=new fl(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&Ne(Me(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&Se(e,t,r,d.pos),d.pos=t.length,s=null):s=Ne(ke(n,d,r.state,f),o),f){var p=f[0].name;p&&(s="m-"+(s?p+" "+s:p))}if(!l||c!=s){for(;u<d.start;)u=Math.min(d.start,u+5e3),i(u,c);c=s}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);i(h,c),u=h}}function Te(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=te(o,l-1),u=s.stateAfter;if(u&&(!n||l+(u instanceof pl?u.lookAhead:0)<=o.modeFrontier))return l;var c=p(s.text,null,e.options.tabSize);(null==i||r>c)&&(i=l-1,r=c)}return i}function Le(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=te(e,r).stateAfter;if(i&&(!(i instanceof pl)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function _e(){vl=!0}function Ae(){ml=!0}function Oe(e,t,n){this.marker=e,this.from=t,this.to=n}function De(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Pe(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ie(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Re(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(l||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Oe(a,o.from,s?null:o.to))}}return r}function je(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(l||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Oe(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}function He(e,t){if(t.full)return null;var n=le(e,t.from.line)&&te(e,t.from.line).markedSpans,r=le(e,t.to.line)&&te(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ce(t.from,t.to),l=Re(n,i,a),s=je(r,o,a),u=1==t.text.length,c=m(t.text).length+(u?i:0);if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null==f.to){var p=De(s,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(s)for(var h=0;h<s.length;++h){var g=s[h];if(null!=g.to&&(g.to+=c),null==g.from){var v=De(l,g.marker);v||(g.from=c,u&&(l||(l=[])).push(g))}else g.from+=c,u&&(l||(l=[])).push(g)}l&&(l=qe(l)),s&&s!=l&&(s=qe(s));var y=[l];if(!u){var b,x=t.text.length-2;if(x>0&&l)for(var w=0;w<l.length;++w)null==l[w].to&&(b||(b=[])).push(new Oe(l[w].marker,null,null));for(var S=0;S<x;++S)y.push(b);y.push(s)}return y}function qe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function ze(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=h(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var u=i[s];if(!(ce(u.to,l.from)<0||ce(u.from,l.to)>0)){var c=[s,1],d=ce(u.from,l.from),f=ce(u.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-3}}return i}function Fe(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function We(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Be(e){return e.inclusiveLeft?-1:0}function Ue(e){return e.inclusiveRight?1:0}function Ve(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ce(r.from,i.from)||Be(e)-Be(t);if(o)return-o;var a=ce(r.to,i.to)||Ue(e)-Ue(t);return a||t.id-e.id}function Ge(e,t){var n,r=ml&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ve(n,i.marker)<0)&&(n=i.marker);return n}function Ye(e){return Ge(e,!0)}function Xe(e){return Ge(e,!1)}function Je(e,t){var n,r=ml&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Ve(n,o.marker)<0)&&(n=o.marker)}return n}function $e(e,t,n,r,i){var o=te(e,t),a=ml&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),c=ce(u.from,n)||Be(s.marker)-Be(i),d=ce(u.to,r)||Ue(s.marker)-Ue(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ce(u.to,n)>=0:ce(u.to,n)>0)||c>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ce(u.from,r)<=0:ce(u.from,r)<0)))return!0}}}function Ke(e){for(var t;t=Ye(e);)e=t.find(-1,!0).line;return e}function Ze(e){for(var t;t=Xe(e);)e=t.find(1,!0).line;return e}function Qe(e){for(var t,n;t=Xe(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function et(e,t){var n=te(e,t),r=Ke(n);return n==r?t:oe(r)}function tt(e,t){if(t>e.lastLine())return t;var n,r=te(e,t);if(!nt(e,r))return t;for(;n=Xe(r);)r=n.find(1,!0).line;return oe(r)+1}function nt(e,t){var n=ml&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rt(e,t,r))return!0}}function rt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rt(e,r.line,De(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rt(e,t,i))return!0}function it(e){e=Ke(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;t+=l.height}return t}function ot(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Ye(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Xe(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function at(e){var t=e.display,n=e.doc;t.maxLine=te(n,n.first),t.maxLineLength=ot(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=ot(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function lt(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Fe(e),We(e,n);var i=r?r(e):1;i!=e.height&&ie(e,i)}function st(e){e.parent=null,Fe(e)}function ut(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?wl:xl;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ct(e,t){var n=i("span",null,null,Ma?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,l=void 0;r.pos=0,r.addToken=ft,V(e.display.measure)&&(l=_(a,e.doc.direction))&&(r.addToken=ht(r.addToken,l)),r.map=[];vt(a,r,xe(e,a,t!=e.display.externalMeasured&&oe(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=s(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=s(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(U(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Ma){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return D(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=s(r.pre.className,r.textClass||"")),r}function dt(e){var t=r("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ft(e,t,n,i,o,a,l){if(t){var s,u=e.splitSpaces?pt(t,e.trailingSpace):t,c=e.cm.state.specialChars,d=!1;if(c.test(t)){s=document.createDocumentFragment();for(var f=0;;){c.lastIndex=f;var p=c.exec(t),h=p?p.index-f:t.length-f;if(h){var g=document.createTextNode(u.slice(f,f+h));wa&&Sa<9?s.appendChild(r("span",[g])):s.appendChild(g),e.map.push(e.pos,e.pos+h,g),e.col+=h,e.pos+=h}if(!p)break;f+=h+1;var m=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=s.appendChild(r("span",v(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?(m=s.appendChild(r("span","\r"==p[0]?"":"","cm-invalidchar")),m.setAttribute("cm-text",p[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(p[0]),m.setAttribute("cm-text",p[0]),wa&&Sa<9?s.appendChild(r("span",[m])):s.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,s=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,s),wa&&Sa<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||o||d||a||l){var x=n||"";i&&(x+=i),o&&(x+=o);var w=r("span",[s],x,a);if(l)for(var S in l)l.hasOwnProperty(S)&&"style"!=S&&"class"!=S&&w.setAttribute(S,l[S]);return e.content.appendChild(w)}e.content.appendChild(s)}}function pt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}function ht(e,t){return function(n,r,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,f=0;f<t.length&&(d=t[f],!(d.to>u&&d.from<=u));f++);if(d.to>=c)return e(n,r,i,o,a,l,s);e(n,r.slice(0,d.to-u),i,o,null,l,s),o=null,r=r.slice(d.to-u),u=d.to}}}function gt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function vt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,u,c,d,f,p=i.length,h=0,g=1,v="",m=0;;){if(m==h){s=u=c=l="",f=null,d=null,m=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],S=w.marker;if("bookmark"==S.type&&w.from==h&&S.widgetNode)y.push(S);else if(w.from<=h&&(null==w.to||w.to>h||S.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&m>w.to&&(m=w.to,u=""),S.className&&(s+=" "+S.className),S.css&&(l=(l?l+";":"")+S.css),S.startStyle&&w.from==h&&(c+=" "+S.startStyle),S.endStyle&&w.to==m&&(b||(b=[])).push(S.endStyle,w.to),S.title&&((f||(f={})).title=S.title),S.attributes)for(var M in S.attributes)(f||(f={}))[M]=S.attributes[M];S.collapsed&&(!d||Ve(d.marker,S)<0)&&(d=w)}else w.from>h&&m>w.from&&(m=w.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==m&&(u+=" "+b[k]);if(!d||d.from==h)for(var C=0;C<y.length;++C)gt(t,0,y[C]);if(d&&(d.from||0)==h){if(gt(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var N=Math.min(p,m);;){if(v){var E=h+v.length;if(!d){var T=E>N?v.slice(0,N-h):v;t.addToken(t,T,a?a+s:s,c,h+T.length==m?u:"",l,f)}if(E>=N){v=v.slice(N-h),h=N;break}h=E,c=""}v=i.slice(o,o=n[g++]),a=ut(n[g++],t.cm.options)}}else for(var L=1;L<n.length;L+=2)t.addToken(t,i.slice(o,o=n[L]),ut(n[L+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=Qe(t),this.size=this.rest?oe(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nt(e,t)}function yt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new mt(e.doc,te(e.doc,o),o);r=o+a.size,i.push(a)}return i}function bt(e){Sl?Sl.ops.push(e):e.ownsGroup=Sl={ops:[e],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function wt(e,t){var n=e.ownsGroup;if(n)try{xt(n)}finally{Sl=null,t(n)}}function St(e,t){var n=A(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Sl?r=Sl.delayedCallbacks:Ml?r=Ml:(r=Ml=[],setTimeout(Mt,0));for(var o=0;o<n.length;++o)!function(e){r.push(function(){return n[e].apply(null,i)})}(o)}}function Mt(){var e=Ml;Ml=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Tt(e,t):"gutter"==o?_t(e,t,n,r):"class"==o?Lt(e,t):"widget"==o&&At(e,t,r)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),wa&&Sa<8&&(e.node.style.zIndex=2)),e.node}function Nt(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Ct(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Et(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ct(e,t)}function Tt(e,t){var n=t.text.className,r=Et(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Lt(e,t)):n&&(t.text.className=n)}function Lt(e,t){Nt(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function _t(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var l=Ct(t),s=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),l.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(r("div",se(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.display.gutterSpecs.length;++u){var c=e.display.gutterSpecs[u].className,d=a.hasOwnProperty(c)&&a[c];d&&s.appendChild(r("div",[d],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function At(t,n,r){n.alignable&&(n.alignable=null);for(var i=e("CodeMirror-linewidget"),o=n.node.firstChild,a=void 0;o;o=a)a=o.nextSibling,i.test(o.className)&&n.node.removeChild(o);Dt(t,n,r)}function Ot(e,t,n,r){var i=Et(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Lt(e,t),_t(e,t,n,r),Dt(e,t,r),t.node}function Dt(e,t,n){if(Pt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Pt(e,t.rest[r],t,n,!1)}function Pt(e,t,n,i,o){if(t.widgets)for(var a=Ct(n),l=0,s=t.widgets;l<s.length;++l){var u=s[l],c=r("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),It(u,c,n,i),e.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),St(u,"redraw")}}function It(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Rt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function jt(e,t){for(var n=W(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ht(e){return e.lineSpace.offsetTop}function qt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Ft(e){return Ga-e.display.nativeBarWidth}function Wt(e){return e.display.scroller.clientWidth-Ft(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-Ft(e)-e.display.barHeight}function Ut(e,t,n){var r=e.options.lineWrapping,i=r&&Wt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Vt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(oe(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Gt(e,t){t=Ke(t);var r=oe(t),i=e.display.externalMeasured=new mt(e.doc,t,r);i.lineN=r;var o=i.built=ct(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Yt(e,t,n,r){return $t(e,Jt(e,t),n,r)}function Xt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Tn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Jt(e,t){var n=oe(t),r=Xt(e,n);r&&!r.text?r=null:r&&r.changes&&(kt(e,r,n,Mn(e)),e.curOp.forceUpdate=!0),r||(r=Gt(e,t));var i=Vt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function $t(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ut(e,t.view,t.rect),t.hasHeights=!0),o=Qt(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Kt(e,t,n){for(var r,i,o,a,l,s,u=0;u<e.length;u+=3)if(l=e[u],s=e[u+1],t<l?(i=0,o=1,a="left"):t<s?(i=t-l,o=i+1):(u==e.length-3||t==s&&e[u+3]>t)&&(o=s-l,i=o-1,t>=s&&(a="right")),null!=i){if(r=e[u+2],l==s&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==s-l)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function Zt(e,t){var n=kl;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Qt(e,t,n,r){var i,o=Kt(t.map,n,r),a=o.node,l=o.start,s=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;l&&C(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+s<o.coverEnd&&C(t.line.text.charAt(o.coverStart+s));)++s;if(i=wa&&Sa<9&&0==l&&s==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Zt(Ha(a,l,s).getClientRects(),r),i.left||i.right||0==l)break;s=l,l-=1,u="right"}wa&&Sa<11&&(i=en(e.display.measure,i))}else{l>0&&(u=r="right");var d;i=e.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==r?d.length-1:0]:a.getBoundingClientRect()}if(wa&&Sa<9&&!l&&(!i||!i.left&&!i.right)){var f=a.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+Sn(e.display),top:f.top,bottom:f.bottom}:kl}for(var p=i.top-t.rect.top,h=i.bottom-t.rect.top,g=(p+h)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],x={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=p,x.rbottom=h),x}function en(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!G(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function tn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function nn(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)tn(e.display.view[n])}function rn(e){nn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function on(e){return Ca&&Oa?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function an(e){return Ca&&Oa?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function ln(e){var t=Ke(e),n=t.widgets,r=0;if(n)for(var i=0;i<n.length;++i)n[i].above&&(r+=Rt(n[i]));return r}function sn(e,t,n,r,i){if(!i){var o=ln(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=it(t);if("local"==r?a+=Ht(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:an(u(e)));var s=l.left+("window"==r?0:on(u(e)));n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function un(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=on(u(e)),i-=an(u(e));else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function cn(e,t,n,r,i){return r||(r=te(e.doc,t.line)),sn(e,r,Yt(e,r,t.ch,i),n)}function dn(e,t,n,r,i,o){function a(t,a){var l=$t(e,i,t,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,sn(e,r,l,n)}function l(e,t,n){var r=s[t],i=1==r.level;return a(n?e-1:e,i!=n)}r=r||te(e.doc,t.line),i||(i=Jt(e,r));var s=_(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!s)return a("before"==c?u-1:u,"before"==c);var d=L(s,u,c),f=el,p=l(u,d,"before"==c);return null!=f&&(p.other=l(u,f,"before"!=c)),p}function fn(e,t){var n=0;t=ve(e.doc,t),e.options.lineWrapping||(n=Sn(e.display)*t.ch);var r=te(e.doc,t.line),i=it(r)+Ht(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function pn(e,t,n,r,i){var o=ue(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function hn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return pn(r.first,0,null,-1,-1);var i=ae(r,n),o=r.first+r.size-1;if(i>o)return pn(r.first+r.size-1,te(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=te(r,i);;){var l=yn(e,a,i,t,n),s=Je(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var u=s.find(1);if(u.line==i)return u;a=te(r,i=u.line)}}function gn(e,t,n,r){r-=ln(t);var i=t.text.length,o=E(function(t){return $t(e,n,t-1).bottom<=r},i,0);return i=E(function(t){return $t(e,n,t).top>r},o,i),{begin:o,end:i}}function vn(e,t,n,r){return n||(n=Jt(e,t)),gn(e,t,n,sn(e,t,$t(e,n,r),"line").top)}function mn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function yn(e,t,n,r,i){i-=it(t);var o=Jt(e,t),a=ln(t),l=0,s=t.text.length,u=!0,c=_(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?xn:bn)(e,t,n,o,c,r,i);u=1!=d.level,l=u?d.from:d.to-1,s=u?d.to:d.from-1}var f,p,h=null,g=null,v=E(function(t){var n=$t(e,o,t);return n.top+=a,n.bottom+=a,!!mn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,g=n),!0)},l,s),m=!1;if(g){var y=r-g.left<g.right-r,b=y==u;v=h+(b?0:1),p=b?"after":"before",f=y?g.left:g.right}else{u||v!=s&&v!=l||v++,p=0==v?"after":v==t.text.length?"before":$t(e,o,v-(u?1:0)).bottom+a<=i==u?"after":"before";var x=dn(e,ue(n,v,p),"line",t,o);f=x.left,m=i<x.top?-1:i>=x.bottom?1:0}return v=N(t.text,v,1),pn(n,v,p,m,r-f)}function bn(e,t,n,r,i,o,a){var l=E(function(l){var s=i[l],u=1!=s.level;return mn(dn(e,ue(n,u?s.to:s.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),s=i[l];if(l>0){var u=1!=s.level,c=dn(e,ue(n,u?s.from:s.to,u?"after":"before"),"line",t,r);mn(c,o,a,!0)&&c.top>a&&(s=i[l-1])}return s}function xn(e,t,n,r,i,o,a){var l=gn(e,t,r,a),s=l.begin,u=l.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var p=i[f];if(!(p.from>=u||p.to<=s)){var h=1!=p.level,g=$t(e,r,h?Math.min(u,p.to)-1:Math.max(s,p.from)).right,v=g<o?o-g+1e9:g-o;(!c||d>v)&&(c=p,d=v)}}return c||(c=i[i.length-1]),c.from<s&&(c={from:s,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function wn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bl){bl=r("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)bl.appendChild(document.createTextNode("x")),bl.appendChild(r("br"));bl.appendChild(document.createTextNode("x"))}n(e.measure,bl);var o=bl.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function Sn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t],"CodeMirror-line-like");n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function Mn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=o.offsetLeft+o.clientLeft+i,r[l]=o.clientWidth}return{fixedPos:kn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function kn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=wn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Sn(e.display)-3);return function(i){if(nt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Nn(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&ie(e,t)})}function En(e,t,n,r){var i=e.display;if(!n&&"true"==W(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(e){return null}var s,u=hn(e,o,a);if(r&&u.xRel>0&&(s=te(e.doc,u.line).text).length==u.ch){var c=p(s,s.length,e.options.tabSize)-s.length;u=ue(u.line,Math.max(0,Math.round((o-zt(e.display).left)/Sn(e.display))-c))}return u}function Tn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Ln(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ml&&et(e.doc,t)<i.viewTo&&An(e);else if(n<=i.viewFrom)ml&&tt(e.doc,n+r)>i.viewFrom?An(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)An(e);else if(t<=i.viewFrom){var o=On(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):An(e)}else if(n>=i.viewTo){var a=On(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):An(e)}else{var l=On(e,t,t,-1),s=On(e,n,n+r,1);l&&s?(i.view=i.view.slice(0,l.index).concat(yt(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):An(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function _n(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Tn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==h(a,n)&&a.push(n)}}}function An(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function On(e,t,n,r){var i,o=Tn(e,t),a=e.display.view;if(!ml||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;et(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Dn(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=yt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=yt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Tn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(yt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Tn(e,n)))),r.viewTo=n}function Pn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function In(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Rn(e,t){void 0===t&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var l=0;l<n.sel.ranges.length;l++)if(t||l!=n.sel.primIndex){var s=n.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();if(a){var c=a(e,s);c&&jn(e,c,i)}else(u||e.options.showCursorWhenSelecting)&&jn(e,s.head,i);u||qn(e,s,o)}}return r}function jn(e,t,n){var i=dn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var a=cn(e,t,"div",null,null),l=a.right-a.left;o.style.width=(l>0?l:e.defaultCharWidth())+"px"}if(i.other){var s=n.appendChild(r("div","","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Hn(e,t){return e.top-t.top||e.left-t.left}function qn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),s.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?d-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return cn(e,ue(t,n),"div",p,r)}function a(t,n,r){var i=vn(e,p,null,t),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(p.text.charAt(i.end-1))?2:1),a)[a]}var s,u,p=te(l,t),h=p.text.length,g=_(p,l.direction);return T(g,n||0,null==r?h:r,function(e,t,l,p){var v="ltr"==l,m=o(e,v?"left":"right"),y=o(t-1,v?"right":"left"),b=null==n&&0==e,x=null==r&&t==h,w=0==p,S=!g||p==g.length-1;if(y.top-m.top<=3){var M=(f?b:x)&&w,k=(f?x:b)&&S,C=M?c:(v?m:y).left,N=k?d:(v?y:m).right;i(C,m.top,N-C,m.bottom)}else{var E,T,L,_;v?(E=f&&b&&w?c:m.left,T=f?d:a(e,l,"before"),L=f?c:a(t,l,"after"),_=f&&x&&S?d:y.right):(E=f?a(e,l,"before"):c,T=!f&&b&&w?d:m.right,L=!f&&x&&S?c:y.left,_=f?a(t,l,"after"):d),i(E,m.top,T-E,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(L,y.top,_-L,y.bottom)}(!s||Hn(m,s)<0)&&(s=m),Hn(y,s)<0&&(s=y),(!u||Hn(m,u)<0)&&(u=m),Hn(y,u)<0&&(u=y)}),{start:s,end:u}}var a=e.display,l=e.doc,s=document.createDocumentFragment(),u=zt(e.display),c=u.left,d=Math.max(a.sizerWidth,Wt(e)-a.sizer.offsetLeft)-u.right,f="ltr"==l.direction,p=t.from(),h=t.to();if(p.line==h.line)o(p.line,p.ch,h.ch);else{var g=te(l,p.line),v=te(l,h.line),m=Ke(g)==Ke(v),y=o(p.line,p.ch,m?g.text.length+1:null).end,b=o(h.line,m?0:null,h.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(s)}function zn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Un(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fn(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Bn(e))}function Wn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Un(e))},100)}function Bn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(D(e,"focus",e,t),e.state.focused=!0,l(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Ma&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),zn(e))}function Un(e,t){e.state.delayingBlurEvent||(e.state.focused&&(D(e,"blur",e,t),e.state.focused=!1,Fa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Vn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,a=0;a<t.view.length;a++){var l=t.view[a],s=e.options.lineWrapping,u=void 0,c=0;if(!l.hidden){if(i+=l.line.height,wa&&Sa<8){var d=l.node.offsetTop+l.node.offsetHeight;u=d-n,n=d}else{var f=l.node.getBoundingClientRect();u=f.bottom-f.top,!s&&l.text.firstChild&&(c=l.text.firstChild.getBoundingClientRect().right-f.left-1)}var p=l.line.height-u;if((p>.005||p<-.005)&&(i<r&&(o-=p),ie(l.line,u),Gn(l.line),l.rest))for(var h=0;h<l.rest.length;h++)Gn(l.rest[h]);if(c>e.display.sizerWidth){var g=Math.ceil(c/Sn(e.display));g>e.display.maxLineLength&&(e.display.maxLineLength=g,e.display.maxLine=l.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function Gn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Yn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ht(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=ae(t,r),a=ae(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?(o=l,a=ae(t,it(te(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=ae(t,it(te(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function Xn(e,t){if(!P(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null,a=n.wrapper.ownerDocument;if(t.top+i.top<0?o=!0:t.bottom+i.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(o=!1),null!=o&&!_a){var l=r("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Ht(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ft(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Jn(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(n="before"==t.sticky?ue(t.line,t.ch+1,"before"):t,t=t.ch?ue(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,l=dn(e,t),s=n&&n!=t?dn(e,n):l;i={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r};var u=Kn(e,i),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(ir(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(ar(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function $n(e,t){var n=Kn(e,t);null!=n.scrollTop&&ir(e,n.scrollTop),null!=n.scrollLeft&&ar(e,n.scrollLeft)}function Kn(e,t){var n=e.display,r=wn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Bt(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+qt(n),s=t.top<r,u=t.bottom>l-r;if(t.top<i)a.scrollTop=s?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?l:t.bottom)-o);c!=i&&(a.scrollTop=c)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Wt(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function Zn(e,t){null!=t&&(nr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Qn(e){nr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function er(e,t,n){null==t&&null==n||nr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function tr(e,t){nr(e),e.curOp.scrollToPos=t}function nr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;rr(e,fn(e,t.from),fn(e,t.to),t.margin)}}function rr(e,t,n,r){var i=Kn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});er(e,i.scrollLeft,i.scrollTop)}function ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(ma||_r(e,{top:t}),or(e,t,!0),ma&&_r(e),Mr(e,100))}function or(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ar(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Pr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function lr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ft(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function sr(e,t){t||(t=lr(e));var n=e.display.barWidth,r=e.display.barHeight;ur(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Vn(e),ur(e,lr(e)),n=e.display.barWidth,r=e.display.barHeight}function ur(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function cr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Fa(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new El[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),rl(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ar(e,t):ir(e,t)},e),e.display.scrollbars.addClass&&l(e.display.wrapper,e.display.scrollbars.addClass)}function dr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tl,markArrays:null},bt(e.curOp)}function fr(e){var t=e.curOp;t&&wt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;pr(e)})}function pr(e){for(var t=e.ops,n=0;n<t.length;n++)hr(t[n]);for(var r=0;r<t.length;r++)gr(t[r]);for(var i=0;i<t.length;i++)vr(t[i]);for(var o=0;o<t.length;o++)mr(t[o]);for(var a=0;a<t.length;a++)yr(t[a])}function hr(e){var t=e.cm,n=t.display;Cr(t),e.updateMaxLine&&at(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ll(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function gr(e){e.updatedDisplay=e.mustUpdate&&Tr(e.cm,e.update)}function vr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Vn(t),e.barMeasure=lr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Yt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ft(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Wt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function mr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ar(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a(u(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&sr(t,e.barMeasure),e.updatedDisplay&&Dr(t,e.barMeasure),e.selectionChanged&&zn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Fn(e.cm)}function yr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Lr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&or(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ar(t,e.scrollLeft,!0,!0),e.scrollToPos){Xn(t,Jn(t,ve(r,e.scrollToPos.from),ve(r,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||D(i[a],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&D(o[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&D(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function br(e,t){if(e.curOp)return t();dr(e);try{return t()}finally{fr(e)}}function xr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);dr(e);try{return t.apply(e,arguments)}finally{fr(e)}}}function wr(e){return function(){if(this.curOp)return e.apply(this,arguments);dr(this);try{return e.apply(this,arguments)}finally{fr(this)}}}function Sr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);dr(t);try{return e.apply(this,arguments)}finally{fr(t)}}}function Mr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,d(kr,e))}function kr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=we(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength?Z(t.mode,r.state):null,s=be(e,o,r,!0);l&&(r.state=l),o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Se(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Mr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&br(e,function(){for(var t=0;t<i.length;t++)_n(e,i[t],"text")})}}function Cr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ft(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ft(e)+"px",t.scrollbarsClipped=!0)}function Nr(e){if(e.hasFocus())return null;var t=a(u(e));if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=c(e).getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Er(e){if(e&&e.activeElt&&e.activeElt!=a(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Tr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return An(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Pn(e))return!1;Ir(e)&&(An(e),n.dims=Mn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),l=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(o,r.viewTo)),ml&&(a=et(e.doc,a),l=tt(e.doc,l));var s=a!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;Dn(e,a,l),r.viewOffset=it(te(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Pn(e);if(!s&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Nr(e);return u>4&&(r.lineDiv.style.display="none"),Ar(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Er(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,Mr(e,400)),r.updateLineNumbers=null,!0}function Lr(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Wt(e))r&&(t.visible=Yn(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qt(e.display)-Bt(e),n.top)}),t.visible=Yn(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Tr(e,t))break;Vn(e);var i=lr(e);In(e),sr(e,i),Dr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function _r(e,t){var n=new Ll(e,t);if(Tr(e,n)){Vn(e),Lr(e,n);var r=lr(e);In(e),sr(e,r),Dr(e,r),n.finish()}}function Ar(e,n,r){function i(t){var n=t.nextSibling;return Ma&&Pa&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,l=o.lineDiv,s=l.firstChild,u=o.view,c=o.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==l){for(;s!=f.node;)s=i(s);var p=a&&null!=n&&n<=c&&f.lineNumber;f.changes&&(h(f.changes,"gutter")>-1&&(p=!1),kt(e,f,c,r)),p&&(t(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(se(e.options,c)))),s=f.node.nextSibling}else{var g=Ot(e,f,c,r);l.insertBefore(g,s)}c+=f.size}for(;s;)s=i(s)}function Or(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",St(e,"gutterChanged",e)}function Dr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ft(e)+"px"}function Pr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=kn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Ir(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=se(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,l=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-l)+1,i.lineNumWidth=i.lineNumInnerWidth+l,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Or(e.display),!0}return!1}function Rr(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function jr(e){var n=e.gutters,i=e.gutterSpecs;t(n),e.lineGutter=null;for(var o=0;o<i.length;++o){var a=i[o],l=a.className,s=a.style,u=n.appendChild(r("div",null,"CodeMirror-gutter "+l));s&&(u.style.cssText=s),"CodeMirror-linenumbers"==l&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}n.style.display=i.length?"":"none",Or(e)}function Hr(e){jr(e.display),Ln(e),Pr(e)}function qr(e,t,n,o){var a=this;this.input=n,a.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=i("div",null,"CodeMirror-code"),a.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=r("div",null,"CodeMirror-cursors"),a.measure=r("div",null,"CodeMirror-measure"),a.lineMeasure=r("div",null,"CodeMirror-measure"),a.lineSpace=i("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var l=i("div",[a.lineSpace],"CodeMirror-lines");a.mover=r("div",[l],null,"position: relative"),a.sizer=r("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=r("div",null,null,"position: absolute; height: "+Ga+"px; width: 1px;"),a.gutters=r("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=r("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=r("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),Ca&&Na>=105&&(a.wrapper.style.clipPath="inset(0px)"),a.wrapper.setAttribute("translate","no"),wa&&Sa<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),Ma||ma&&Da||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Rr(o.gutters,o.lineNumbers),jr(a),n.init(a)}function zr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Fr(e){var t=zr(e);return t.x*=Al,t.y*=Al,t}function Wr(e,t){Ca&&102==Na&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var n=zr(t),r=n.x,i=n.y,o=Al;0===t.deltaMode&&(r=t.deltaX,i=t.deltaY,o=1);var a=e.display,l=a.scroller,s=l.scrollWidth>l.clientWidth,u=l.scrollHeight>l.clientHeight;if(r&&s||i&&u){if(i&&Pa&&Ma)e:for(var c=t.target,d=a.view;c!=l;c=c.parentNode)for(var f=0;f<d.length;f++)if(d[f].node==c){e.display.currentWheelTarget=c;break e}if(r&&!ma&&!Ea&&null!=o)return i&&u&&ir(e,Math.max(0,l.scrollTop+i*o)),ar(e,Math.max(0,l.scrollLeft+r*o)),(!i||i&&u)&&H(t),void(a.wheelStartX=null);if(i&&null!=o){var p=i*o,h=e.doc.scrollTop,g=h+a.wrapper.clientHeight;p<0?h=Math.max(0,h+p-50):g=Math.min(e.doc.height,g+p+50),_r(e,{top:h,bottom:g})}_l<20&&0!==t.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=r,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Al=(Al*_l+n)/(_l+1),++_l)}},200)):(a.wheelDX+=r,a.wheelDY+=i))}}function Br(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return ce(e.from(),t.from())}),n=h(t,i);for(var o=1;o<t.length;o++){var a=t[o],l=t[o-1],s=ce(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var u=he(l.from(),a.from()),c=pe(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;o<=n&&--n,t.splice(--o,2,new Dl(d?c:u,d?u:c))}}return new Ol(t,n)}function Ur(e,t){return new Ol([new Dl(e,t||e)],0)}function Vr(e){return e.text?ue(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Gr(e,t){if(ce(e,t.from)<0)return e;if(ce(e,t.to)<=0)return Vr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Vr(t).ch-t.to.ch),ue(n,r)}function Yr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Dl(Gr(i.anchor,t),Gr(i.head,t)))}return Br(e.cm,n,e.sel.primIndex)}function Xr(e,t,n){return e.line==t.line?ue(n.line,e.ch-t.ch+n.ch):ue(n.line+(e.line-t.line),e.ch)}function Jr(e,t,n){for(var r=[],i=ue(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=Xr(l.from,i,o),u=Xr(Vr(l),i,o);if(i=l.to,o=u,"around"==n){var c=e.sel.ranges[a],d=ce(c.head,c.anchor)<0;r[a]=new Dl(d?u:s,d?s:u)}else r[a]=new Dl(s,s)}return new Ol(r,e.sel.primIndex)}function $r(e){e.doc.mode=$(e.options,e.doc.modeOption),Kr(e)}function Kr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Mr(e,100),e.state.modeGen++,e.curOp&&Ln(e)}function Zr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Qr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){lt(e,n,i,r),St(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new yl(u[o],i(o),r));return n}var l=t.from,s=t.to,u=t.text,c=te(e,l.line),d=te(e,s.line),f=m(u),p=i(u.length-1),h=s.line-l.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Zr(e,t)){var g=a(0,u.length-1);o(d,d.text,p),h&&e.remove(l.line,h),g.length&&e.insert(l.line,g)}else if(c==d)if(1==u.length)o(c,c.text.slice(0,l.ch)+f+c.text.slice(s.ch),p);else{var v=a(1,u.length-1);v.push(new yl(f+c.text.slice(s.ch),p,r)),o(c,c.text.slice(0,l.ch)+u[0],i(0)),e.insert(l.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,l.ch)+u[0]+d.text.slice(s.ch),i(0)),e.remove(l.line+1,h);else{o(c,c.text.slice(0,l.ch)+u[0],i(0)),o(d,f+d.text.slice(s.ch),p);var y=a(1,u.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,y)}St(e,"change",e,t)}function ei(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;n&&!s||(t(l.doc,s),r(l.doc,e,s))}}}r(e,null,!0)}function ti(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Nn(e),$r(e),ni(e),e.options.direction=t.direction,e.options.lineWrapping||at(e),e.options.mode=t.modeOption,Ln(e)}function ni(e){("rtl"==e.doc.direction?l:Fa)(e.display.lineDiv,"CodeMirror-rtl")}function ri(e){br(e,function(){ni(e),Ln(e)})}function ii(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function oi(e,t){var n={from:fe(t.from),to:Vr(t),text:ne(e,t.from,t.to)};return fi(e,n,t.from.line,t.to.line+1),ei(e,function(e){return fi(e,n,t.from.line,t.to.line+1)},!0),n}function ai(e){for(;e.length;){if(!m(e).ranges)break;e.pop()}}function li(e,t){return t?(ai(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function si(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,l=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=li(i,i.lastOp==r)))a=m(o.changes),0==ce(t.from,t.to)&&0==ce(t.from,a.to)?a.to=Vr(t):o.changes.push(oi(e,t));else{var s=m(i.done);for(s&&s.ranges||di(e.sel,i.done),o={changes:[oi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||D(e,"historyAdded")}function ui(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ci(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ui(e,o,m(i.done),t))?i.done[i.done.length-1]=t:di(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ai(i.undone)}function di(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function fi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function pi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function hi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(pi(n[i]));return r}function gi(e,t){var n=hi(e,t),r=He(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function vi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Ol.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var u=a[s],c=void 0;if(l.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(m(l)[d]=u[d],delete u[d])}}}return r}function mi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ce(t,i)<0;o!=ce(n,i)<0?(i=t,t=n):o!=ce(t,n)<0&&(t=n)}return new Dl(i,t)}return new Dl(n||t,t)}function yi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),ki(e,new Ol([mi(e.sel.primary(),t,n,i)],0),r)}function bi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=mi(e.sel.ranges[o],t[o],null,i);ki(e,Br(e.cm,r,e.sel.primIndex),n)}function xi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ki(e,Br(e.cm,i,e.sel.primIndex),r)}function wi(e,t,n,r){ki(e,Ur(t,n),r)}function Si(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Dl(ve(e,t[n].anchor),ve(e,t[n].head))},origin:n&&n.origin};return D(e,"beforeSelectionChange",e,r),e.cm&&D(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Br(e.cm,r.ranges,r.ranges.length-1):t}function Mi(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,Ci(e,t,n)):ki(e,t,n)}function ki(e,t,n){Ci(e,t,n),ci(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ci(e,t,n){(R(e,"beforeSelectionChange")||e.cm&&R(e.cm,"beforeSelectionChange"))&&(t=Si(e,t,n)),Ni(e,Ti(e,t,n&&n.bias||(ce(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Qn(e.cm)}function Ni(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,I(e.cm)),St(e,"cursorActivity",e))}function Ei(e){Ni(e,Ti(e,e.sel,null,!1))}function Ti(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=_i(e,a.anchor,l&&l.anchor,n,r),u=a.head==a.anchor?s:_i(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Dl(s,u))}return i?Br(e.cm,i,t.primIndex):t}function Li(e,t,n,r,i){var o=te(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker,u="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,c="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(u?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(c?l.to>=t.ch:l.to>t.ch))){if(i&&(D(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),f=void 0;if((r<0?c:u)&&(d=Ai(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=ce(d,n))&&(r<0?f<0:f>0))return Li(e,d,t,r,i)}var p=s.find(r<0?-1:1);return(r<0?u:c)&&(p=Ai(e,p,r,p.line==t.line?o:null)),p?Li(e,p,t,r,i):null}}return t}function _i(e,t,n,r,i){var o=r||1,a=Li(e,t,n,o,i)||!i&&Li(e,t,n,o,!0)||Li(e,t,n,-o,i)||!i&&Li(e,t,n,-o,!0);return a||(e.cantEdit=!0,ue(e.first,0))}function Ai(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ve(e,ue(t.line-1)):null:n>0&&t.ch==(r||te(e,t.line)).text.length?t.line<e.first+e.size-1?ue(t.line+1,0):null:new ue(t.line,t.ch+n)}function Oi(e){e.setSelection(ue(e.firstLine(),0),ue(e.lastLine()),Xa)}function Di(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ve(e,t)),n&&(r.to=ve(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),D(e,"beforeChange",e,r),e.cm&&D(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Pi(e,t,n){if(e.cm){if(!e.cm.curOp)return xr(e.cm,Pi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(R(e,"beforeChange")||e.cm&&R(e.cm,"beforeChange"))||(t=Di(e,t,!0))){var r=vl&&!n&&ze(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Ii(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Ii(e,t)}}function Ii(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ce(t.from,t.to)){var n=Yr(e,t);si(e,t,n,e.cm?e.cm.curOp.id:NaN),Hi(e,t,n,He(e,t));var r=[];ei(e,function(e,n){n||-1!=h(r,e.history)||(Bi(e.history,t),r.push(e.history)),Hi(e,t,null,He(e,t))})}}function Ri(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,l="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,u=0;u<l.length&&(i=l[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=l.pop(),!i.ranges){if(r)return void l.push(i);break}if(di(i,s),n&&!i.equals(e.sel))return void ki(e,i,{clearRedo:!1});a=i}var c=[];di(a,s),s.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=R(e,"beforeChange")||e.cm&&R(e.cm,"beforeChange"),f=i.changes.length-1;f>=0;--f){var p=function(n){var r=i.changes[n];if(r.origin=t,d&&!Di(e,r,!1))return l.length=0,{};c.push(oi(e,r));var o=n?Yr(e,r):m(l);Hi(e,r,o,gi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Vr(r)});var a=[];ei(e,function(e,t){t||-1!=h(a,e.history)||(Bi(e.history,r),a.push(e.history)),Hi(e,r,null,gi(e,r))})}(f);if(p)return p.v}}}}function ji(e,t){if(0!=t&&(e.first+=t,e.sel=new Ol(y(e.sel.ranges,function(e){return new Dl(ue(e.anchor.line+t,e.anchor.ch),ue(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Ln(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)_n(e.cm,r,"gutter")}}function Hi(e,t,n,r){if(e.cm&&!e.cm.curOp)return xr(e.cm,Hi)(e,t,n,r);if(t.to.line<e.first)return void ji(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ji(e,i),t={from:ue(e.first,0),to:ue(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ue(o,te(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ne(e,t.from,t.to),n||(n=Yr(e,t)),e.cm?qi(e.cm,t,r):Qr(e,t,r),Ci(e,n,Xa),e.cantEdit&&_i(e,ue(e.firstLine(),0))&&(e.cantEdit=!1)}}function qi(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=oe(Ke(te(r,o.line))),r.iter(s,a.line+1,function(e){if(e==i.maxLine)return l=!0,!0})),r.sel.contains(t.from,t.to)>-1&&I(e),Qr(r,t,n,Cn(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,function(e){var t=ot(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),Le(r,o.line),Mr(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Ln(e):o.line!=a.line||1!=t.text.length||Zr(e.doc,t)?Ln(e,o.line,a.line+1,u):_n(e,o.line,"text");var c=R(e,"changes"),d=R(e,"change");if(d||c){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&St(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function zi(e,t,n,r,i){var o;r||(r=n),ce(r,n)<0&&(o=[r,n],n=o[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Pi(e,{from:n,to:r,text:t,origin:i})}function Fi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Wi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var l=0;l<o.ranges.length;l++)Fi(o.ranges[l].anchor,t,n,r),Fi(o.ranges[l].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=ue(u.from.line+r,u.from.ch),u.to=ue(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Bi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Wi(e.done,n,r,i),Wi(e.undone,n,r,i)}function Ui(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=te(e,ge(e,t)):i=oe(t),null==i?null:(r(o,i)&&e.cm&&_n(e.cm,i,n),o)}function Vi(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function Gi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Yi(e,t,n){it(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Zn(e,n)}function Xi(e,t,n,r){var i=new Pl(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ui(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nt(e,t)){var r=it(t)<e.scrollTop;ie(t,t.height+Rt(i)),r&&Zn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&St(o,"lineWidgetAdded",o,i,"number"==typeof t?t:oe(t)),i}function Ji(e,t,n,r,o){if(r&&r.shared)return $i(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return xr(e.cm,Ji)(e,t,n,r,o);var a=new Rl(e,o),l=ce(t,n);if(r&&f(r,a,!1),l>0||0==l&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if($e(e,t.line,t,n,a)||t.line!=n.line&&$e(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ae()}a.addToHistory&&si(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,u=t.line,c=e.cm;if(e.iter(u,n.line+1,function(r){c&&a.collapsed&&!c.options.lineWrapping&&Ke(r)==c.display.maxLine&&(s=!0),a.collapsed&&u!=t.line&&ie(r,0),Ie(r,new Oe(a,u==t.line?t.ch:null,u==n.line?n.ch:null),e.cm&&e.cm.curOp),++u}),a.collapsed&&e.iter(t.line,n.line+1,function(t){nt(e,t)&&ie(t,0)}),a.clearOnEnter&&rl(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(_e(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Il,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)Ln(c,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var d=t.line;d<=n.line;d++)_n(c,d,"text");a.atomic&&Ei(c.doc),St(c,"markerAdded",c,a)}return a}function $i(e,t,n,r,i){r=f(r),r.shared=!1;var o=[Ji(e,t,n,r,i)],a=o[0],l=r.widgetNode;return ei(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),o.push(Ji(e,ve(e,t),ve(e,n),r,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=m(o)}),new jl(o,a)}function Ki(e){return e.findMarks(ue(e.first,0),e.clipPos(ue(e.lastLine())),function(e){return e.parent})}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ce(o,a)){var l=Ji(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function Qi(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],r=[n.primary.doc];ei(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==h(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}(t)}function eo(e){var t=this;if(ro(t),!P(t,e)&&!jt(t.display,e)){H(e),wa&&(zl=+new Date);var n=En(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&xr(t,function(){n=ve(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};Pi(t.doc,e),Mi(t.doc,Ur(ve(t.doc,n),ve(t.doc,Vr(e))))})()},s=0;s<r.length;s++)!function(e,n){if(t.options.allowDropFileTypes&&-1==h(t.options.allowDropFileTypes,e.type))return void l();var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e))return void l();o[n]=e,l()},r.readAsText(e)}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),Ci(t.doc,Ur(n,n)),c)for(var d=0;d<c.length;++d)zi(t.doc,"",c[d].anchor,c[d].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function to(e,t){if(wa&&(!e.state.draggingText||+new Date-zl<100))return void F(t);if(!P(e,t)&&!jt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ta)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ea&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ea&&n.parentNode.removeChild(n)}}function no(e,t){var i=En(e,t);if(i){var o=document.createDocumentFragment();jn(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function ro(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function io(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}function oo(){Fl||(ao(),Fl=!0)}function ao(){var e;rl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,io(lo)},100))}),rl(window,"blur",function(){return io(Un)})}function lo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function so(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function uo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=y(n.split(" "),so),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(" "),a=r):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function co(e,t,n,r){t=go(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return co(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=co(e,t.fallthrough[o],n,r);if(a)return a}}}function fo(e){var t="string"==typeof e?e:Wl[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function po(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(qa?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(qa?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function ho(e,t){if(Ea&&34==e.keyCode&&e.char)return!1;var n=Wl[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),po(n,e,t))}function go(e){return"string"==typeof e?Gl[e]:e}function vo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ce(o.from,m(r).to)<=0;){var a=r.pop();if(ce(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}br(e,function(){for(var t=r.length-1;t>=0;t--)zi(e.doc,"",r[t].from,r[t].to,"+delete");Qn(e)})}function mo(e,t,n){var r=N(e.text,t+n,n);return r<0||r>e.text.length?null:r}function yo(e,t,n){var r=mo(e,t.ch,n);return null==r?null:new ue(t.line,r,n<0?"after":"before")}function bo(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=_(n,t.doc.direction);if(o){var a,l=i<0?m(o):o[0],s=i<0==(1==l.level),u=s?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var c=Jt(t,n);a=i<0?n.text.length-1:0;var d=$t(t,c,a).top;a=E(function(e){return $t(t,c,e).top==d},i<0==(1==l.level)?l.from:l.to-1,a),"before"==u&&(a=mo(n,a,1))}else a=i<0?l.to:l.from;return new ue(r,a,u)}}return new ue(r,i<0?n.text.length:0,i<0?"before":"after")}function xo(e,t,n,r){var i=_(t,e.doc.direction);if(!i)return yo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=L(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return yo(t,n,r);var l,s=function(e,n){return mo(t,e instanceof ue?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(l=l||Jt(e,t),vn(e,t,l,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=s(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var p=d?"before":"after";return new ue(n.line,f,p)}}var h=function(e,t,r){for(var o=function(e,t){return t?new ue(n.line,s(e,1),"before"):new ue(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),u=l?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,l);if(u=l?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,l)}},g=h(o+r,r,c);if(g)return g;var v=r>0?c.end:s(c.begin,-1);return null==v||r>0&&v==t.text.length||!(g=h(r>0?0:i.length-1,r,u(v)))?null:g}function wo(e,t){var n=te(e.doc,t),r=Ke(n);return r!=n&&(t=oe(r)),bo(!0,e,r,t,1)}function So(e,t){var n=te(e.doc,t),r=Ze(n);return r!=n&&(t=oe(r)),bo(!0,e,n,t,-1)}function Mo(e,t){var n=wo(e,t.line),r=te(e.doc,n.line),i=_(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ue(n.line,a?0:o,n.sticky)}return n}function ko(e,t,n){if("string"==typeof t&&!(t=Yl[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ya}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Co(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=co(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&co(t,e.options.extraKeys,n,e)||co(t,e.options.keyMap,n,e)}function No(e,t,n,r){var i=e.state.keySeq;if(i){if(fo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Xl.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Eo(e,i+" "+t,n,r))return!0}return Eo(e,t,n,r)}function Eo(e,t,n,r){var i=Co(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&St(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(H(n),zn(e)),!!i}function To(e,t){var n=ho(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?No(e,"Shift-"+n,t,function(t){return ko(e,t,!0)})||No(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ko(e,t)}):No(e,n,t,function(t){return ko(e,t)}))}function Lo(e,t,n){return No(e,"'"+n+"'",t,function(t){return ko(e,t,!0)})}function _o(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=a(u(t)),P(t,e)))){wa&&Sa<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=To(t,e);Ea&&(Jl=r?n:null,!r&&88==n&&!ll&&(Pa?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),ma&&!Pa&&!r&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Ao(t)}}function Ao(e){function t(e){18!=e.keyCode&&e.altKey||(Fa(n,"CodeMirror-crosshair"),O(document,"keyup",t),O(document,"mouseover",t))}var n=e.display.lineDiv;l(n,"CodeMirror-crosshair"),rl(document,"keyup",t),rl(document,"mouseover",t)}function Oo(e){16==e.keyCode&&(this.doc.sel.shift=!1),P(this,e)}function Do(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||jt(t.display,e)||P(t,e)||e.ctrlKey&&!e.altKey||Pa&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ea&&n==Jl)return Jl=null,void H(e);if(!Ea||e.which&&!(e.which<10)||!To(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(Lo(t,e,i)||t.display.input.onKeyPress(e))}}}function Po(e,t){var n=+new Date;return Zl&&Zl.compare(n,e,t)?(Kl=Zl=null,"triple"):Kl&&Kl.compare(n,e,t)?(Zl=new $l(n,e,t),Kl=null,"double"):(Kl=new $l(n,e,t),Zl=null,"single")}function Io(e){var t=this,n=t.display;if(!(P(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,jt(n,e))return void(Ma||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Uo(t,e)){var r=En(t,e),i=B(e),o=r?Po(r,i):"single";c(t).focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&Ro(t,i,r,o,e)||(1==i?r?Ho(t,r,o,e):W(e)==n.scroller&&H(e):2==i?(r&&yi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(za?t.display.input.onContextMenu(e):Wn(t)))}}}function Ro(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,No(e,po(o,i),i,function(t){if("string"==typeof t&&(t=Yl[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Ya}finally{e.state.suppressEdits=!1}return r})}function jo(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Ia?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Pa?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Pa?n.altKey:n.ctrlKey)),i}function Ho(e,t,n,r){wa?setTimeout(d(Fn,e),0):e.curOp.focus=a(u(e));var i,o=jo(e,n,r),l=e.doc.sel;e.options.dragDrop&&il&&!e.isReadOnly()&&"single"==n&&(i=l.contains(t))>-1&&(ce((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(ce(i.to(),t)>0||t.xRel<0)?qo(e,r,t,o):Fo(e,r,t,o)}function qo(e,t,n,r){var i=e.display,o=!1,a=xr(e,function(t){Ma&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Wn(e)),O(i.wrapper.ownerDocument,"mouseup",a),O(i.wrapper.ownerDocument,"mousemove",l),O(i.scroller,"dragstart",s),O(i.scroller,"drop",a),o||(H(t),r.addNew||yi(e.doc,n,null,null,r.extend),Ma&&!Ta||wa&&9==Sa?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),l=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},s=function(){return o=!0};Ma&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,rl(i.wrapper.ownerDocument,"mouseup",a),rl(i.wrapper.ownerDocument,"mousemove",l),rl(i.scroller,"dragstart",s),rl(i.scroller,"drop",a),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function zo(e,t,n){if("char"==n)return new Dl(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Dl(ue(t.line,0),ve(e.doc,ue(t.line+1,0)));var r=n(e,t);return new Dl(r.from,r.to)}function Fo(e,t,n,r){function i(t){if(0!=ce(y,t))if(y=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=p(te(c,n.line).text,n.ch,o),l=p(te(c,t.line).text,t.ch,o),s=Math.min(a,l),u=Math.max(a,l),v=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=m;v++){var b=te(c,v).text,x=g(b,s,o);s==u?i.push(new Dl(ue(v,x),ue(v,x))):b.length>x&&i.push(new Dl(ue(v,x),ue(v,g(b,u,o))))}i.length||i.push(new Dl(n,n)),ki(c,Br(e,h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,S=d,M=zo(e,t,r.unit),k=S.anchor;ce(M.anchor,k)>0?(w=M.head,k=he(S.from(),M.anchor)):(w=M.anchor,k=pe(S.to(),M.head));var C=h.ranges.slice(0);C[f]=Wo(e,new Dl(ve(c,k),w)),ki(c,Br(e,C,f),Ja)}}function o(t){var n=++x,l=En(e,t,!0,"rectangle"==r.unit);if(l)if(0!=ce(l,y)){e.curOp.focus=a(u(e)),i(l);var d=Yn(s,c);(l.line>=d.to||l.line<d.from)&&setTimeout(xr(e,function(){x==n&&o(t)}),150)}else{var f=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;f&&setTimeout(xr(e,function(){x==n&&(s.scroller.scrollTop+=f,o(t))}),50)}}function l(t){e.state.selectingText=!1,x=1/0,t&&(H(t),s.input.focus()),O(s.wrapper.ownerDocument,"mousemove",w),O(s.wrapper.ownerDocument,"mouseup",S),c.history.lastSelOrigin=null}wa&&Wn(e);var s=e.display,c=e.doc;H(t);var d,f,h=c.sel,v=h.ranges;if(r.addNew&&!r.extend?(f=c.sel.contains(n),d=f>-1?v[f]:new Dl(n,n)):(d=c.sel.primary(),f=c.sel.primIndex),"rectangle"==r.unit)r.addNew||(d=new Dl(n,n)),n=En(e,t,!0,!0),f=-1;else{var m=zo(e,n,r.unit);d=r.extend?mi(d,m.anchor,m.head,r.extend):m}r.addNew?-1==f?(f=v.length,ki(c,Br(e,v.concat([d]),f),{scroll:!1,origin:"*mouse"})):v.length>1&&v[f].empty()&&"char"==r.unit&&!r.extend?(ki(c,Br(e,v.slice(0,f).concat(v.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):xi(c,f,d,Ja):(f=0,ki(c,new Ol([d],0),Ja),h=c.sel);var y=n,b=s.wrapper.getBoundingClientRect(),x=0,w=xr(e,function(e){0!==e.buttons&&B(e)?o(e):l(e)}),S=xr(e,l);e.state.selectingText=S,rl(s.wrapper.ownerDocument,"mousemove",w),rl(s.wrapper.ownerDocument,"mouseup",S)}function Wo(e,t){var n=t.anchor,r=t.head,i=te(e.doc,n.line);if(0==ce(n,r)&&n.sticky==r.sticky)return t;var o=_(i);if(!o)return t;var a=L(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==s||s==o.length)return t;var u;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=L(o,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==l.level?-1:1);u=c==s-1||c==s?d<0:d>0}var f=o[s+(u?-1:0)],p=u==(1==f.level),h=p?f.from:f.to,g=p?"after":"before";return n.ch==h&&n.sticky==g?t:new Dl(new ue(n.line,h,g),r)}function Bo(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&H(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!R(e,n))return z(t);o-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var u=a.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=i){return D(e,n,e,ae(e.doc,o),e.display.gutterSpecs[s].className,t),z(t)}}}function Uo(e,t){return Bo(e,t,"gutterClick",!0)}function Vo(e,t){jt(e.display,t)||Go(e,t)||P(e,t,"contextmenu")||za||e.display.input.onContextMenu(t)}function Go(e,t){return!!R(e,"gutterContextMenu")&&Bo(e,t,"gutterContextMenu",!1)}function Yo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),rn(e)}function Xo(e,t,n){if(!t!=!(n&&n!=Ql)){var r=e.display.dragFunctions,i=t?rl:O;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Jo(e){e.options.lineWrapping?(l(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Fa(e.display.wrapper,"CodeMirror-wrap"),at(e)),Nn(e),Ln(e),rn(e),setTimeout(function(){return sr(e)},100)}function $o(e,t){var n=this;if(!(this instanceof $o))return new $o(e,t);this.options=t=t?f(t):{},f(es,t,!1);var r=t.value;"string"==typeof r?r=new ql(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new $o.inputStyles[t.inputStyle](this),o=this.display=new qr(e,r,i,t);o.wrapper.CodeMirror=this,Yo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),cr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ba,keySeq:null,specialChars:null},t.autofocus&&!Da&&o.input.focus(),wa&&Sa<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Ko(this),oo(),dr(this),this.curOp.forceUpdate=!0,ti(this,r),t.autofocus&&!Da||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Bn(n)},20):Un(this);for(var a in ts)ts.hasOwnProperty(a)&&ts[a](this,t[a],Ql);Ir(this),t.finishInit&&t.finishInit(this);for(var l=0;l<ns.length;++l)ns[l](this);fr(this),Ma&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ko(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;rl(i.scroller,"mousedown",xr(e,Io)),wa&&Sa<11?rl(i.scroller,"dblclick",xr(e,function(t){if(!P(e,t)){var n=En(e,t);if(n&&!Uo(e,t)&&!jt(e.display,t)){H(t);var r=e.findWordAt(n);yi(e.doc,r.anchor,r.head)}}})):rl(i.scroller,"dblclick",function(t){return P(e,t)||H(t)}),rl(i.scroller,"contextmenu",function(t){return Vo(e,t)}),rl(i.input.getField(),"contextmenu",function(t){i.scroller.contains(t.target)||Vo(e,t)});var o,a={end:0};rl(i.scroller,"touchstart",function(t){if(!P(e,t)&&!n(t)&&!Uo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),rl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),rl(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!jt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,l=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Dl(l,l):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(l):new Dl(ue(l.line,0),ve(e.doc,ue(l.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),H(n)}t()}),rl(i.scroller,"touchcancel",t),rl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(ir(e,i.scroller.scrollTop),ar(e,i.scroller.scrollLeft,!0),D(e,"scroll",e))}),rl(i.scroller,"mousewheel",function(t){return Wr(e,t)}),rl(i.scroller,"DOMMouseScroll",function(t){return Wr(e,t)}),rl(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){P(e,t)||F(t)},over:function(t){P(e,t)||(no(e,t),F(t))},start:function(t){return to(e,t)},drop:xr(e,eo),leave:function(t){P(e,t)||ro(e)}};var l=i.input.getField();rl(l,"keyup",function(t){return Oo.call(e,t)}),rl(l,"keydown",xr(e,_o)),rl(l,"keypress",xr(e,Do)),rl(l,"focus",function(t){return Bn(e,t)}),rl(l,"blur",function(t){return Un(e,t)})}function Zo(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=we(e,t).state:n="prev");var a=e.options.tabSize,l=te(o,t),s=p(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&((u=o.mode.indent(i,l.text.slice(c.length),l.text))==Ya||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?p(te(o,t-1).text,null,a):0:"add"==n?u=s+e.options.indentUnit:"subtract"==n?u=s-e.options.indentUnit:"number"==typeof n&&(u=s+n),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/a);h;--h)f+=a,d+="\t";if(f<u&&(d+=v(u-f)),d!=c)return zi(o,d,ue(t,0),ue(t,c.length),"+input"),l.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var m=o.sel.ranges[g];if(m.head.line==t&&m.head.ch<c.length){var y=ue(t,c.length);xi(o,g,new Dl(y,y));break}}}function Qo(e){rs=e}function ea(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,l="paste"==i||e.state.pasteIncoming>a,s=ol(t),u=null;if(l&&r.ranges.length>1)if(rs&&rs.text.join("\n")==t){if(r.ranges.length%rs.text.length==0){u=[];for(var c=0;c<rs.text.length;c++)u.push(o.splitLines(rs.text[c]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=y(s,function(e){return[e]}));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),g=p.to();p.empty()&&(n&&n>0?h=ue(h.line,h.ch-n):e.state.overwrite&&!l?g=ue(g.line,Math.min(te(o,g.line).text.length,g.ch+m(s).length)):l&&rs&&rs.lineWise&&rs.text.join("\n")==s.join("\n")&&(h=g=ue(h.line,0)));var v={from:h,to:g,text:u?u[f%u.length]:s,origin:i||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};Pi(e.doc,v),St(e,"inputRead",e,v)}t&&!l&&na(e,t),Qn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ta(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||br(t,function(){return ea(t,n,0,null,"paste")}),!0}function na(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=Zo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(te(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Zo(e,i.head.line,"smart"));a&&St(e,"electricInput",e,i.head.line)}}}function ra(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ue(i,0),head:ue(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ia(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function oa(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Ma?e.style.width="1000px":e.setAttribute("wrap","off"),Aa&&(e.style.border="1px solid black"),t}function aa(e,t,n,r,i){function o(){var n=t.line+c;return!(n<e.first||n>=e.first+e.size)&&(t=new ue(n,t.ch,t.sticky),u=te(e,n))}function a(a){var l;if("codepoint"==r){var s=u.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(s))l=null;else{var d=n>0?s>=55296&&s<56320:s>=56320&&s<57343;l=new ue(t.line,Math.max(0,Math.min(u.text.length,t.ch+n*(d?2:1))),-n)}}else l=i?xo(e.cm,u,t,n):yo(u,t,n);if(null==l){if(a||!o())return!1;t=bo(i,e.cm,u,t.line,c)}else t=l;return!0}var l=t,s=n,u=te(e,t.line),c=i&&"rtl"==e.direction?-n:n;if("char"==r||"codepoint"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var g=u.text.charAt(t.ch)||"\n",v=M(g,p)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||h||v||(v="s"),d&&d!=v){n<0&&(n=1,a(),t.sticky="after");break}if(v&&(d=v),n>0&&!a(!h))break}var m=_i(e,t,l,s,!0);return de(l,m)&&(m.hitSide=!0),m}function la(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,c(e).innerHeight||o(e).documentElement.clientHeight),s=Math.max(l-.5*wn(e.display),3);i=(n>0?t.bottom:t.top)+n*s}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var u;u=hn(e,a,i),u.outside;){if(n<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function sa(e,t){var n=Xt(e,t.line);if(!n||n.hidden)return null;var r=te(e.doc,t.line),i=Vt(n,r,t.line),o=_(r,e.doc.direction),a="left";if(o){a=L(o,t.ch)%2?"right":"left"}var l=Kt(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function ua(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ca(e,t){return t&&(e.bad=!0),e}function da(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(u+=d,f&&(u+=d),c=f=!1)}function l(e){e&&(a(),u+=e)}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void l(n);var u,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(ue(r,0),ue(i+1,0),o(+p));return void(h.length&&(u=h[0].find(0))&&l(ne(e.doc,u.from,u.to).join(d)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&a();for(var v=0;v<t.childNodes.length;v++)s(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(f=!0),g&&(c=!0)}else 3==t.nodeType&&l(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,d=e.doc.lineSeparator(),f=!1;s(t),t!=n;)t=t.nextSibling,f=!1;return u}function fa(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ca(e.clipPos(ue(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return pa(o,t,n)}}function pa(e,t,n){function r(t,n,r){for(var i=-1;i<(d?d.length:0);i++)for(var o=i<0?c.map:d[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==n){var s=oe(i<0?e.line:e.rest[i]),u=o[a]+r;return(r<0||l!=t)&&(u=o[a+(r?1:0)]),ue(s,u)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return ca(ue(oe(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var l=e.rest?m(e.rest):e.line;return ca(ue(oe(l),l.text.length),a)}var s=3==t.nodeType?t:null,u=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,d=c.maps,f=r(s,u,n);if(f)return ca(f,a);for(var p=u.nextSibling,h=s?s.nodeValue.length-n:0;p;p=p.nextSibling){if(f=r(p,p.firstChild,0))return ca(ue(f.line,f.ch-h),a);h+=p.textContent.length}for(var g=u.previousSibling,v=n;g;g=g.previousSibling){if(f=r(g,g.firstChild,-1))return ca(ue(f.line,f.ch+v),a);v+=g.textContent.length}}function ha(e,t){function n(){e.value=s.getValue()}if(t=t?f(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a(e.ownerDocument);t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(rl(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=l}}catch(e){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(O(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=$o(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s}var ga=navigator.userAgent,va=navigator.platform,ma=/gecko\/\d/i.test(ga),ya=/MSIE \d/.test(ga),ba=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ga),xa=/Edge\/(\d+)/.exec(ga),wa=ya||ba||xa,Sa=wa&&(ya?document.documentMode||6:+(xa||ba)[1]),Ma=!xa&&/WebKit\//.test(ga),ka=Ma&&/Qt\/\d+\.\d+/.test(ga),Ca=!xa&&/Chrome\/(\d+)/.exec(ga),Na=Ca&&+Ca[1],Ea=/Opera\//.test(ga),Ta=/Apple Computer/.test(navigator.vendor),La=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ga),_a=/PhantomJS/.test(ga),Aa=Ta&&(/Mobile\/\w+/.test(ga)||navigator.maxTouchPoints>2),Oa=/Android/.test(ga),Da=Aa||Oa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ga),Pa=Aa||/Mac/.test(va),Ia=/\bCrOS\b/.test(ga),Ra=/win/i.test(va),ja=Ea&&ga.match(/Version\/(\d*\.\d*)/);ja&&(ja=Number(ja[1])),ja&&ja>=15&&(Ea=!1,Ma=!0);var Ha,qa=Pa&&(ka||Ea&&(null==ja||ja<12.11)),za=ma||wa&&Sa>=9,Fa=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ha=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Wa=function(e){e.select()};Aa?Wa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:wa&&(Wa=function(e){try{e.select()}catch(e){}});var Ba=function(){this.id=null,this.f=null,this.time=0,this.handler=d(this.onTimeout,this)};Ba.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ba.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var Ua,Va,Ga=50,Ya={toString:function(){return"CodeMirror.Pass"}},Xa={scroll:!1},Ja={origin:"*mouse"},$a={origin:"+move"},Ka=[""],Za=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Qa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,el=null,tl=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,l=/[Lb1n]/,s=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,d=[],f=0;f<c;++f)d.push(e(n.charCodeAt(f)));for(var p=0,h=u;p<c;++p){var g=d[p];"m"==g?d[p]=h:h=g}for(var v=0,y=u;v<c;++v){var b=d[v];"1"==b&&"r"==y?d[v]="n":a.test(b)&&(y=b,"r"==b&&(d[v]="R"))}for(var x=1,w=d[0];x<c-1;++x){var S=d[x];"+"==S&&"1"==w&&"1"==d[x+1]?d[x]="1":","!=S||w!=d[x+1]||"1"!=w&&"n"!=w||(d[x]=w),w=S}for(var M=0;M<c;++M){var k=d[M];if(","==k)d[M]="N";else if("%"==k){var C=void 0;for(C=M+1;C<c&&"%"==d[C];++C);for(var N=M&&"!"==d[M-1]||C<c&&"1"==d[C]?"1":"N",E=M;E<C;++E)d[E]=N;M=C-1}}for(var T=0,L=u;T<c;++T){var _=d[T];"L"==L&&"1"==_?d[T]="L":a.test(_)&&(L=_)}for(var A=0;A<c;++A)if(o.test(d[A])){var O=void 0;for(O=A+1;O<c&&o.test(d[O]);++O);for(var D="L"==(A?d[A-1]:u),P="L"==(O<c?d[O]:u),I=D==P?D?"L":"R":u,R=A;R<O;++R)d[R]=I;A=O-1}for(var j,H=[],q=0;q<c;)if(l.test(d[q])){var z=q;for(++q;q<c&&l.test(d[q]);++q);H.push(new t(0,z,q))}else{var F=q,W=H.length,B="rtl"==r?1:0;for(++q;q<c&&"L"!=d[q];++q);for(var U=F;U<q;)if(s.test(d[U])){F<U&&(H.splice(W,0,new t(1,F,U)),W+=B);var V=U;for(++U;U<q&&s.test(d[U]);++U);H.splice(W,0,new t(2,V,U)),W+=B,F=U}else++U;F<q&&H.splice(W,0,new t(1,F,q))}return"ltr"==r&&(1==H[0].level&&(j=n.match(/^\s+/))&&(H[0].from=j[0].length,H.unshift(new t(0,0,j[0].length))),1==m(H).level&&(j=n.match(/\s+$/))&&(m(H).to-=j[0].length,H.push(new t(0,c-j[0].length,c)))),"rtl"==r?H.reverse():H}}(),nl=[],rl=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||nl).concat(n)}},il=function(){if(wa&&Sa<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),ol=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},al=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ll=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),sl=null,ul={},cl={},dl={},fl=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};fl.prototype.eol=function(){return this.pos>=this.string.length},fl.prototype.sol=function(){return this.pos==this.lineStart},fl.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fl.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},fl.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},fl.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},fl.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},fl.prototype.skipToEnd=function(){this.pos=this.string.length},fl.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},fl.prototype.backUp=function(e){this.pos-=e},fl.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=p(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?p(this.string,this.lineStart,this.tabSize):0)},fl.prototype.indentation=function(){return p(this.string,null,this.tabSize)-(this.lineStart?p(this.string,this.lineStart,this.tabSize):0)},fl.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},fl.prototype.current=function(){return this.string.slice(this.start,this.pos)},fl.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},fl.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},fl.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pl=function(e,t){this.state=e,this.lookAhead=t},hl=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};hl.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},hl.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},hl.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},hl.fromSaved=function(e,t,n){return t instanceof pl?new hl(e,Z(e.mode,t.state),n,t.lookAhead):new hl(e,Z(e.mode,t),n)},hl.prototype.save=function(e){var t=!1!==e?Z(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pl(t,this.maxLookAhead):t};var gl=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},vl=!1,ml=!1,yl=function(e,t,n){this.text=e,We(this,t),this.height=n?n(this):1};yl.prototype.lineNo=function(){return oe(this)},j(yl);var bl,xl={},wl={},Sl=null,Ml=null,kl={left:0,right:0,top:0,bottom:0},Cl=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=o.tabIndex=-1,e(i),e(o),rl(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),rl(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,wa&&Sa<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Cl.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Cl.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Cl.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Cl.prototype.zeroWidthHack=function(){var e=Pa&&!La?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ba,this.disableVert=new Ba},Cl.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},Cl.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Nl=function(){};Nl.prototype.update=function(){return{bottom:0,right:0}},Nl.prototype.setScrollLeft=function(){},Nl.prototype.setScrollTop=function(){},Nl.prototype.clear=function(){};var El={native:Cl,null:Nl},Tl=0,Ll=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Yn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Wt(e),this.force=n,this.dims=Mn(e),this.events=[]};Ll.prototype.signal=function(e,t){R(e,t)&&this.events.push(arguments)},Ll.prototype.finish=function(){for(var e=0;e<this.events.length;e++)D.apply(null,this.events[e])};var _l=0,Al=null;wa?Al=-.53:ma?Al=15:Ca?Al=-.7:Ta&&(Al=-1/3);var Ol=function(e,t){this.ranges=e,this.primIndex=t};Ol.prototype.primary=function(){return this.ranges[this.primIndex]},Ol.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!de(n.anchor,r.anchor)||!de(n.head,r.head))return!1}return!0},Ol.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Dl(fe(this.ranges[t].anchor),fe(this.ranges[t].head));return new Ol(e,this.primIndex)},Ol.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Ol.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ce(t,r.from())>=0&&ce(e,r.to())<=0)return n}return-1};var Dl=function(e,t){this.anchor=e,this.head=t};Dl.prototype.from=function(){return he(this.anchor,this.head)},Dl.prototype.to=function(){return pe(this.anchor,this.head)},Dl.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,st(i),St(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vi))){var l=[];this.collapse(l),this.children=[new Vi(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new Vi(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Gi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=h(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Gi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Pl=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Pl.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=oe(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Rt(this);ie(n,Math.max(0,n.height-o)),e&&(br(e,function(){Yi(e,n,-o),_n(e,r,"widget")}),St(e,"lineWidgetCleared",e,this,r))}},Pl.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Rt(this)-t;i&&(nt(this.doc,r)||ie(r,r.height+i),n&&br(n,function(){n.curOp.forceUpdate=!0,Yi(n,r,i),St(n,"lineWidgetChanged",n,e,oe(r))}))},j(Pl);var Il=0,Rl=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Il};Rl.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&dr(e),R(this,"clear")){var n=this.find();n&&St(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=De(a.markedSpans,this);e&&!this.collapsed?_n(e,oe(a),"text"):e&&(null!=l.to&&(i=oe(a)),null!=l.from&&(r=oe(a))),a.markedSpans=Pe(a.markedSpans,l),null==l.from&&this.collapsed&&!nt(this.doc,a)&&e&&ie(a,wn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var u=Ke(this.lines[s]),c=ot(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Ln(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ei(e.doc)),e&&St(e,"markerCleared",e,this,r,i),t&&fr(e),this.parent&&this.parent.clear()}},Rl.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=De(o.markedSpans,this);if(null!=a.from&&(n=ue(t?o:oe(o),a.from),-1==e))return n;if(null!=a.to&&(r=ue(t?o:oe(o),a.to),1==e))return r}return n&&{from:n,to:r}},Rl.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&br(r,function(){var i=t.line,o=oe(t.line),a=Xt(r,o);if(a&&(tn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nt(n.doc,i)&&null!=n.height){var l=n.height;n.height=null;var s=Rt(n)-l;s&&ie(i,i.height+s)}St(r,"markerChanged",r,e)})},Rl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=h(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Rl.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},j(Rl);var jl=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};jl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();St(this,"clear")}},jl.prototype.find=function(e,t){return this.primary.find(e,t)},j(jl);var Hl=0,ql=function(e,t,n,r,i){if(!(this instanceof ql))return new ql(e,t,n,r,i);null==n&&(n=0),Gi.call(this,[new Vi([new yl("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ue(n,0);this.sel=Ur(o),this.history=new ii(null),this.id=++Hl,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Qr(this,{from:o,to:o,text:e}),ki(this,Ur(o),Xa)};ql.prototype=w(Gi.prototype,{constructor:ql,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=re(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Sr(function(e){var t=ue(this.first,0),n=this.first+this.size-1;Pi(this,{from:t,to:ue(n,te(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&er(this.cm,0,0),ki(this,Ur(t),Xa)}),replaceRange:function(e,t,n,r){t=ve(this,t),n=n?ve(this,n):t,zi(this,e,t,n,r)},getRange:function(e,t,n){var r=ne(this,ve(this,e),ve(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(le(this,e))return te(this,e)},getLineNumber:function(e){return oe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=te(this,e)),Ke(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ve(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Sr(function(e,t,n){wi(this,ve(this,"number"==typeof e?ue(e,t||0):e),null,n)}),setSelection:Sr(function(e,t,n){wi(this,ve(this,e),ve(this,t||e),n)}),extendSelection:Sr(function(e,t,n){yi(this,ve(this,e),t&&ve(this,t),n)}),extendSelections:Sr(function(e,t){bi(this,ye(this,e),t)}),extendSelectionsBy:Sr(function(e,t){bi(this,ye(this,y(this.sel.ranges,e)),t)}),setSelections:Sr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new Dl(ve(this,e[i].anchor),ve(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ki(this,Br(this.cm,r,t),n)}}),addSelection:Sr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Dl(ve(this,e),ve(this,t||e))),ki(this,Br(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ne(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ne(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Sr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var l=t&&"end"!=t&&Jr(this,r,t),s=r.length-1;s>=0;s--)Pi(this,r[s]);l?Mi(this,l):this.cm&&Qn(this.cm)}),undo:Sr(function(){Ri(this,"undo")}),redo:Sr(function(){Ri(this,"redo")}),undoSelection:Sr(function(){Ri(this,"undo",!0)}),redoSelection:Sr(function(){Ri(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new ii(this.history),ei(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(e){var t=this.history=new ii(this.history);t.done=vi(e.done.slice(0),null,!0),t.undone=vi(e.undone.slice(0),null,!0)},setGutterMarker:Sr(function(e,t,n){return Ui(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&k(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Sr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Ui(t,n,"gutter",function(){return n.gutterMarkers[e]=null,k(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!le(this,e))return null;if(t=e,!(e=te(this,e)))return null}else if(null==(t=oe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Sr(function(t,n,r){return Ui(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:Sr(function(t,n,r){return Ui(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var l=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&l!=o.length?" ":"")+o.slice(l)||null}return!0})}),addLineWidget:Sr(function(e,t,n){return Xi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Ji(this,ve(this,e),ve(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ve(this,e),Ji(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ve(this,e);var t=[],n=te(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ve(this,e),t=ve(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),ve(this,ue(n,t))},indexFromPos:function(e){e=ve(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new ql(re(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ql(re(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zi(r,Ki(this)),r},unlinkDoc:function(e){if(e instanceof $o&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Qi(Ki(this));break}}if(e.history==this.history){var r=[e.id];ei(e,function(e){return r.push(e.id)},!0),e.history=new ii(null),e.history.done=vi(this.history.done,r),e.history.undone=vi(this.history.undone,r)}},iterLinkedDocs:function(e){ei(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ol(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Sr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ri(this.cm))})}),ql.prototype.eachLine=ql.prototype.iter;for(var zl=0,Fl=!1,Wl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bl=0;Bl<10;Bl++)Wl[Bl+48]=Wl[Bl+96]=String(Bl);for(var Ul=65;Ul<=90;Ul++)Wl[Ul]=String.fromCharCode(Ul);for(var Vl=1;Vl<=12;Vl++)Wl[Vl+111]=Wl[Vl+63235]="F"+Vl;var Gl={};Gl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Gl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Gl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Gl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Gl.default=Pa?Gl.macDefault:Gl.pcDefault;var Yl={selectAll:Oi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Xa)},killLine:function(e){return vo(e,function(t){if(t.empty()){var n=te(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ue(t.head.line+1,0)}:{from:t.head,to:ue(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return vo(e,function(t){return{from:ue(t.from().line,0),to:ve(e.doc,ue(t.to().line+1,0))}})},delLineLeft:function(e){return vo(e,function(e){return{from:ue(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return vo(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return vo(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ue(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ue(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Mo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return So(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},$a)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},$a)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Mo(e,t.head):r},$a)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=p(e.getLine(o.line),o.ch,r);t.push(v(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return br(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=te(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ue(i.line,i.ch-1)),i.ch>0)i=new ue(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ue(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=te(e.doc,i.line-1).text;a&&(i=new ue(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ue(i.line-1,a.length-1),i,"+transpose"))}n.push(new Dl(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return br(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Qn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Xl=new Ba,Jl=null,$l=function(e,t,n){this.time=e,this.pos=t,this.button=n};$l.prototype.compare=function(e,t,n){return this.time+400>e&&0==ce(t,this.pos)&&n==this.button};var Kl,Zl,Ql={toString:function(){return"CodeMirror.Init"}},es={},ts={};$o.defaults=es,$o.optionHandlers=ts;var ns=[];$o.defineInitHook=function(e){return ns.push(e)};var rs=null,is=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ba,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};is.prototype.init=function(e){function t(e){for(var t=e.target;t;t=t.parentNode){if(t==l)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function n(e){if(t(e)&&!P(o,e)){if(o.somethingSelected())Qo({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var n=ra(o);Qo({lineWise:!0,text:n.text}),"cut"==e.type&&o.operation(function(){o.setSelections(n.ranges,0,Xa),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=rs.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var s=oa(),u=s.firstChild;ia(u),o.display.lineSpace.insertBefore(s,o.display.lineSpace.firstChild),u.value=rs.text.join("\n");var c=a(l.ownerDocument);Wa(u),setTimeout(function(){o.display.lineSpace.removeChild(s),c.focus(),c==l&&i.showPrimarySelection()},50)}}var r=this,i=this,o=i.cm,l=i.div=e.lineDiv;l.contentEditable=!0,ia(l,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),rl(l,"paste",function(e){!t(e)||P(o,e)||ta(e,o)||Sa<=11&&setTimeout(xr(o,function(){return r.updateFromDOM()}),20)}),rl(l,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),rl(l,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),rl(l,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),rl(l,"touchstart",function(){return i.forceCompositionEnd()}),rl(l,"input",function(){r.composing||r.readFromDOMSoon()}),rl(l,"copy",n),rl(l,"cut",n)},is.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},is.prototype.prepareSelection=function(){var e=Rn(this.cm,!1);return e.focus=a(this.div.ownerDocument)==this.div,e},is.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},is.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},is.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=fa(t,e.anchorNode,e.anchorOffset),a=fa(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=ce(he(o,a),r)||0!=ce(pe(o,a),i)){var l=t.display.view,s=r.line>=t.display.viewFrom&&sa(t,r)||{node:l[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&sa(t,i);if(!u){var c=l[l.length-1].measure,d=c.maps?c.maps[c.maps.length-1]:c.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!s||!u)return void e.removeAllRanges();var f,p=e.rangeCount&&e.getRangeAt(0);try{f=Ha(s.node,s.offset,u.offset,u.node)}catch(e){}f&&(!ma&&t.state.focused?(e.collapse(s.node,s.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):ma&&this.startGracePeriod()),this.rememberSelection()}},is.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},is.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},is.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},is.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},is.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&a(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},is.prototype.blur=function(){this.div.blur()},is.prototype.getField=function(){return this.div},is.prototype.supportsTouch=function(){return!0},is.prototype.receivedFocus=function(){function e(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,e))}var t=this,n=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):br(this.cm,function(){return n.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},is.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},is.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Oa&&Ca&&this.cm.display.gutterSpecs.length&&ua(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=fa(t,e.anchorNode,e.anchorOffset),r=fa(t,e.focusNode,e.focusOffset);n&&r&&br(t,function(){ki(t.doc,Ur(n,r),Xa),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},is.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=ue(r.line-1,te(e.doc,r.line-1).length)),i.ch==te(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=ue(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,l;r.line==t.viewFrom||0==(o=Tn(e,r.line))?(a=oe(t.view[0].line),l=t.view[0].node):(a=oe(t.view[o].line),l=t.view[o-1].node.nextSibling);var s,u,c=Tn(e,i.line);if(c==t.view.length-1?(s=t.viewTo-1,u=t.lineDiv.lastChild):(s=oe(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!l)return!1;for(var d=e.doc.splitLines(da(e,l,u,a,s)),f=ne(e.doc,ue(a,0),ue(s,te(e.doc,s).text.length));d.length>1&&f.length>1;)if(m(d)==m(f))d.pop(),f.pop(),s--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),a++}for(var p=0,h=0,g=d[0],v=f[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var b=m(d),x=m(f),w=Math.min(b.length-(1==d.length?p:0),x.length-(1==f.length?p:0));h<w&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)++h;if(1==d.length&&1==f.length&&a==r.line)for(;p&&p>r.ch&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)p--,h++;d[d.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var S=ue(a,p),M=ue(s,f.length?m(f).length-h:0);return d.length>1||d[0]||ce(S,M)?(zi(e.doc,d,S,M,"+input"),!0):void 0},is.prototype.ensurePolled=function(){this.forceCompositionEnd()},is.prototype.reset=function(){this.forceCompositionEnd()},is.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},is.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},is.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||br(this.cm,function(){return Ln(e.cm)})},is.prototype.setUneditable=function(e){e.contentEditable="false"},is.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||xr(this.cm,ea)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},is.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},is.prototype.onContextMenu=function(){},is.prototype.resetPosition=function(){},is.prototype.needsContentAttribute=!0;var os=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ba,this.hasSelection=!1,this.composing=null,this.resetting=!1};os.prototype.init=function(e){function t(e){if(!P(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=ra(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Xa):(r.prevInput="",o.value=t.text.join("\n"),Wa(o))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}var n=this,r=this,i=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Aa&&(o.style.width="0px"),rl(o,"input",function(){wa&&Sa>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),rl(o,"paste",function(e){P(i,e)||ta(e,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())}),rl(o,"cut",t),rl(o,"copy",t),rl(e.scroller,"paste",function(t){if(!jt(e,t)&&!P(i,t)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var n=new Event("paste");n.clipboardData=t.clipboardData,o.dispatchEvent(n)}}),rl(e.lineSpace,"selectstart",function(t){jt(e,t)||H(t)}),rl(o,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),rl(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},os.prototype.createField=function(e){this.wrapper=oa(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;ia(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},os.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},os.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Rn(e);if(e.options.moveInputWithCursor){var i=dn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},os.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},os.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Wa(this.textarea),wa&&Sa>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",wa&&Sa>=9&&(this.hasSelection=null));this.resetting=!1}},os.prototype.getField=function(){return this.textarea},os.prototype.supportsTouch=function(){return!1},os.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Da||a(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},os.prototype.blur=function(){this.textarea.blur()},os.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},os.prototype.receivedFocus=function(){this.slowPoll()},os.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},os.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},os.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||al(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(wa&&Sa>=9&&this.hasSelection===i||Pa&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,l=Math.min(r.length,i.length);a<l&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return br(t,function(){ea(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},os.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},os.prototype.onKeyPress=function(){wa&&Sa>=9&&(this.hasSelection=null),this.fastPoll()},os.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t=""+(e?a.value:"");a.value="",a.value=t,r.prevInput=e?"":"",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending==n&&(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=u,wa&&Sa<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=s),null!=a.selectionStart)){(!wa||wa&&Sa<9)&&t();var e=0,l=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==r.prevInput?xr(i,Oi)(i):e++<10?o.detectingSelectAll=setTimeout(l,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(l,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea;r.contextMenuPending&&r.contextMenuPending();var l=En(i,e),s=o.scroller.scrollTop;if(l&&!Ea){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(l)&&xr(i,ki)(i.doc,Ur(l),Xa);var u=a.style.cssText,c=r.wrapper.style.cssText,d=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(wa?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(Ma&&(f=a.ownerDocument.defaultView.scrollY),o.input.focus(),Ma&&a.ownerDocument.defaultView.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=n,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),wa&&Sa>=9&&t(),za){F(e);var p=function(){O(window,"mouseup",p),setTimeout(n,20)};rl(window,"mouseup",p)}else setTimeout(n,50)}},os.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},os.prototype.setUneditable=function(){},os.prototype.needsContentAttribute=!1,function(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Ql&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Ql,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$r(e)},!0),t("indentUnit",2,$r,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Kr(e),rn(e),Ln(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ue(r,o))}r++});for(var i=n.length-1;i>=0;i--)zi(e.doc,t,n[i],ue(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ql&&e.refresh()}),t("specialCharPlaceholder",dt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Da?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!Ra),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Yo(e),Hr(e)},!0),t("keyMap","default",function(e,t,n){var r=go(t),i=n!=Ql&&go(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Jo,!0),t("gutters",[],function(e,t){e.display.gutterSpecs=Rr(t,e.options.lineNumbers),Hr(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?kn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return sr(e)},!0),t("scrollbarStyle","native",function(e){cr(e),sr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Rr(e.options.gutters,t),Hr(e)},!0),t("firstLineNumber",1,Hr,!0),t("lineNumberFormatter",function(e){return e},Hr,!0),t("showCursorWhenSelecting",!1,In,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Un(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Xo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,In,!0),t("singleCursorHeightPerLine",!0,In,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Kr,!0),t("addModeClass",!1,Kr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Kr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}($o),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){c(this).focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&xr(this,t[e])(this,n,i),D(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](go(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:wr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");b(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Ln(this)}),removeOverlay:wr(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Ln(this)}}),indentLine:wr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),le(this.doc,e)&&Zo(this,e,t,n)}),indentSelection:wr(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Zo(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Qn(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)Zo(this,s,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&xi(this.doc,r,new Dl(o,u[r].to()),Xa)}}}),getTokenAt:function(e,t){return Ce(this,e,t)},getLineTokens:function(e,t){return Ce(this,ue(e),t,!0)},getTokenTypeAt:function(e){e=ve(this.doc,e);var t,n=xe(this,te(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var l=i[o[t][a]];l&&r.push(l)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var s=0;s<i._global.length;s++){var u=i._global[s];u.pred(o,this)&&-1==h(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ge(n,null==e?n.first+n.size-1:e),we(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?ve(this.doc,e):e?r.from():r.to(),dn(this,n,t||"page")},charCoords:function(e,t){return cn(this,ve(this.doc,e),t||"page")},coordsChar:function(e,t){return e=un(this,e,t||"page"),hn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=un(this,{top:e,left:0},t||"page").top,ae(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=te(this.doc,e)}else r=e;return sn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-it(r):0)},defaultTextHeight:function(){return wn(this.display)},defaultCharWidth:function(){return Sn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=dn(this,ve(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>u&&(l=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&$n(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:wr(_o),triggerOnKeyPress:wr(Do),triggerOnKeyUp:Oo,triggerOnMouseDown:wr(Io),execCommand:function(e){if(Yl.hasOwnProperty(e))return Yl[e].call(null,this)},triggerElectric:wr(function(e){na(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ve(this.doc,e),a=0;a<t&&(o=aa(this.doc,o,i,n,r),!o.hitSide);++a);return o},moveH:wr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?aa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},$a)}),deleteH:wr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):vo(this,function(n){var i=aa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=ve(this.doc,e),l=0;l<t;++l){var s=dn(this,a,"div");if(null==o?o=s.left:s.left=o,a=la(this,s,i,n),a.hitSide)break}return a},moveV:wr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var l=dn(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=la(n,l,e,t);return"page"==t&&a==r.sel.primary()&&Zn(n,cn(n,s,"div").top-l.top),s},$a),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=te(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),l=M(a,o)?function(e){return M(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!M(e)};r>0&&l(n.charAt(r-1));)--r;for(;i<n.length&&l(n.charAt(i));)++i}return new Dl(ue(e.line,r),ue(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?l(this.display.cursorDiv,"CodeMirror-overwrite"):Fa(this.display.cursorDiv,"CodeMirror-overwrite"),D(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a(u(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:wr(function(e,t){er(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ft(this)-this.display.barHeight,width:e.scrollWidth-Ft(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Wt(this)}},scrollIntoView:wr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ue(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?tr(this,e):rr(this,e.from,e.to,e.margin)}),setSize:wr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&nn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){_n(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,D(this,"refresh",this)}),operation:function(e){return br(this,e)},startOperation:function(){return dr(this)},endOperation:function(){return fr(this)},refresh:wr(function(){var e=this.display.cachedTextHeight;Ln(this),this.curOp.forceUpdate=!0,rn(this),er(this,this.doc.scrollLeft,this.doc.scrollTop),Or(this.display),(null==e||Math.abs(e-wn(this.display))>.5||this.options.lineWrapping)&&Nn(this),D(this,"refresh",this)}),swapDoc:wr(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),ti(this,e),rn(this),this.display.input.reset(),er(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,St(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},j(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}($o);var as="iter insert remove copy getEditor constructor".split(" ");for(var ls in ql.prototype)ql.prototype.hasOwnProperty(ls)&&h(as,ls)<0&&($o.prototype[ls]=function(e){return function(){return e.apply(this.doc,arguments)}}(ql.prototype[ls]));return j(ql),$o.inputStyles={textarea:os,contenteditable:is},$o.defineMode=function(e){$o.defaults.mode||"null"==e||($o.defaults.mode=e),Y.apply(this,arguments)},$o.defineMIME=X,$o.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),$o.defineMIME("text/plain","null"),$o.defineExtension=function(e,t){$o.prototype[e]=t},$o.defineDocExtension=function(e,t){ql.prototype[e]=t},$o.fromTextArea=ha,function(e){e.off=O,e.on=rl,e.wheelEventPixels=Fr,e.Doc=ql,e.splitLines=ol,e.countColumn=p,e.findColumn=g,e.isWordChar=S,e.Pass=Ya,e.signal=D,e.Line=yl,e.changeEnd=Vr,e.scrollbarModel=El,e.Pos=ue,e.cmpPos=ce,e.modes=ul,e.mimeModes=cl,e.resolveMode=J,e.getMode=$,e.modeExtensions=dl,e.extendMode=K,e.copyState=Z,e.startState=ee,e.innerMode=Q,e.commands=Yl,e.keyMap=Gl,e.keyName=ho,e.isModifierKey=fo,e.lookupKey=co,e.normalizeKeyMap=uo,e.StringStream=fl,e.SharedTextMarker=jl,e.TextMarker=Rl,e.LineWidget=Pl,e.e_preventDefault=H,e.e_stopPropagation=q,e.e_stop=F,e.addClass=l,e.contains=o,e.rmClass=Fa,e.keyNames=Wl}($o),$o.version="5.65.12",$o})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(void 0!==e.color&&""!==e.color&&null!==e.color)return e.color;var t=w.default.getEdgeColor();if(void 0!==t&&""!==t&&null!==t&&-1!==t.indexOf("#"))return t;var n=u.default.getNode(e.startNodeId);return void 0!==n&&""!==n?n.color:(0,b.default)()}function a(e){return void 0!==e.pathStrokeDasharray?e.pathStrokeDasharray:w.default.getPathStrokeDasharray()}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(6),d=r(c),f=n(28),p=r(f),h=n(11),g=r(h),v=n(12),m=r(v),y=n(17),b=r(y),x=n(13),w=r(x),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n={key:"id",isRequired:!0,type:m.default.ID,isAutoGenerated:!0,isSystem:!0},r=new g.default(n),l={key:"schema-indexes",isRequired:!1,type:m.default.STRING,isAutoGenerated:!1,isSystem:!1,defaultValue:"//CONSTRAINT AND INDEX\n//CONSTRAINT:CREATE CONSTRAINT ON (n:Label) ASSERT n.code IS UNIQUE;\n//CONSTRAINT:CREATE CONSTRAINT ON (n:Label) ASSERT (n.name,n.code) IS NODE KEY;\n//INDEX:CREATE INDEX ON :Label(name);\n//INDEX:CREATE INDEX ON :Label(name,hupdatetime);\n//DROP:DROP CONSTRAINT ON (n:Label) ASSERT (n.name,n.code) IS NODE KEY;\n//DROP:DROP INDEX ON :Label(name)"},s=new g.default(l);this.startNodeId=t.startNodeId,this.endNodeId=t.endNodeId,this.middlePointOffset=t.middlePointOffset||[0,0],this.properties=t.properties||[r,s],this.label=t.label||"no name",this.id=t.id||(0,d.default)(),this.isSelected=t.isSelected||!1,this.isEdge=!0,this.color=o(t),this.pathStrokeDasharray=a(t)}return l(e,[{key:"copy",get:function(){return new e(JSON.parse(JSON.stringify(this)))}},{key:"startNode",get:function(){return u.default.getNode(this.startNodeId)}},{key:"endNode",get:function(){return u.default.getNode(this.endNodeId)}},{key:"middlePoint",get:function(){return p.default.middlePoint(this.startNode,this.endNode)}},{key:"middlePointWithOffset",get:function(){return this.startNodeId===this.endNodeId&&0===this.middlePointOffset[0]&&0===this.middlePointOffset[1]&&(this.middlePointOffset=[-50,50]),[this.middlePoint[0]-this.middlePointOffset[0],this.middlePoint[1]-this.middlePointOffset[1]]}}]),e}();t.default=S},function(e,t){"use strict";function n(){var e=["0048BA","B0BF1A","7CB9E8","00308F","AF002A","84DE02","E32636","C46210","E52B50","AB274F","3B7A57","FF7E00","FF033E","665D1E","915C83","841B2D","3B444B","0087BD","CC5500","BD33A4","006B3C","D70040","56A0D3","A0785A","FF4040","58427C","006400","00416A","50C878","6C3082","1B4D3E"];return void 0===n.index?n.index=parseInt(Math.random()*e.length,10):n.index===e.length-1?n.index=0:n.index+=1,"#"+e[n.index]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=r(i),a=n(31),l=r(a),s=n(1),u=r(s),c=function(e){var t=e.label.toCamelCase();return"\ncreate"+t+"("+t+":"+t+"Input): "+t+"\nupdate"+t+"("+t+":"+t+"Input, id: ID!): "+t+"\ndelete"+t+"(id: ID!):"+t+"\n"+u.default.getEdgesForStartNode(e.id).map(function(e){var t=e.startNode.label.toCamelCase(),n=e.endNode.label.toCamelCase(),r=o.default.getName(e,"")+"("+t+"Id: ID!, "+n+": ID!):"+o.default.getName(e,"Connection");return"\nadd"+r+"\nremove"+r+"\n"}).join("")+"\n"},d=function(e){var t=e.label.toCamelCase(),n=u.default.getEdgesForStartNode(e.id),r=e.properties.map(l.default).join(""),i=e.properties.filter(function(e){return!e.isAutoGenerated}).map(l.default).join("");return"\n\n# Node description\ntype "+t+" implements Node {\n  "+r+"\n  "+n.map(function(e){return"\n  "+e.label+": "+o.default.getName(e,"Connection")}).join("")+"\n}\n\n\n# Input for "+t+"\ninput "+t+"Input {\n  "+i+"\n}\n\n"},f=function(e){var t={all:e.properties.map(function(e){return e.key}),system:e.properties.filter(function(e){return e.isSystem}).map(function(e){return e.key}),userDefined:e.properties.filter(function(e){return!e.isSystem}).map(function(e){return e.key})},n=e.label.toCamelCase(),r=u.default.getEdgesForStartNode(e.id),i=r.map(function(e){var t=e.label.toCamelCase(),n=e.startNode.label.toCamelCase(),r=e.endNode.label.toCamelCase(),i=""+n+t+r;return"\nadd"+i+"("+n+"Id, "+r+"Id) {\n  //add connection depending on the node (type)\n  // return connection\n  return {\n    nodes: []\n    edges: []\n    pageInfo: {\n      endCursor: ''\n      hasNextPage: ''\n      hasPreviousPage: ''\n      startCursor: ''\n    }\n    totalCount: 0\n  }\n}\n\ndelete"+i+"(("+n+"Id, "+r+"Id)) {\n  //delete connection depending on "+n+"Id, "+r+"Id\n  // return connection\n  return {\n    nodes: []\n    edges: []\n    pageInfo: {\n      endCursor: ''\n      hasNextPage: ''\n      hasPreviousPage: ''\n      startCursor: ''\n    }\n    totalCount: 0\n  }\n}\n"}).join("");return"\nclass "+n+" {\n  constructor("+t.system.join(",")+", {"+t.userDefined.join(",")+"}) {\n    "+t.all.map(function(e){return"this."+e+" = "+e+";"}).join("\n    ")+"\n  }\n}\n\nget"+n+"({id}) {\n  // get and return "+n+" by id\n  return new "+n+"(id, {});\n},\n\ncreate"+n+"({input}) {\n  // create "+n+" from input\n  var id = Math.random();\n  return new "+n+"(id, input);\n},\n\nupdate"+n+"({id, input}) {\n  // update "+n+" with id\n  return new "+n+"(id, input);\n}\n\ndelete"+n+"({id}) {\n  // find and return "+n+" by id\n  return {};\n}\n\n"+i+"\n"};t.default={schema:{getNodeSchema:d,getNodeMutation:c},resolvers:{getNodeResolver:f}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getName:function(e,t){return""+e.startNode.label.toCamelCase()+e.label.toCamelCase()+e.endNode.label.toCamelCase()+t}}},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s(e){return null===e?NaN:+e}function u(e){return!isNaN(e)}function c(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function p(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function h(){this._=Object.create(null)}function g(e){return(e+="")===ka||e[0]===Ca?Ca+e:e}function v(e){return(e+="")[0]===Ca?e.slice(1):e}function m(e){return g(e)in this._}function y(e){return(e=g(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(v(t));return e}function x(){var e=0;for(var t in this._)++e;return e}function w(){for(var e in this._)return!1;return!0}function S(){this._=Object.create(null)}function M(e){return e}function k(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function C(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Na.length;n<r;++n){var i=Na[n]+t;if(i in e)return i}}function N(){}function E(){}function T(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new h;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function L(){pa.event.preventDefault()}function _(){for(var e,t=pa.event;e=t.sourceEvent;)t=e;return t}function A(e){for(var t=new E,n=0,r=arguments.length;++n<r;)t[arguments[n]]=T(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=pa.event;i.target=e,pa.event=i,t[i.type].apply(n,r)}finally{pa.event=o}}},t}function O(e){return Ta(e,Oa),e}function D(e){return"function"==typeof e?e:function(){return La(e,this)}}function P(e){return"function"==typeof e?e:function(){return _a(e,this)}}function I(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function l(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=pa.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?l:a:e.local?o:i}function R(e){return e.trim().replace(/\s+/g," ")}function j(e){return new RegExp("(?:^|\\s+)"+pa.requote(e)+"(?:\\s+|$)","g")}function H(e){return(e+"").trim().split(/^|\s+/)}function q(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=H(e).map(z);var i=e.length;return"function"==typeof t?r:n}function z(e){var t=j(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",R(i+" "+e))):n.setAttribute("class",R(i.replace(t," ")))}}function F(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function W(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function B(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=pa.ns.qualify(e)).local?n:t}function U(){var e=this.parentNode;e&&e.removeChild(this)}function V(e){return{__data__:e}}function G(e){return function(){return Aa(this,e)}}function Y(e){return arguments.length||(e=l),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function X(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,l=o.length;a<l;a++)(i=o[a])&&t(i,a,n);return e}function J(e){return Ta(e,Pa),e}function $(e){var t,n;return function(r,i,o){var a,l=e[o].update,s=l.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=l[t])&&++t<s;);return a}}function K(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=s(t,ga(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+pa.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,l=e.indexOf("."),s=Z;l>0&&(e=e.slice(0,l));var u=Ia.get(e);return u&&(e=u,s=Q),l?t?i:r:t?N:o}function Z(e,t){return function(n){var r=pa.event;pa.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{pa.event=r}}}function Q(e,t){var n=Z(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++ja,n="click"+t,r=pa.select(a(e)).on("touchmove"+t,L).on("dragstart"+t,L).on("selectstart"+t,L);if(null==Ra&&(Ra=!("onselectstart"in e)&&C(e.style,"userSelect")),Ra){var i=o(e).style,l=i[Ra];i[Ra]="none"}return function(e){if(r.on(t,null),Ra&&(i[Ra]=l),e){var o=function(){r.on(n,null)};r.on(n,function(){L(),o()},!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ha<0){var i=a(e);if(i.scrollX||i.scrollY){n=pa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Ha=!(o.f||o.e),n.remove()}}return Ha?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}function ne(){return pa.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:e<-1?Fa:Math.acos(e)}function ae(e){return e>1?Ua:e<-1?-Ua:Math.asin(e)}function le(e){return((e=Math.exp(e))-1/e)/2}function se(e){return((e=Math.exp(e))+1/e)/2}function ue(e){return((e=Math.exp(2*e))-1)/(e+1)}function ce(e){return(e=Math.sin(e/2))*e}function de(){}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.s,e.l):Ne(""+e,Ee,fe):new fe(e,t,n)}function pe(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?o+(a-o)*e/60:e<180?a:e<240?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a,new Se(i(e+120),i(e),i(e-120))}function he(e,t,n){return this instanceof he?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof he?new he(e.h,e.c,e.l):e instanceof ve?ye(e.l,e.a,e.b):ye((e=Te((e=pa.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new he(e,t,n)}function ge(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ve(n,Math.cos(e*=Va)*t,Math.sin(e)*t)}function ve(e,t,n){return this instanceof ve?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ve?new ve(e.l,e.a,e.b):e instanceof he?ge(e.h,e.c,e.l):Te((e=Se(e)).r,e.g,e.b):new ve(e,t,n)}function me(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=be(i)*el,r=be(r)*tl,o=be(o)*nl,new Se(we(3.2404542*i-1.5371385*r-.4985314*o),we(-.969266*i+1.8760108*r+.041556*o),we(.0556434*i-.2040259*r+1.0572252*o))}function ye(e,t,n){return e>0?new he(Math.atan2(n,t)*Ga,Math.sqrt(t*t+n*n),e):new he(NaN,NaN,e)}function be(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function xe(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function we(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Se(e,t,n){return this instanceof Se?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof Se?new Se(e.r,e.g,e.b):Ne(""+e,Se,pe):new Se(e,t,n)}function Me(e){return new Se(e>>16,e>>8&255,255&e)}function ke(e){return Me(e)+""}function Ce(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ne(e,t,n){var r,i,o,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(_e(i[0]),_e(i[1]),_e(i[2]))}return(o=ol.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,l=240&o,l|=l>>4,s=15&o,s|=s<<4):7===e.length&&(a=(16711680&o)>>16,l=(65280&o)>>8,s=255&o)),t(a,l,s))}function Ee(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),l=a-o,s=(a+o)/2;return l?(i=s<.5?l/(a+o):l/(2-a-o),r=e==a?(t-n)/l+(t<n?6:0):t==a?(n-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new fe(r,i,s)}function Te(e,t,n){e=Le(e),t=Le(t),n=Le(n);var r=xe((.4124564*e+.3575761*t+.1804375*n)/el),i=xe((.2126729*e+.7151522*t+.072175*n)/tl);return ve(116*i-16,500*(r-i),200*(i-xe((.0193339*e+.119192*t+.9503041*n)/nl)))}function Le(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _e(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ae(e){return"function"==typeof e?e:function(){return e}}function Oe(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),De(t,n,e,r)}}function De(e,t,n,r){function i(){var e,t=s.status;if(!t&&Ie(s)||t>=200&&t<300||304===t){try{e=n.call(o,s)}catch(e){return void a.error.call(o,e)}a.load.call(o,e)}else a.error.call(o,s)}var o={},a=pa.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(e){var t=pa.event;pa.event=e;try{a.progress.call(o,s)}finally{pa.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(u=e,o):u},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ga(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),s.setRequestHeader)for(var c in l)s.setRequestHeader(c,l[c]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=u&&(s.responseType=u),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},pa.rebind(o,a,"on"),null==r?o:o.get(Pe(r))}function Pe(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ie(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Re(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return ll?ll.n=o:al=o,ll=o,sl||(ul=clearTimeout(ul),sl=1,cl(je)),o}function je(){var e=He(),t=qe()-e;t>24?(isFinite(t)&&(clearTimeout(ul),ul=setTimeout(je,t)),sl=0):(sl=1,cl(je))}function He(){for(var e=Date.now(),t=al;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function qe(){for(var e,t=al,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:al=t.n;return ll=e,n}function ze(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Fe(e,t){var n=Math.pow(10,3*Ma(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function We(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,l=r[0],s=0;i>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>t));)l=r[a=(a+1)%r.length];return o.reverse().join(n)}:M;return function(e){var n=fl.exec(e),r=n[1]||" ",a=n[2]||">",l=n[3]||"-",s=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],p=n[9],h=1,g="",v="",m=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),p){case"n":d=!0,p="g";break;case"%":h=100,v="%",p="f";break;case"p":h=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":m=!0,f=0;break;case"s":h=-1,p="r"}"$"===s&&(g=i[0],v=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=pl.get(p)||Be;var b=u&&d;return function(e){var n=v;if(m&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(h<0){var s=pa.formatPrefix(e,f);e=s.scale(e),n=s.symbol+v}else e*=h;e=p(e,f);var x,w,S=e.lastIndexOf(".");if(S<0){var M=y?e.lastIndexOf("e"):-1;M<0?(x=e,w=""):(x=e.substring(0,M),w=e.substring(M))}else x=e.substring(0,S),w=t+e.substring(S+1);!u&&d&&(x=o(x,1/0));var k=g.length+x.length+w.length+(b?0:i.length),C=k<c?new Array(k=c-k+1).join(r):"";return b&&(x=o(C+x,C.length?c-w.length:1/0)),i+=g,e=x+w,("<"===a?i+e+C:">"===a?C+i+e:"^"===a?C.substring(0,k>>=1)+i+e+C.substring(k):i+(b?e:C+e))+n}}}function Be(e){return e+""}function Ue(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ve(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new gl(n-1)),1),n}function o(e,n){return t(e=new gl(+e),n),e}function a(e,r,o){var a=i(e),l=[];if(o>1)for(;a<r;)n(a)%o||l.push(new Date(+a)),t(a,1);else for(;a<r;)l.push(new Date(+a)),t(a,1);return l}function l(e,t,n){try{gl=Ue;var r=new Ue;return r._=e,a(r,t,n)}finally{gl=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var s=e.utc=Ge(e);return s.floor=s,s.round=Ge(r),s.ceil=Ge(i),s.offset=Ge(o),s.range=l,e}function Ge(e){return function(t,n){try{gl=Ue;var r=new Ue;return r._=t,e(r,n)._}finally{gl=Date}}}function Ye(e){function t(e){function t(t){for(var n,i,o,a=[],l=-1,s=0;++l<r;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=ml[n=e.charAt(++l)])&&(n=e.charAt(++l)),(o=T[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),s=l+1);return a.push(e.slice(s,l)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&gl!==Ue,o=new(i?Ue:gl);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,l=0,s=t.length,u=n.length;l<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(l++))){if(a=t.charAt(l++),!(o=L[a in ml?t.charAt(l++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.w=M.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){N.lastIndex=0;var r=N.exec(t.slice(n));return r?(e.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){k.lastIndex=0;var r=k.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function l(e,t,r){return n(e,T.c.toString(),t,r)}function s(e,t,r){return n(e,T.x.toString(),t,r)}function u(e,t,r){return n(e,T.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,f=e.date,p=e.time,h=e.periods,g=e.days,v=e.shortDays,m=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{gl=Ue;var t=new gl;return t._=e,r(t)}finally{gl=Date}}var r=t(e);return n.parse=function(e){try{gl=Ue;var t=r.parse(e);return t&&t._}finally{gl=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=pt;var b=pa.map(),x=Je(g),w=$e(g),S=Je(v),M=$e(v),k=Je(m),C=$e(m),N=Je(y),E=$e(y);h.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return v[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return m[e.getMonth()]},c:t(d),d:function(e,t){return Xe(e.getDate(),t,2)},e:function(e,t){return Xe(e.getDate(),t,2)},H:function(e,t){return Xe(e.getHours(),t,2)},I:function(e,t){return Xe(e.getHours()%12||12,t,2)},j:function(e,t){return Xe(1+hl.dayOfYear(e),t,3)},L:function(e,t){return Xe(e.getMilliseconds(),t,3)},m:function(e,t){return Xe(e.getMonth()+1,t,2)},M:function(e,t){return Xe(e.getMinutes(),t,2)},p:function(e){return h[+(e.getHours()>=12)]},S:function(e,t){return Xe(e.getSeconds(),t,2)},U:function(e,t){return Xe(hl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Xe(hl.mondayOfYear(e),t,2)},x:t(f),X:t(p),y:function(e,t){return Xe(e.getFullYear()%100,t,2)},Y:function(e,t){return Xe(e.getFullYear()%1e4,t,4)},Z:dt,"%":function(){return"%"}},L={a:r,A:i,b:o,B:a,c:l,d:ot,e:ot,H:lt,I:lt,j:at,L:ct,m:it,M:st,p:c,S:ut,U:Ze,w:Ke,W:Qe,x:s,X:u,y:tt,Y:et,Z:nt,"%":ft};return t}function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Je(e){return new RegExp("^(?:"+e.map(pa.requote).join("|")+")","i")}function $e(e){for(var t=new h,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Ke(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ze(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Qe(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.y=rt(+r[0]),n+r[0].length):-1}function nt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rt(e){return e+(e>68?1900:2e3)}function it(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ot(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function at(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function lt(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function st(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ut(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ct(e,t,n){yl.lastIndex=0;var r=yl.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dt(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=Ma(t)/60|0,i=Ma(t)%60;return n+Xe(r,"0",2)+Xe(i,"0",2)}function ft(e,t,n){bl.lastIndex=0;var r=bl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pt(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function ht(){}function gt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function vt(e,t){e&&Ml.hasOwnProperty(e.type)&&Ml[e.type](e,t)}function mt(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function yt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)mt(e[n],t,1);t.polygonEnd()}function bt(){function e(e,t){e*=Va,t=t*Va/2+Fa/4;var n=e-r,a=n>=0?1:-1,l=a*n,s=Math.cos(t),u=Math.sin(t),c=o*u,d=i*s+c*Math.cos(l),f=c*a*Math.sin(l);Cl.add(Math.atan2(f,d)),r=e,i=s,o=u}var t,n,r,i,o;Nl.point=function(a,l){Nl.point=e,r=(t=a)*Va,i=Math.cos(l=(n=l)*Va/2+Fa/4),o=Math.sin(l)},Nl.lineEnd=function(){e(t,n)}}function xt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function wt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function St(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function kt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ct(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Nt(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function Et(e,t){return Ma(e[0]-t[0])<qa&&Ma(e[1]-t[1])<qa}function Tt(e,t){e*=Va;var n=Math.cos(t*=Va);Lt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Lt(e,t,n){++El,Ll+=(e-Ll)/El,_l+=(t-_l)/El,Al+=(n-Al)/El}function _t(){function e(e,i){e*=Va;var o=Math.cos(i*=Va),a=o*Math.cos(e),l=o*Math.sin(e),s=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*s-r*l)*u+(u=r*a-t*s)*u+(u=t*l-n*a)*u),t*a+n*l+r*s);Tl+=u,Ol+=u*(t+(t=a)),Dl+=u*(n+(n=l)),Pl+=u*(r+(r=s)),Lt(t,n,r)}var t,n,r;Hl.point=function(i,o){i*=Va;var a=Math.cos(o*=Va);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Hl.point=e,Lt(t,n,r)}}function At(){Hl.point=Tt}function Ot(){function e(e,t){e*=Va;var n=Math.cos(t*=Va),a=n*Math.cos(e),l=n*Math.sin(e),s=Math.sin(t),u=i*s-o*l,c=o*a-r*s,d=r*l-i*a,f=Math.sqrt(u*u+c*c+d*d),p=r*a+i*l+o*s,h=f&&-oe(p)/f,g=Math.atan2(f,p);Il+=h*u,Rl+=h*c,jl+=h*d,Tl+=g,Ol+=g*(r+(r=a)),Dl+=g*(i+(i=l)),Pl+=g*(o+(o=s)),Lt(r,i,o)}var t,n,r,i,o;Hl.point=function(a,l){t=a,n=l,Hl.point=e,a*=Va;var s=Math.cos(l*=Va);r=s*Math.cos(a),i=s*Math.sin(a),o=Math.sin(l),Lt(r,i,o)},Hl.lineEnd=function(){e(t,n),Hl.lineEnd=At,Hl.point=Tt}}function Dt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Pt(){return!0}function It(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Et(n,r)){i.lineStart();for(var l=0;l<t;++l)i.point((n=e[l])[0],n[1]);return void i.lineEnd()}var s=new jt(n,e,null,!0),u=new jt(n,null,s,!1);s.o=u,o.push(s),a.push(u),s=new jt(r,e,null,!1),u=new jt(r,null,s,!0),s.o=u,o.push(s),a.push(u)}}),a.sort(t),Rt(o),Rt(a),o.length){for(var l=0,s=n,u=a.length;l<u;++l)a[l].e=s=!s;for(var c,d,f=o[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(var l=0,u=c.length;l<u;++l)i.point((d=c[l])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h){c=p.p.z;for(var l=c.length-1;l>=0;--l)i.point((d=c[l])[0],d[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,h=!h}while(!p.v);i.lineEnd()}}}function Rt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function jt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ht(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function l(e,t){var n=i(e,t);v.point(n[0],n[1])}function s(){y.point=l,v.lineStart()}function u(){y.point=a,v.lineEnd()}function c(e,t){g.push([e,t]);var n=i(e,t);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),h.push(g),g=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(qt))}var p,h,g,v=t(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:s,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=f,p=[],h=[]},polygonEnd:function(){y.point=a,y.lineStart=s,y.lineEnd=u,p=pa.merge(p);var e=Vt(m,h);p.length?(w||(o.polygonStart(),w=!0),It(p,Ft,e,n,o)):e&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),p=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=zt(),x=t(b),w=!1;return y}}function qt(e){return e.length>1}function zt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:N,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ft(e,t){return((e=e.x)[0]<0?e[1]-Ua-qa:Ua-e[1])-((t=t.x)[0]<0?t[1]-Ua-qa:Ua-t[1])}function Wt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?Fa:-Fa,s=Ma(o-n);Ma(s-Fa)<qa?(e.point(n,r=(r+a)/2>0?Ua:-Ua),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&s>=Fa&&(Ma(n-i)<qa&&(n-=i*qa),Ma(o-l)<qa&&(o-=l*qa),r=Bt(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Bt(e,t,n,r){var i,o,a=Math.sin(e-n);return Ma(a)>qa?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function Ut(e,t,n,r){var i;if(null==e)i=n*Ua,r.point(-Fa,i),r.point(0,i),r.point(Fa,i),r.point(Fa,0),r.point(Fa,-i),r.point(0,-i),r.point(-Fa,-i),r.point(-Fa,0),r.point(-Fa,i);else if(Ma(e[0]-t[0])>qa){var o=e[0]<t[0]?Fa:-Fa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Vt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Cl.reset();for(var l=0,s=t.length;l<s;++l){var u=t[l],c=u.length;if(c)for(var d=u[0],f=d[0],p=d[1]/2+Fa/4,h=Math.sin(p),g=Math.cos(p),v=1;;){v===c&&(v=0),e=u[v];var m=e[0],y=e[1]/2+Fa/4,b=Math.sin(y),x=Math.cos(y),w=m-f,S=w>=0?1:-1,M=S*w,k=M>Fa,C=h*b;if(Cl.add(Math.atan2(C*S*Math.sin(M),g*x+C*Math.cos(M))),o+=k?w+S*Wa:w,k^f>=n^m>=n){var N=St(xt(d),xt(e));Ct(N);var E=St(i,N);Ct(E);var T=(k^w>=0?-1:1)*ae(E[2]);(r>T||r===T&&(N[0]||N[1]))&&(a+=k^w>=0?1:-1)}if(!v++)break;f=m,h=b,g=x,d=e}}return(o<-qa||o<qa&&Cl<0)^1&a}function Gt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(d,f){var p,h=[d,f],g=t(d,f),v=a?g?0:i(d,f):g?i(d+(d<0?Fa:-Fa),f):0;if(!n&&(u=s=g)&&e.lineStart(),g!==s&&(p=r(n,h),(Et(n,p)||Et(h,p))&&(h[0]+=qa,h[1]+=qa,g=t(h[0],h[1]))),g!==s)c=0,g?(e.lineStart(),p=r(h,n),e.point(p[0],p[1])):(p=r(n,h),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(l&&n&&a^g){var m;v&o||!(m=r(h,n,!0))||(c=0,a?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!g||n&&Et(n,h)||e.point(h[0],h[1]),n=h,s=g,o=v},lineEnd:function(){s&&e.lineEnd(),n=null},clean:function(){return c|(u&&s)<<1}}}function r(e,t,n){var r=xt(e),i=xt(t),a=[1,0,0],l=St(r,i),s=wt(l,l),u=l[0],c=s-u*u;if(!c)return!n&&e;var d=o*s/c,f=-o*u/c,p=St(a,l),h=kt(a,d);Mt(h,kt(l,f));var g=p,v=wt(h,g),m=wt(g,g),y=v*v-m*(wt(h,h)-1);if(!(y<0)){var b=Math.sqrt(y),x=kt(g,(-v-b)/m);if(Mt(x,h),x=Nt(x),!n)return x;var w,S=e[0],M=t[0],k=e[1],C=t[1];M<S&&(w=S,S=M,M=w);var N=M-S,E=Ma(N-Fa)<qa,T=E||N<qa;if(!E&&C<k&&(w=k,k=C,C=w),T?E?k+C>0^x[1]<(Ma(x[0]-S)<qa?k:C):k<=x[1]&&x[1]<=C:N>Fa^(S<=x[0]&&x[0]<=M)){var L=kt(g,(-v+b)/m);return Mt(L,h),[x,Nt(L)]}}}function i(t,n){var r=a?e:Fa-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,l=Ma(o)>qa;return Ht(t,n,xn(e,6*Va),a?[0,-e]:[-Fa,e-Fa])}function Yt(e,t,n,r){return function(i){var o,a=i.a,l=i.b,s=a.x,u=a.y,c=l.x,d=l.y,f=0,p=1,h=c-s,g=d-u;if(o=e-s,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<p&&(p=o)}else if(h>0){if(o>p)return;o>f&&(f=o)}if(o=n-s,h||!(o<0)){if(o/=h,h<0){if(o>p)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<p&&(p=o)}if(o=t-u,g||!(o>0)){if(o/=g,g<0){if(o<f)return;o<p&&(p=o)}else if(g>0){if(o>p)return;o>f&&(f=o)}if(o=r-u,g||!(o<0)){if(o/=g,g<0){if(o>p)return;o>f&&(f=o)}else if(g>0){if(o<f)return;o<p&&(p=o)}return f>0&&(i.a={x:s+f*h,y:u+f*g}),p<1&&(i.b={x:s+p*h,y:u+p*g}),i}}}}}}function Xt(e,t,n,r){function i(r,i){return Ma(r[0]-e)<qa?i>0?0:3:Ma(r[0]-n)<qa?i>0?2:1:Ma(r[1]-t)<qa?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(l){function s(e){for(var t=0,n=v.length,r=e[1],i=0;i<n;++i)for(var o,a=1,l=v[i],s=l.length,u=l[0];a<s;++a)o=l[a],u[1]<=r?o[1]>r&&ie(u,o,e)>0&&++t:o[1]<=r&&ie(u,o,e)<0&&--t,u=o;return 0!==t}function u(o,l,s,u){var c=0,d=0;if(null==o||(c=i(o,s))!==(d=i(l,s))||a(o,l)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==d);else u.point(l[0],l[1])}function c(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function d(e,t){c(e,t)&&l.point(e,t)}function f(){L.point=h,v&&v.push(m=[]),k=!0,M=!1,w=S=NaN}function p(){g&&(h(y,b),x&&M&&E.rejoin(),g.push(E.buffer())),L.point=d,M&&l.lineEnd()}function h(e,t){e=Math.max(-zl,Math.min(zl,e)),t=Math.max(-zl,Math.min(zl,t));var n=c(e,t);if(v&&m.push([e,t]),k)y=e,b=t,x=n,k=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&M)l.point(e,t);else{var r={a:{x:w,y:S},b:{x:e,y:t}};T(r)?(M||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),C=!1):n&&(l.lineStart(),l.point(e,t),C=!1)}w=e,S=t,M=n}var g,v,m,y,b,x,w,S,M,k,C,N=l,E=zt(),T=Yt(e,t,n,r),L={point:d,lineStart:f,lineEnd:p,polygonStart:function(){l=E,g=[],v=[],C=!0},polygonEnd:function(){l=N,g=pa.merge(g);var t=s([e,r]),n=C&&t,i=g.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),u(null,null,1,l),l.lineEnd()),i&&It(g,o,t,u,l),l.polygonEnd()),g=v=m=null}};return L}}function Jt(e){var t=0,n=Fa/3,r=fn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Fa/180,n=e[1]*Fa/180):[t/Fa*180,n/Fa*180]},i}function $t(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ae((o-(e*e+n*n)*i*i)/(2*i))]},n}function Kt(){function e(e,t){Wl+=i*e-r*t,r=e,i=t}var t,n,r,i;Yl.point=function(o,a){Yl.point=e,t=r=o,n=i=a},Yl.lineEnd=function(){e(t,n)}}function Zt(e,t){e<Bl&&(Bl=e),e>Vl&&(Vl=e),t<Ul&&(Ul=t),t>Gl&&(Gl=t)}function Qt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),l.point=n}function n(e,t){a.push("L",e,",",t)}function r(){l.point=e}function i(){a.push("Z")}var o=en(4.5),a=[],l={point:e,lineStart:function(){l.point=t},lineEnd:r,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=r,l.point=e},pointRadius:function(e){return o=en(e),l},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return l}function en(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tn(e,t){Ll+=e,_l+=t,++Al}function nn(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Ol+=a*(t+e)/2,Dl+=a*(n+r)/2,Pl+=a,tn(t=e,n=r)}var t,n;Jl.point=function(r,i){Jl.point=e,tn(t=r,n=i)}}function rn(){Jl.point=tn}function on(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Ol+=a*(r+e)/2,Dl+=a*(i+t)/2,Pl+=a,a=i*e-r*t,Il+=a*(r+e),Rl+=a*(i+t),jl+=3*a,tn(r=e,i=t)}var t,n,r,i;Jl.point=function(o,a){Jl.point=e,tn(t=r=o,n=i=a)},Jl.lineEnd=function(){e(t,n)}}function an(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Wa)}function n(t,n){e.moveTo(t,n),l.point=r}function r(t,n){e.lineTo(t,n)}function i(){l.point=t}function o(){e.closePath()}var a=4.5,l={point:t,lineStart:function(){l.point=n},lineEnd:i,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=i,l.point=t},pointRadius:function(e){return a=e,l},result:N};return l}function ln(e){function t(e){return(l?r:n)(e)}function n(t){return cn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,k.point=o,t.lineStart()}function o(n,r){var o=xt([n,r]),a=e(n,r);i(b,x,y,w,S,M,b=a[0],x=a[1],y=n,w=o[0],S=o[1],M=o[2],l,t),t.point(b,x)}function a(){k.point=n,t.lineEnd()}function s(){r(),k.point=u,k.lineEnd=c}function u(e,t){o(d=e,f=t),p=b,h=x,g=w,v=S,m=M,k.point=o}function c(){i(b,x,y,w,S,M,p,h,d,g,v,m,l,t),k.lineEnd=a,a()}var d,f,p,h,g,v,m,y,b,x,w,S,M,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),k.lineStart=s},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function i(t,n,r,l,s,u,c,d,f,p,h,g,v,m){var y=c-t,b=d-n,x=y*y+b*b;if(x>4*o&&v--){var w=l+p,S=s+h,M=u+g,k=Math.sqrt(w*w+S*S+M*M),C=Math.asin(M/=k),N=Ma(Ma(M)-1)<qa||Ma(r-f)<qa?(r+f)/2:Math.atan2(S,w),E=e(N,C),T=E[0],L=E[1],_=T-t,A=L-n,O=b*_-y*A;(O*O/x>o||Ma((y*_+b*A)/x-.5)>.3||l*p+s*h+u*g<a)&&(i(t,n,r,l,s,u,T,L,N,w/=k,S/=k,M,v,m),m.point(T,L),i(T,L,N,w,S,M,c,d,f,p,h,g,v,m))}}var o=.5,a=Math.cos(30*Va),l=16;return t.precision=function(e){return arguments.length?(l=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function sn(e){var t=ln(function(t,n){return e([t*Ga,n*Ga])});return function(e){return pn(t(e))}}function un(e){this.stream=e}function cn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function dn(e){return fn(function(){return e})()}function fn(e){function t(e){return e=l(e[0]*Va,e[1]*Va),[e[0]*f+s,u-e[1]*f]}function n(e){return(e=l.invert((e[0]-s)/f,(u-e[1])/f))&&[e[0]*Ga,e[1]*Ga]}function r(){l=Dt(a=vn(m,y,b),o);var e=o(g,v);return s=p-e[0]*f,u=h+e[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,l,s,u,c,d=ln(function(e,t){return e=o(e,t),[e[0]*f+s,u-e[1]*f]}),f=150,p=480,h=250,g=0,v=0,m=0,y=0,b=0,x=ql,w=M,S=null,k=null;return t.stream=function(e){return c&&(c.valid=!1),c=pn(x(a,d(w(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(x=null==e?(S=e,ql):Gt((S=+e)*Va),i()):S},t.clipExtent=function(e){return arguments.length?(k=e,w=e?Xt(e[0][0],e[0][1],e[1][0],e[1][1]):M,i()):k},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(p=+e[0],h=+e[1],r()):[p,h]},t.center=function(e){return arguments.length?(g=e[0]%360*Va,v=e[1]%360*Va,r()):[g*Ga,v*Ga]},t.rotate=function(e){return arguments.length?(m=e[0]%360*Va,y=e[1]%360*Va,b=e.length>2?e[2]%360*Va:0,r()):[m*Ga,y*Ga,b*Ga]},pa.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function pn(e){return cn(e,function(t,n){e.point(t*Va,n*Va)})}function hn(e,t){return[e,t]}function gn(e,t){return[e>Fa?e-Wa:e<-Fa?e+Wa:e,t]}function vn(e,t,n){return e?t||n?Dt(yn(e),bn(t,n)):yn(e):t||n?bn(t,n):gn}function mn(e){return function(t,n){return t+=e,[t>Fa?t-Wa:t<-Fa?t+Wa:t,n]}}function yn(e){var t=mn(e);return t.invert=mn(-e),t}function bn(e,t){function n(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,u=Math.sin(t),c=u*r+l*i;return[Math.atan2(s*o-c*a,l*r-u*i),ae(c*o+s*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,u=Math.sin(t),c=u*o-s*a;return[Math.atan2(s*o+u*a,l*r+c*i),ae(c*r-l*i)]},n}function xn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,l){var s=a*t;null!=i?(i=wn(n,i),o=wn(n,o),(a>0?i<o:i>o)&&(i+=a*Wa)):(i=e+a*Wa,o=e-.5*s);for(var u,c=i;a>0?c>o:c<o;c-=s)l.point((u=Nt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function wn(e,t){var n=xt(t);n[0]-=e,Ct(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-qa)%(2*Math.PI)}function Sn(e,t,n){var r=pa.range(e,t-qa,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function Mn(e,t,n){var r=pa.range(e,t-qa,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function kn(e){return e.source}function Cn(e){return e.target}function Nn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),l=Math.sin(r),s=i*Math.cos(e),u=i*Math.sin(e),c=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ce(r-t)+i*a*ce(n-e))),p=1/Math.sin(f),h=f?function(e){var t=Math.sin(e*=f)*p,n=Math.sin(f-e)*p,r=n*s+t*c,i=n*u+t*d,a=n*o+t*l;return[Math.atan2(i,r)*Ga,Math.atan2(a,Math.sqrt(r*r+i*i))*Ga]}:function(){return[e*Ga,t*Ga]};return h.distance=f,h}function En(){function e(e,i){var o=Math.sin(i*=Va),a=Math.cos(i),l=Ma((e*=Va)-t),s=Math.cos(l);$l+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=r*o-n*a*s)*l),n*o+r*a*s),t=e,n=o,r=a}var t,n,r;Kl.point=function(i,o){t=i*Va,n=Math.sin(o*=Va),r=Math.cos(o),Kl.point=e},Kl.lineEnd=function(){Kl.point=Kl.lineEnd=N}}function Tn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function Ln(e,t){function n(e,t){a>0?t<-Ua+qa&&(t=-Ua+qa):t>Ua-qa&&(t=Ua-qa);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Fa/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ua]},n):An}function _n(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return Ma(i)<qa?hn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function An(e,t){return[e,Math.log(Math.tan(Fa/4+t/2))]}function On(e){var t,n=dn(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var l=Fa*r(),s=i();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(a=null);return a},n.clipExtent(null)}function Dn(e,t){return[Math.log(Math.tan(Fa/4+t/2)),-e]}function Pn(e){return e[0]}function In(e){return e[1]}function Rn(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function jn(e,t){return e[0]-t[0]||e[1]-t[1]}function Hn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function qn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,l=r[0]-o,s=e[1],u=n[1],c=t[1]-s,d=r[1]-u,f=(l*(s-u)-d*(i-o))/(d*a-l*c);return[i+f*a,s+f*c]}function zn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Fn(){sr(this),this.edge=this.site=this.circle=null}function Wn(e){var t=us.pop()||new Fn;return t.site=e,t}function Bn(e){Qn(e),as.remove(e),us.push(e),sr(e)}function Un(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,l=[e];Bn(e);for(var s=o;s.circle&&Ma(n-s.circle.x)<qa&&Ma(r-s.circle.cy)<qa;)o=s.P,l.unshift(s),Bn(s),s=o;l.unshift(s),Qn(s);for(var u=a;u.circle&&Ma(n-u.circle.x)<qa&&Ma(r-u.circle.cy)<qa;)a=u.N,l.push(u),Bn(u),u=a;l.push(u),Qn(u);var c,d=l.length;for(c=1;c<d;++c)u=l[c],s=l[c-1],or(u.edge,s.site,u.site,i);s=l[0],u=l[d-1],u.edge=rr(s.site,u.site,null,i),Zn(s),Zn(u)}function Vn(e){for(var t,n,r,i,o=e.x,a=e.y,l=as._;l;)if((r=Gn(l,a)-o)>qa)l=l.L;else{if(!((i=o-Yn(l,a))>qa)){r>-qa?(t=l.P,n=l):i>-qa?(t=l,n=l.N):t=n=l;break}if(!l.R){t=l;break}l=l.R}var s=Wn(e);if(as.insert(t,s),t||n){if(t===n)return Qn(t),n=Wn(t.site),as.insert(s,n),s.edge=n.edge=rr(t.site,s.site),Zn(t),void Zn(n);if(!n)return void(s.edge=rr(t.site,s.site));Qn(t),Qn(n);var u=t.site,c=u.x,d=u.y,f=e.x-c,p=e.y-d,h=n.site,g=h.x-c,v=h.y-d,m=2*(f*v-p*g),y=f*f+p*p,b=g*g+v*v,x={x:(v*y-p*b)/m+c,y:(f*b-g*y)/m+d};or(n.edge,u,h,x),s.edge=rr(u,e,null,x),n.edge=rr(e,h,null,x),Zn(t),Zn(n)}}function Gn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;n=a.site;var l=n.x,s=n.y,u=s-t;if(!u)return l;var c=l-r,d=1/o-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-s+u/2+i-o/2)))/d+r:(r+l)/2}function Yn(e,t){var n=e.N;if(n)return Gn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Xn(e){this.site=e,this.edges=[]}function Jn(e){for(var t,n,r,i,o,a,l,s,u,c,d=e[0][0],f=e[1][0],p=e[0][1],h=e[1][1],g=os,v=g.length;v--;)if((o=g[v])&&o.prepare())for(l=o.edges,s=l.length,a=0;a<s;)c=l[a].end(),r=c.x,i=c.y,u=l[++a%s].start(),t=u.x,n=u.y,(Ma(r-t)>qa||Ma(i-n)>qa)&&(l.splice(a,0,new ar(ir(o.site,c,Ma(r-d)<qa&&h-i>qa?{x:d,y:Ma(t-d)<qa?n:h}:Ma(i-h)<qa&&f-r>qa?{x:Ma(n-h)<qa?t:f,y:h}:Ma(r-f)<qa&&i-p>qa?{x:f,y:Ma(t-f)<qa?n:p}:Ma(i-p)<qa&&r-d>qa?{x:Ma(n-p)<qa?t:d,y:p}:null),o.site,null)),++s)}function $n(e,t){return t.angle-e.angle}function Kn(){sr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,l=i.y,s=r.x-a,u=r.y-l,c=o.x-a,d=o.y-l,f=2*(s*d-u*c);if(!(f>=-za)){var p=s*s+u*u,h=c*c+d*d,g=(d*p-u*h)/f,v=(s*h-c*p)/f,d=v+l,m=cs.pop()||new Kn;m.arc=e,m.site=i,m.x=g+a,m.y=d+Math.sqrt(g*g+v*v),m.cy=d,e.circle=m;for(var y=null,b=ss._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ss.insert(y,m),y||(ls=m)}}}}function Qn(e){var t=e.circle;t&&(t.P||(ls=t.N),ss.remove(t),cs.push(t),sr(t),e.circle=null)}function er(e){for(var t,n=is,r=Yt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!tr(t,e)||!r(t)||Ma(t.a.x-t.b.x)<qa&&Ma(t.a.y-t.b.y)<qa)&&(t.a=t.b=null,n.splice(i,1))}function tr(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],l=t[1][0],s=t[0][1],u=t[1][1],c=e.l,d=e.r,f=c.x,p=c.y,h=d.x,g=d.y,v=(f+h)/2,m=(p+g)/2;if(g===p){if(v<a||v>=l)return;if(f>h){if(o){if(o.y>=u)return}else o={x:v,y:s};n={x:v,y:u}}else{if(o){if(o.y<s)return}else o={x:v,y:u};n={x:v,y:s}}}else if(r=(f-h)/(g-p),i=m-r*v,r<-1||r>1)if(f>h){if(o){if(o.y>=u)return}else o={x:(s-i)/r,y:s};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<s)return}else o={x:(u-i)/r,y:u};n={x:(s-i)/r,y:s}}else if(p<g){if(o){if(o.x>=l)return}else o={x:a,y:r*a+i};n={x:l,y:r*l+i}}else{if(o){if(o.x<a)return}else o={x:l,y:r*l+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function rr(e,t,n,r){var i=new nr(e,t);return is.push(i),n&&or(i,e,t,n),r&&or(i,t,e,r),os[e.i].edges.push(new ar(i,e,t)),os[t.i].edges.push(new ar(i,t,e)),i}function ir(e,t,n){var r=new nr(e,null);return r.a=t,r.b=n,is.push(r),r}function or(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ar(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function lr(){this._=null}function sr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ur(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function dr(e){for(;e.L;)e=e.L;return e}function fr(e,t){var n,r,i,o=e.sort(pr).pop();for(is=[],os=new Array(e.length),as=new lr,ss=new lr;;)if(i=ls,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(os[o.i]=new Xn(o),Vn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Un(i.arc)}t&&(er(t),Jn(t));var a={cells:os,edges:is};return as=ss=is=os=null,a}function pr(e,t){return t.y-e.y||t.x-e.x}function hr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function gr(e){return e.x}function vr(e){return e.y}function mr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),l=.5*(r+o),s=t.nodes;s[0]&&yr(e,s[0],n,r,a,l),s[1]&&yr(e,s[1],a,r,i,l),s[2]&&yr(e,s[2],n,l,a,o),s[3]&&yr(e,s[3],a,l,i,o)}}function br(e,t,n,r,i,o,a){var l,s=1/0;return function e(u,c,d,f,p){if(!(c>o||d>a||f<r||p<i)){if(h=u.point){var h,g=t-u.x,v=n-u.y,m=g*g+v*v;if(m<s){var y=Math.sqrt(s=m);r=t-y,i=n-y,o=t+y,a=n+y,l=h}}for(var b=u.nodes,x=.5*(c+f),w=.5*(d+p),S=t>=x,M=n>=w,k=M<<1|S,C=k+4;k<C;++k)if(u=b[3&k])switch(3&k){case 0:e(u,c,d,x,w);break;case 1:e(u,x,d,f,w);break;case 2:e(u,c,w,x,p);break;case 3:e(u,x,w,f,p)}}}(e,r,i,o,a),l}function xr(e,t){e=pa.rgb(e),t=pa.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,l=t.b-i;return function(e){return"#"+Ce(Math.round(n+o*e))+Ce(Math.round(r+a*e))+Ce(Math.round(i+l*e))}}function wr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=kr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function Sr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mr(e,t){var n,r,i,o=fs.lastIndex=ps.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=fs.exec(e))&&(r=ps.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Sr(n,r)})),o=ps.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?(t=s[0].x,function(e){return t(e)+""}):function(){return t}:(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function kr(e,t){for(var n,r=pa.interpolators.length;--r>=0&&!(n=pa.interpolators[r](e,t)););return n}function Cr(e,t){var n,r=[],i=[],o=e.length,a=t.length,l=Math.min(e.length,t.length);for(n=0;n<l;++n)r.push(kr(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<l;++n)i[n]=r[n](e);return i}}function Nr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Er(e){return function(t){return 1-e(1-t)}}function Tr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Lr(e){return e*e}function _r(e){return e*e*e}function Ar(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Or(e){return function(t){return Math.pow(t,e)}}function Dr(e){return 1-Math.cos(e*Ua)}function Pr(e){return Math.pow(2,10*(e-1))}function Ir(e){return 1-Math.sqrt(1-e*e)}function Rr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Wa*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Wa/t)}}function jr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Hr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function qr(e,t){e=pa.hcl(e),t=pa.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return ge(n+o*e,r+a*e,i+l*e)+""}}function zr(e,t){e=pa.hsl(e),t=pa.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return pe(n+o*e,r+a*e,i+l*e)+""}}function Fr(e,t){e=pa.lab(e),t=pa.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,l=t.b-i;return function(e){return me(n+o*e,r+a*e,i+l*e)+""}}function Wr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Br(e){var t=[e.a,e.b],n=[e.c,e.d],r=Vr(t),i=Ur(t,n),o=Vr(Gr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ga,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ga:0}function Ur(e,t){return e[0]*t[0]+e[1]*t[1]}function Vr(e){var t=Math.sqrt(Ur(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Gr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Yr(e){return e.length?e.pop()+",":""}function Xr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Sr(e[0],t[0])},{i:i-2,x:Sr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Jr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Yr(n)+"rotate(",null,")")-2,x:Sr(e,t)})):t&&n.push(Yr(n)+"rotate("+t+")")}function $r(e,t,n,r){e!==t?r.push({i:n.push(Yr(n)+"skewX(",null,")")-2,x:Sr(e,t)}):t&&n.push(Yr(n)+"skewX("+t+")")}function Kr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Yr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Sr(e[0],t[0])},{i:i-2,x:Sr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Yr(n)+"scale("+t+")")}function Zr(e,t){var n=[],r=[];return e=pa.transform(e),t=pa.transform(t),Xr(e.translate,t.translate,n,r),Jr(e.rotate,t.rotate,n,r),$r(e.skew,t.skew,n,r),Kr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function Qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ei(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ti(e){for(var t=e.source,n=e.target,r=ri(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ni(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ri(e,t){if(e===t)return e;for(var n=ni(e),r=ni(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ii(e){e.fixed|=2}function oi(e){e.fixed&=-7}function ai(e){e.fixed|=4,e.px=e.x,e.py=e.y}function li(e){e.fixed&=-5}function si(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,l=a.length,s=-1;++s<l;)null!=(o=a[s])&&(si(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ui(e,t){return pa.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=gi,e}function ci(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function di(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function fi(e){return e.children}function pi(e){return e.value}function hi(e,t){return t.value-e.value}function gi(e){return pa.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function vi(e){return e.x}function mi(e){return e.y}function yi(e,t,n){e.y0=t,e.y=n}function bi(e){return pa.range(e.length)}function xi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function wi(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Si(e){return e.reduce(Mi,0)}function Mi(e,t){return e+t[1]}function ki(e,t){return Ci(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ci(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Ni(e){return[pa.min(e),pa.max(e)]}function Ei(e,t){return e.value-t.value}function Ti(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Li(e,t){e._pack_next=t,t._pack_prev=e}function _i(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ai(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(u=n.length)){var n,r,i,o,a,l,s,u,c=1/0,d=-1/0,f=1/0,p=-1/0;if(n.forEach(Oi),r=n[0],r.x=-r.r,r.y=0,t(r),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(o=n[2],Ii(r,i,o),t(o),Ti(r,o),r._pack_prev=o,Ti(o,i),i=r._pack_next,a=3;a<u;a++){Ii(r,i,o=n[a]);var h=0,g=1,v=1;for(l=i._pack_next;l!==i;l=l._pack_next,g++)if(_i(l,o)){h=1;break}if(1==h)for(s=r._pack_prev;s!==l._pack_prev&&!_i(s,o);s=s._pack_prev,v++);h?(g<v||g==v&&i.r<r.r?Li(r,i=l):Li(r=s,i),a--):(Ti(r,o),i=o,t(o))}var m=(c+d)/2,y=(f+p)/2,b=0;for(a=0;a<u;a++)o=n[a],o.x-=m,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(Di)}}function Oi(e){e._pack_next=e._pack_prev=e}function Di(e){delete e._pack_next,delete e._pack_prev}function Pi(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)Pi(i[o],t,n,r)}function Ii(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,l=i*i+o*o;a*=a,r*=r;var s=.5+(r-a)/(2*l),u=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=e.x+s*i+u*o,n.y=e.y+s*o-u*i}else n.x=e.x+r,n.y=e.y}function Ri(e,t){return e.parent==t.parent?1:2}function ji(e){var t=e.children;return t.length?t[0]:e.t}function Hi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function qi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function zi(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Fi(e,t,n){return e.a.parent===t.parent?e.a:n}function Wi(e){return 1+pa.max(e,function(e){return e.y})}function Bi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ui(e){var t=e.children;return t&&t.length?Ui(t[0]):e}function Vi(e){var t,n=e.children;return n&&(t=n.length)?Vi(n[t-1]):e}function Gi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Yi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Xi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Ji(e){return e.rangeExtent?e.rangeExtent():Xi(e.range())}function $i(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Ki(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Zi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:ks}function Qi(e,t,n,r){var i=[],o=[],a=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=l;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=pa.bisect(e,t,1,l)-1;return o[n](i[n](t))}}function eo(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Qi:$i,s=r?ei:Qr;return a=i(e,t,s,n),l=i(t,e,s,kr),o}function o(e){return a(e)}var a,l;return o.invert=function(e){return l(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Wr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return io(e,t)},o.tickFormat=function(t,n){return oo(e,t,n)},o.nice=function(t){return no(e,t),i()},o.copy=function(){return eo(e,t,n,r)},i()}function to(e,t){return pa.rebind(e,t,"range","rangeRound","interpolate","clamp")}function no(e,t){return Ki(e,Zi(ro(e,t)[2])),Ki(e,Zi(ro(e,t)[2])),e}function ro(e,t){null==t&&(t=10);var n=Xi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function io(e,t){return pa.range.apply(pa,ro(e,t))}function oo(e,t,n){var r=ro(e,t);if(n){var i=fl.exec(n);if(i.shift(),"s"===i[8]){var o=pa.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return i[7]||(i[7]="."+ao(o.scale(r[2]))),i[8]="f",n=pa.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+lo(i[8],r)),n=i.join("")}else n=",."+ao(r[2])+"f";return pa.format(n)}function ao(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function lo(e,t){var n=ao(t[2]);return e in Cs?Math.abs(n-ao(Math.max(Ma(t[0]),Ma(t[1]))))+ +("e"!==e):n-2*("%"===e)}function so(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Ki(r.map(i),n?Math:Es);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Xi(r),a=[],l=e[0],s=e[1],u=Math.floor(i(l)),c=Math.ceil(i(s)),d=t%1?2:t;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var f=1;f<d;f++)a.push(o(u)*f);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var f=d-1;f>0;f--)a.push(o(u)*f);for(u=0;a[u]<l;u++);for(c=a.length;a[c-1]>s;c--);a=a.slice(u,c)}return a},a.tickFormat=function(e,n){if(!arguments.length)return Ns;arguments.length<2?n=Ns:"function"!=typeof n&&(n=pa.format(n));var r=Math.max(1,t*e/a.ticks().length);return function(e){var a=e/o(Math.round(i(e)));return a*t<t-.5&&(a*=t),a<=r?n(e):""}},a.copy=function(){return so(e.copy(),t,n,r)},to(a,e)}function uo(e,t,n){function r(t){return e(i(t))}var i=co(t),o=co(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return io(n,e)},r.tickFormat=function(e,t){return oo(n,e,t)},r.nice=function(e){return r.domain(no(n,e))},r.exponent=function(a){return arguments.length?(i=co(t=a),o=co(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return uo(e.copy(),t,n)},to(r,e)}function co(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return pa.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new h;for(var o,a=-1,l=r.length;++a<l;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],u=i[1],c=e.length<2?(s=(s+u)/2,0):(u-s)/(e.length-1+l);return o=r(s+c*l/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],u=i[1],c=e.length<2?(s=u=Math.round((s+u)/2),0):(u-s)/(e.length-1+l)|0;return o=r(s+Math.round(c*l/2+(u-s-(e.length-1+l)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=(d-c)/(e.length-l+2*s);return o=r(c+f*s,f),u&&o.reverse(),a=f*(1-l),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=Math.floor((d-c)/(e.length-l+2*s));return o=r(c+Math.round((d-c-(e.length-l)*f)/2),f),u&&o.reverse(),a=Math.round(f*(1-l)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Xi(t.a[0])},n.copy=function(){return fo(e,t)},n.domain(e)}function po(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=pa.quantile(e,n/o);return r}function r(e){if(!isNaN(e=+e))return t[pa.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(s).filter(u).sort(l),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return po(e,t)},n()}function ho(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return ho(e,t,n)},i()}function go(e,t){function n(n){if(n<=n)return t[pa.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return go(e,t)},n}function vo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return io(e,t)},t.tickFormat=function(t,n){return oo(e,t,n)},t.copy=function(){return vo(e)},t}function mo(){return 0}function yo(e){return e.innerRadius}function bo(e){return e.outerRadius}function xo(e){return e.startAngle}function wo(e){return e.endAngle}function So(e){return e&&e.padAngle}function Mo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ko(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],l=(i?r:-r)/Math.sqrt(o*o+a*a),s=l*a,u=-l*o,c=e[0]+s,d=e[1]+u,f=t[0]+s,p=t[1]+u,h=(c+f)/2,g=(d+p)/2,v=f-c,m=p-d,y=v*v+m*m,b=n-r,x=c*p-f*d,w=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),S=(x*m-v*w)/y,M=(-x*v-m*w)/y,k=(x*m+v*w)/y,C=(-x*v+m*w)/y,N=S-h,E=M-g,T=k-h,L=C-g;return N*N+E*E>T*T+L*L&&(S=k,M=C),[[S-s,M-u],[S*n/b,M*n/b]]}function Co(e){function t(t){function a(){u.push("M",o(e(c),l))}for(var s,u=[],c=[],d=-1,f=t.length,p=Ae(n),h=Ae(r);++d<f;)i.call(this,s=t[d],d)?c.push([+p.call(this,s,d),+h.call(this,s,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Pn,r=In,i=Pt,o=No,a=o.key,l=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Ds.get(e)||No).key,t):a},t.tension=function(e){return arguments.length?(l=e,t):l},t}function No(e){return e.length>1?e.join("L"):e+"Z"}function Eo(e){return e.join("L")+"Z"}function To(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Lo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function _o(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Ao(e,t){return e.length<4?No(e):e[1]+Po(e.slice(1,-1),Io(e,t))}function Oo(e,t){return e.length<3?Eo(e):e[0]+Po((e.push(e[0]),e),Io([e[e.length-2]].concat(e,[e[1]]),t))}function Do(e,t){return e.length<3?No(e):e[0]+Po(e,Io(e,t))}function Po(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return No(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],l=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],s=2),t.length>1){l=t[1],o=e[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,s++)o=e[s],l=t[u],r+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var c=e[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function Io(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],l=1,s=e.length;++l<s;)n=o,o=a,a=e[l],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ro(e){if(e.length<3)return No(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],l=[o,o,o,r[1]],s=[i,",",o,"L",zo(Rs,a),",",zo(Rs,l)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),Fo(s,a,l);return e.pop(),s.push("L",r),s.join("")}function jo(e){if(e.length<4)return No(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(zo(Rs,o)+","+zo(Rs,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Fo(n,o,a);return n.join("")}function Ho(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],l=[];++r<4;)n=e[r%i],a.push(n[0]),l.push(n[1]);for(t=[zo(Rs,a),",",zo(Rs,l)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),Fo(t,a,l);return t.join("")}function qo(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],l=e[n][0]-o,s=e[n][1]-a,u=-1;++u<=n;)r=e[u],i=u/n,r[0]=t*r[0]+(1-t)*(o+i*l),r[1]=t*r[1]+(1-t)*(a+i*s);return Ro(e)}function zo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Fo(e,t,n){e.push("C",zo(Ps,t),",",zo(Ps,n),",",zo(Is,t),",",zo(Is,n),",",zo(Rs,t),",",zo(Rs,n))}function Wo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Bo(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Wo(i,o);++t<n;)r[t]=(a+(a=Wo(i=o,o=e[t+1])))/2;return r[t]=a,r}function Uo(e){for(var t,n,r,i,o=[],a=Bo(e),l=-1,s=e.length-1;++l<s;)t=Wo(e[l],e[l+1]),Ma(t)<qa?a[l]=a[l+1]=0:(n=a[l]/t,r=a[l+1]/t,(i=n*n+r*r)>9&&(i=3*t/Math.sqrt(i),a[l]=i*n,a[l+1]=i*r));for(l=-1;++l<=s;)i=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),o.push([i||0,a[l]*i||0]);return o}function Vo(e){return e.length<3?No(e):e[0]+Po(e,Uo(e))}function Go(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Ua,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Yo(e){function t(t){function s(){g.push("M",l(e(m),d),c,u(e(v.reverse()),d),"Z")}for(var f,p,h,g=[],v=[],m=[],y=-1,b=t.length,x=Ae(n),w=Ae(i),S=n===r?function(){return p}:Ae(r),M=i===o?function(){return h}:Ae(o);++y<b;)a.call(this,f=t[y],y)?(v.push([p=+x.call(this,f,y),h=+w.call(this,f,y)]),m.push([+S.call(this,f,y),+M.call(this,f,y)])):v.length&&(s(),v=[],m=[]);return v.length&&s(),g.length?g.join(""):null}var n=Pn,r=Pn,i=0,o=In,a=Pt,l=No,s=l.key,u=l,c="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?l=e:(l=Ds.get(e)||No).key,u=l.reverse||l,c=l.closed?"M":"L",t):s},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Xo(e){return e.radius}function Jo(e){return[e.x,e.y]}function $o(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ua;return[n*Math.cos(r),n*Math.sin(r)]}}function Ko(){return 64}function Zo(){return"circle"}function Qo(e){var t=Math.sqrt(e/Fa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ea(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ta(e,t,n){return Ta(e,Bs),e.namespace=t,e.id=n,e}function na(e,t,n,r){var i=e.id,o=e.namespace;return X(e,"function"==typeof n?function(e,a,l){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,l)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function ra(e){return null==e&&(e=""),function(){this.textContent=e}}function ia(e){return null==e?"__transition__":"__transition_"+e+"__"}function oa(e,t,n,r,i){function o(e){var t=g.delay;if(u.t=t+s,t<=e)return a(e-t);u.c=a}function a(n){var i=p.active,o=p[i];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[i],o.event&&o.event.interrupt.call(e,e.__data__,o.index));for(var a in p)if(+a<r){var h=p[a];h.timer.c=null,h.timer.t=NaN,--p.count,delete p[a]}u.c=l,Re(function(){return u.c&&l(n||1)&&(u.c=null,u.t=NaN),1},0,s),p.active=r,g.event&&g.event.start.call(e,e.__data__,t),f=[],g.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&f.push(r)}),d=g.ease,c=g.duration}function l(i){for(var o=i/c,a=d(o),l=f.length;l>0;)f[--l].call(e,a);if(o>=1)return g.event&&g.event.end.call(e,e.__data__,t),--p.count?delete p[r]:delete e[n],1}var s,u,c,d,f,p=e[n]||(e[n]={active:0,count:0}),g=p[r];g||(s=i.time,u=Re(o,0,s),g=p[r]={tween:new h,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++p.count)}function aa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function la(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function sa(e){return e.toISOString()}function ua(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=pa.bisect(Zs,i);return o==Zs.length?[t.year,ro(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Zs[o-1]<Zs[o]/i?o-1:o]:[tu,ro(e,n)[2]]}return r.invert=function(t){return ca(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ca)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ca(+n+1),t).length}var o=r.domain(),a=Xi(o),l=null==e?i(a,10):"number"==typeof e&&i(a,e);return l&&(e=l[0],t=l[1]),r.domain(Ki(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ca(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ca(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Xi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],ca(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ua(e.copy(),t,n)},to(r,e)}function ca(e){return new Date(e)}function da(e){return JSON.parse(e.responseText)}function fa(e){var t=va.createRange();return t.selectNode(va.body),t.createContextualFragment(e.responseText)}var pa={version:"3.5.13"},ha=[].slice,ga=function(e){return ha.call(e)},va=this.document;if(va)try{ga(va.documentElement.childNodes)[0].nodeType}catch(e){ga=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),va)try{va.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var ma=this.Element.prototype,ya=ma.setAttribute,ba=ma.setAttributeNS,xa=this.CSSStyleDeclaration.prototype,wa=xa.setProperty;ma.setAttribute=function(e,t){ya.call(this,e,t+"")},ma.setAttributeNS=function(e,t,n){ba.call(this,e,t,n+"")},xa.setProperty=function(e,t,n){wa.call(this,e,t+"",n)}}pa.ascending=l,pa.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},pa.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},pa.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},pa.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},pa.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=+e[o])&&(r+=n);else for(;++o<i;)u(n=+t.call(e,e[o],o))&&(r+=n);return r},pa.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)u(n=s(e[o]))?r+=n:--a;else for(;++o<i;)u(n=s(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},pa.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},pa.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=s(e[o]))&&r.push(n);else for(;++o<i;)u(n=s(t.call(e,e[o],o)))&&r.push(n);if(r.length)return pa.quantile(r.sort(l),.5)},pa.variance=function(e,t){var n,r,i=e.length,o=0,a=0,l=-1,c=0;if(1===arguments.length)for(;++l<i;)u(n=s(e[l]))&&(r=n-o,o+=r/++c,a+=r*(n-o));else for(;++l<i;)u(n=s(t.call(e,e[l],l)))&&(r=n-o,o+=r/++c,a+=r*(n-o));if(c>1)return a/(c-1)},pa.deviation=function(){var e=pa.variance.apply(this,arguments);return e?Math.sqrt(e):e};var Sa=c(l);pa.bisectLeft=Sa.left,pa.bisect=pa.bisectRight=Sa.right,pa.bisector=function(e){return c(1===e.length?function(t,n){return l(e(t),n)}:e)},pa.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},pa.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},pa.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},pa.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=pa.min(arguments,d),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},pa.transpose=function(e){return pa.zip.apply(pa,e)},pa.keys=function(e){var t=[];for(var n in e)t.push(n);return t},pa.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},pa.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},pa.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var Ma=Math.abs;pa.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=f(Ma(n)),a=-1;if(e*=o,t*=o,n*=o,n<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},pa.map=function(e,t){var n=new h;if(e instanceof h)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var ka="__proto__",Ca="\0";p(h,{has:m,get:function(e){return this._[g(e)]},set:function(e,t){return this._[g(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:x,empty:w,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),pa.nest=function(){function e(t,a,l){if(l>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var s,u,c,d,f=-1,p=a.length,g=o[l++],v=new h;++f<p;)(d=v.get(s=g(u=a[f])))?d.push(u):v.set(s,[u]);return t?(u=t(),c=function(n,r){u.set(n,e(t,r,l))}):(u={},c=function(n,r){u[n]=e(t,r,l)}),v.forEach(c),u}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(pa.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},pa.set=function(e){var t=new S;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},p(S,{has:m,add:function(e){return this._[g(e+="")]=!0,e},remove:y,values:b,size:x,empty:w,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),pa.behavior={},pa.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=k(e,t,t[n]);return e};var Na=["webkit","ms","moz","Moz","o","O"];pa.dispatch=function(){for(var e=new E,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=T(e);return e},E.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},pa.event=null,pa.requote=function(e){return e.replace(Ea,"\\$&")};var Ea=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ta={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},La=function(e,t){return t.querySelector(e)},_a=function(e,t){return t.querySelectorAll(e)},Aa=function(e,t){var n=e.matches||e[C(e,"matchesSelector")];return(Aa=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(La=function(e,t){return Sizzle(e,t)[0]||null},_a=Sizzle,Aa=Sizzle.matchesSelector),pa.selection=function(){return pa.select(va.documentElement)};var Oa=pa.selection.prototype=[];Oa.select=function(e){var t,n,r,i,o=[];e=D(e);for(var a=-1,l=this.length;++a<l;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var s=-1,u=r.length;++s<u;)(i=r[s])?(t.push(n=e.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return O(o)},Oa.selectAll=function(e){var t,n,r=[];e=P(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,s=a.length;++l<s;)(n=a[l])&&(r.push(t=ga(e.call(n,n.__data__,l,i))),t.parentNode=n);return O(r)};var Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};pa.ns={prefix:Da,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Da.hasOwnProperty(n)?{space:Da[n],local:e}:e}},Oa.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=pa.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(I(t,e[t]));return this}return this.each(I(e,t))},Oa.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=H(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!j(e[i]).test(t))return!1;return!0}for(t in e)this.each(q(t,e[t]));return this}return this.each(q(e,t))},Oa.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(F(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(F(e,t,n))},Oa.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(W(t,e[t]));return this}return this.each(W(e,t))},Oa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Oa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Oa.append=function(e){return e=B(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Oa.insert=function(e,t){return e=B(e),t=D(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Oa.remove=function(){return this.each(U)},Oa.data=function(e,t){function n(e,n){var r,i,o,a=e.length,c=n.length,d=Math.min(a,c),f=new Array(c),p=new Array(c),g=new Array(a);if(t){var v,m=new h,y=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(m.has(v=t.call(i,i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v);for(r=-1;++r<c;)(i=m.get(v=t.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):p[r]=V(o),m.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==m.get(y[r])&&(g[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=V(o);for(;r<c;++r)p[r]=V(n[r]);for(;r<a;++r)g[r]=e[r]}p.update=f,p.parentNode=f.parentNode=g.parentNode=e.parentNode,l.push(p),s.push(f),u.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var l=J([]),s=O([]),u=O([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return s.enter=function(){return l},s.exit=function(){return u},s},Oa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Oa.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=G(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,o)&&t.push(r)}return O(i)},Oa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Oa.sort=function(e){e=Y.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Oa.each=function(e){return X(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Oa.call=function(e){var t=ga(arguments);return e.apply(t[0]=this,t),this},Oa.empty=function(){return!this.node()},Oa.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Oa.size=function(){var e=0;return X(this,function(){++e}),e};var Pa=[];pa.selection.enter=J,pa.selection.enter.prototype=Pa,Pa.append=Oa.append,Pa.empty=Oa.empty,Pa.node=Oa.node,Pa.call=Oa.call,Pa.size=Oa.size,Pa.select=function(e){for(var t,n,r,i,o,a=[],l=-1,s=this.length;++l<s;){r=(i=this[l]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,l)),n.__data__=o.__data__):t.push(null)}return O(a)},Pa.insert=function(e,t){return arguments.length<2&&(t=$(this)),Oa.insert.call(this,e,t)},pa.select=function(e){var t;return"string"==typeof e?(t=[La(e,va)],t.parentNode=va.documentElement):(t=[e],t.parentNode=o(e)),O([t])},pa.selectAll=function(e){var t;return"string"==typeof e?(t=ga(_a(e,va)),t.parentNode=va.documentElement):(t=ga(e),t.parentNode=null),O([t])},Oa.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(K(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(K(e,t,n))};var Ia=pa.map({mouseenter:"mouseover",mouseleave:"mouseout"});va&&Ia.forEach(function(e){"on"+e in va&&Ia.remove(e)});var Ra,ja=0;pa.mouse=function(e){return te(e,_())};var Ha=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;pa.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=_().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return te(e,r)},pa.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function l(){var e,n,r=t(f,g);r&&(e=r[0]-b[0],n=r[1]-b[1],h|=e|n,b=r,p({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:e,dy:n}))}function s(){t(f,g)&&(m.on(o+v,null).on(a+v,null),y(h),p({type:"dragend"}))}var u,c=this,d=pa.event.target,f=c.parentNode,p=n.of(c,arguments),h=0,g=e(),v=".drag"+(null==g?"":"-"+g),m=pa.select(i(d)).on(o+v,l).on(a+v,s),y=ee(d),b=t(f,g);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],p({type:"dragstart"})}}var n=A(e,"drag","dragstart","dragend"),r=null,i=t(N,pa.mouse,a,"mousemove","mouseup"),o=t(ne,pa.touch,M,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},pa.rebind(e,n,"on")},pa.touches=function(e,t){return arguments.length<2&&(t=_().touches),t?ga(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var qa=1e-6,za=qa*qa,Fa=Math.PI,Wa=2*Fa,Ba=Wa-qa,Ua=Fa/2,Va=Fa/180,Ga=180/Fa,Ya=Math.SQRT2;pa.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],l=t[0],s=t[1],u=t[2],c=l-i,d=s-o,f=c*c+d*d;if(f<za)r=Math.log(u/a)/Ya,n=function(e){return[i+e*c,o+e*d,a*Math.exp(Ya*e*r)]};else{var p=Math.sqrt(f),h=(u*u-a*a+4*f)/(2*a*2*p),g=(u*u-a*a-4*f)/(2*u*2*p),v=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Ya,n=function(e){var t=e*r,n=se(v),l=a/(2*p)*(n*ue(Ya*t+v)-le(v));return[i+l*c,o+l*d,a*n/se(Ya*t+v)]}}return n.duration=1e3*r,n},pa.behavior.zoom=function(){function e(e){e.on(_,d).on(Ja+".zoom",p).on("dblclick.zoom",h).on(P,f)}function t(e){return[(e[0]-k.x)/k.k,(e[1]-k.y)/k.k]}function n(e){return[e[0]*k.k+k.x,e[1]*k.k+k.y]}function r(e){k.k=Math.max(N[0],Math.min(N[1],e))}function i(e,t){t=n(t),k.x+=e[0]-t[0],k.y+=e[1]-t[1]}function o(t,n,o,a){t.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,a)),i(v=n,o),t=pa.select(t),E>0&&(t=t.transition().duration(E)),t.call(e.event)}function l(){w&&w.domain(x.range().map(function(e){return(e-k.x)/k.k}).map(x.invert)),M&&M.domain(S.range().map(function(e){return(e-k.y)/k.k}).map(S.invert))}function s(e){T++||e({type:"zoomstart"})}function u(e){l(),e({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function c(e){--T||(e({type:"zoomend"}),v=null)}function d(){function e(){l=1,i(pa.mouse(r),f),u(o)}function n(){d.on(O,null).on(D,null),p(l),c(o)}var r=this,o=I.of(r,arguments),l=0,d=pa.select(a(r)).on(O,e).on(D,n),f=t(pa.mouse(r)),p=ee(r);Ws.call(r),s(o)}function f(){function e(){var e=pa.touches(h);return p=k.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=pa.event.target;pa.select(t).on(x,a).on(w,l),S.push(t);for(var n=pa.event.changedTouches,r=0,i=n.length;r<i;++r)v[n[r].identifier]=null;var s=e(),u=Date.now();if(1===s.length){if(u-b<500){var c=s[0];o(h,c,v[c.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),L()}b=u}else if(s.length>1){var c=s[0],d=s[1],f=c[0]-d[0],p=c[1]-d[1];m=f*f+p*p}}function a(){var e,t,n,o,a=pa.touches(h);Ws.call(h);for(var l=0,s=a.length;l<s;++l,o=null)if(n=a[l],o=v[n.identifier]){if(t)break;e=n,t=o}if(o){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,d=m&&Math.sqrt(c/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(d*p)}b=null,i(e,t),u(g)}function l(){if(pa.event.touches.length){for(var t=pa.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var i in v)return void e()}pa.selectAll(S).on(y,null),M.on(_,d).on(P,f),C(),c(g)}var p,h=this,g=I.of(h,arguments),v={},m=0,y=".zoom-"+pa.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,S=[],M=pa.select(h),C=ee(h);n(),s(g),M.on(_,null).on(P,n)}function p(){var e=I.of(this,arguments);y?clearTimeout(y):(Ws.call(this),g=t(v=m||pa.mouse(this)),s(e)),y=setTimeout(function(){y=null,c(e)},50),L(),r(Math.pow(2,.002*Xa())*k.k),i(v,g),u(e)}function h(){var e=pa.mouse(this),n=Math.log(k.k)/Math.LN2;o(this,e,t(e),pa.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,m,y,b,x,w,S,M,k={x:0,y:0,k:1},C=[960,500],N=$a,E=250,T=0,_="mousedown.zoom",O="mousemove.zoom",D="mouseup.zoom",P="touchstart.zoom",I=A(e,"zoomstart","zoom","zoomend");return Ja||(Ja="onwheel"in va?(Xa=function(){return-pa.event.deltaY*(pa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in va?(Xa=function(){return pa.event.wheelDelta},"mousewheel"):(Xa=function(){return-pa.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=I.of(this,arguments),t=k;zs?pa.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=pa.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),l=n/r[2];this.__chart__=k={x:i-r[0]*l,y:o-r[1]*l,k:l},u(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=k,s(e),u(e),c(e))})},e.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},l(),e):[k.x,k.y]},e.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},r(+t),l(),e):k.k},e.scaleExtent=function(t){return arguments.length?(N=null==t?$a:[+t[0],+t[1]],e):N},e.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],e):m},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.duration=function(t){return arguments.length?(E=+t,e):E},e.x=function(t){return arguments.length?(w=t,x=t.copy(),k={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(M=t,S=t.copy(),k={x:0,y:0,k:1},e):M},pa.rebind(e,I,"on")};var Xa,Ja,$a=[0,1/0];pa.color=de,de.prototype.toString=function(){return this.rgb()+""},pa.hsl=fe;var Ka=fe.prototype=new de;Ka.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,this.l/e)},Ka.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,e*this.l)},Ka.rgb=function(){return pe(this.h,this.s,this.l)},pa.hcl=he;var Za=he.prototype=new de;Za.brighter=function(e){return new he(this.h,this.c,Math.min(100,this.l+Qa*(arguments.length?e:1)))},Za.darker=function(e){return new he(this.h,this.c,Math.max(0,this.l-Qa*(arguments.length?e:1)))},Za.rgb=function(){return ge(this.h,this.c,this.l).rgb()},pa.lab=ve;var Qa=18,el=.95047,tl=1,nl=1.08883,rl=ve.prototype=new de;rl.brighter=function(e){return new ve(Math.min(100,this.l+Qa*(arguments.length?e:1)),this.a,this.b)},rl.darker=function(e){return new ve(Math.max(0,this.l-Qa*(arguments.length?e:1)),this.a,this.b)},rl.rgb=function(){return me(this.l,this.a,this.b)},pa.rgb=Se;var il=Se.prototype=new de;il.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new Se(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new Se(i,i,i)},il.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Se(e*this.r,e*this.g,e*this.b)},il.hsl=function(){return Ee(this.r,this.g,this.b)},il.toString=function(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)};var ol=pa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ol.forEach(function(e,t){ol.set(e,Me(t))}),pa.functor=Ae,pa.xhr=Oe(M),pa.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=De(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),s=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=u)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<u;){var r=e.charCodeAt(c++),l=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++l);else if(r!==s)continue;return e.slice(t,c-l)}return e.slice(t)}for(var r,i,o={},a={},l=[],u=e.length,c=0,d=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||l.push(f)}return l},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new S,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},pa.csv=pa.dsv(",","text/csv"),pa.tsv=pa.dsv("\t","text/tab-separated-values");var al,ll,sl,ul,cl=this[C(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};pa.timer=function(){Re.apply(this,arguments)},pa.timer.flush=function(){He(),qe()},pa.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var dl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Fe);pa.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=pa.round(e,ze(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),dl[8+n/3]};var fl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pl=pa.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=pa.round(e,ze(e,t))).toFixed(Math.max(0,Math.min(20,ze(e*(1+1e-15),t))))}}),hl=pa.time={},gl=Date;Ue.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vl.setUTCDate.apply(this._,arguments)},setDay:function(){vl.setUTCDay.apply(this._,arguments)},setFullYear:function(){vl.setUTCFullYear.apply(this._,arguments)},setHours:function(){vl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vl.setUTCSeconds.apply(this._,arguments)},setTime:function(){vl.setTime.apply(this._,arguments)}};var vl=Date.prototype;hl.year=Ve(function(e){return e=hl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),hl.years=hl.year.range,hl.years.utc=hl.year.utc.range,hl.day=Ve(function(e){var t=new gl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),hl.days=hl.day.range,hl.days.utc=hl.day.utc.range,hl.dayOfYear=function(e){var t=hl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=hl[e]=Ve(function(e){return(e=hl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=hl.year(e).getDay();return Math.floor((hl.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});hl[e+"s"]=n.range,hl[e+"s"].utc=n.utc.range,hl[e+"OfYear"]=function(e){var n=hl.year(e).getDay();return Math.floor((hl.dayOfYear(e)+(n+t)%7)/7)}}),hl.week=hl.sunday,hl.weeks=hl.sunday.range,hl.weeks.utc=hl.sunday.utc.range,hl.weekOfYear=hl.sundayOfYear;var ml={"-":"",_:" ",0:"0"},yl=/^\s*\d+/,bl=/^%/;pa.locale=function(e){return{numberFormat:We(e),timeFormat:Ye(e)}};var xl=pa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});pa.format=xl.numberFormat,pa.geo={},ht.prototype={s:0,t:0,add:function(e){gt(e,this.t,wl),gt(wl.s,this.s,this),this.s?this.t+=wl.t:this.s=wl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var wl=new ht;pa.geo.stream=function(e,t){e&&Sl.hasOwnProperty(e.type)?Sl[e.type](e,t):vt(e,t)};var Sl={Feature:function(e,t){vt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)vt(n[r].geometry,t)}},Ml={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){mt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mt(n[r],t,0)},Polygon:function(e,t){yt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)yt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)vt(n[r],t)}};pa.geo.area=function(e){return kl=0,pa.geo.stream(e,Nl),kl};var kl,Cl=new ht,Nl={sphere:function(){kl+=4*Fa},point:N,lineStart:N,lineEnd:N,polygonStart:function(){Cl.reset(),Nl.lineStart=bt},polygonEnd:function(){var e=2*Cl;kl+=e<0?4*Fa+e:e,Nl.lineStart=Nl.lineEnd=Nl.point=N}};pa.geo.bounds=function(){function e(e,t){b.push(x=[c=e,f=e]),t<d&&(d=t),t>p&&(p=t)}function t(t,n){var r=xt([t*Va,n*Va]);if(m){var i=St(m,r),o=[i[1],-i[0],0],a=St(o,i);Ct(a),a=Nt(a);var s=t-h,u=s>0?1:-1,g=a[0]*Ga*u,v=Ma(s)>180;if(v^(u*h<g&&g<u*t)){var y=a[1]*Ga;y>p&&(p=y)}else if(g=(g+360)%360-180,v^(u*h<g&&g<u*t)){var y=-a[1]*Ga;y<d&&(d=y)}else n<d&&(d=n),n>p&&(p=n);v?t<h?l(c,t)>l(c,f)&&(f=t):l(t,f)>l(c,f)&&(c=t):f>=c?(t<c&&(c=t),t>f&&(f=t)):t>h?l(c,t)>l(c,f)&&(f=t):l(t,f)>l(c,f)&&(c=t)}else e(t,n);m=r,h=t}function n(){w.point=t}function r(){x[0]=c,x[1]=f,w.point=e,m=null}function i(e,n){if(m){var r=e-h;y+=Ma(r)>180?r+(r>0?360:-360):r}else g=e,v=n;Nl.point(e,n),t(e,n)}function o(){Nl.lineStart()}function a(){i(g,v),Nl.lineEnd(),Ma(y)>qa&&(c=-(f=180)),x[0]=c,x[1]=f,m=null}function l(e,t){return(t-=e)<0?t+360:t}function s(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,d,f,p,h,g,v,m,y,b,x,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,Nl.polygonStart()},polygonEnd:function(){Nl.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,Cl<0?(c=-(f=180),d=-(p=90)):y>qa?p=90:y<-qa&&(d=-90),x[0]=c,x[1]=f}};return function(e){p=f=-(c=d=1/0),b=[],pa.geo.stream(e,w);var t=b.length;if(t){b.sort(s);for(var n,r=1,i=b[0],o=[i];r<t;++r)n=b[r],u(n[0],i)||u(n[1],i)?(l(i[0],n[1])>l(i[0],i[1])&&(i[1]=n[1]),l(n[0],i[1])>l(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,h=-1/0,t=o.length-1,r=0,i=o[t];r<=t;i=n,++r)n=o[r],(a=l(i[1],n[0]))>h&&(h=a,c=n[0],f=i[1])}return b=x=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,p]]}}(),pa.geo.centroid=function(e){El=Tl=Ll=_l=Al=Ol=Dl=Pl=Il=Rl=jl=0,pa.geo.stream(e,Hl);var t=Il,n=Rl,r=jl,i=t*t+n*n+r*r;return i<za&&(t=Ol,n=Dl,r=Pl,Tl<qa&&(t=Ll,n=_l,r=Al),(i=t*t+n*n+r*r)<za)?[NaN,NaN]:[Math.atan2(n,t)*Ga,ae(r/Math.sqrt(i))*Ga]};var El,Tl,Ll,_l,Al,Ol,Dl,Pl,Il,Rl,jl,Hl={sphere:N,point:Tt,lineStart:_t,lineEnd:At,polygonStart:function(){Hl.lineStart=Ot},polygonEnd:function(){Hl.lineStart=_t}},ql=Ht(Pt,Wt,Ut,[-Fa,-Fa/2]),zl=1e9;pa.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(l){return arguments.length?(o=Xt(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(pa.geo.conicEqualArea=function(){return Jt($t)}).raw=$t,pa.geo.albers=function(){return pa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},pa.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=pa.geo.albers(),a=pa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=pa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=l.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var u=o.scale(),c=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(s).point,r=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+qa,d+.12*u+qa],[c-.214*u-qa,d+.234*u-qa]]).stream(s).point,i=l.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+qa,d+.166*u+qa],[c-.115*u-qa,d+.234*u-qa]]).stream(s).point,e},e.scale(1070)};var Fl,Wl,Bl,Ul,Vl,Gl,Yl={point:N,lineStart:N,lineEnd:N,polygonStart:function(){Wl=0,Yl.lineStart=Kt},polygonEnd:function(){Yl.lineStart=Yl.lineEnd=Yl.point=N,Fl+=Ma(Wl/2)}},Xl={point:Zt,lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N},Jl={point:tn,lineStart:nn,lineEnd:rn,polygonStart:function(){Jl.lineStart=on},polygonEnd:function(){Jl.point=tn,Jl.lineStart=nn,Jl.lineEnd=rn}};pa.geo.path=function(){function e(e){return e&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=i(o)),pa.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,l=4.5;return e.area=function(e){return Fl=0,pa.geo.stream(e,i(Yl)),Fl},e.centroid=function(e){return Ll=_l=Al=Ol=Dl=Pl=Il=Rl=jl=0,pa.geo.stream(e,i(Jl)),jl?[Il/jl,Rl/jl]:Pl?[Ol/Pl,Dl/Pl]:Al?[Ll/Al,_l/Al]:[NaN,NaN]},e.bounds=function(e){return Vl=Gl=-(Bl=Ul=1/0),pa.geo.stream(e,i(Xl)),[[Bl,Ul],[Vl,Gl]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||sn(e):M,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Qt:new an(e),"function"!=typeof l&&o.pointRadius(l),t()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(pa.geo.albersUsa()).context(null)},pa.geo.transform=function(e){return{stream:function(t){var n=new un(t);for(var r in e)n[r]=e[r];return n}}},un.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},pa.geo.projection=dn,pa.geo.projectionMutator=fn,(pa.geo.equirectangular=function(){return dn(hn)}).raw=hn.invert=hn,pa.geo.rotation=function(e){function t(t){return t=e(t[0]*Va,t[1]*Va),t[0]*=Ga,t[1]*=Ga,t}return e=vn(e[0]%360*Va,e[1]*Va,e.length>2?e[2]*Va:0),t.invert=function(t){return t=e.invert(t[0]*Va,t[1]*Va),t[0]*=Ga,t[1]*=Ga,t},t},gn.invert=hn,pa.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=vn(-e[0]*Va,-e[1]*Va,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ga,e[1]*=Ga}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=xn((t=+r)*Va,i*Va),e):t},e.precision=function(r){return arguments.length?(n=xn(t*Va,(i=+r)*Va),e):i},e.angle(90)},pa.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Va,i=e[1]*Va,o=t[1]*Va,a=Math.sin(r),l=Math.cos(r),s=Math.sin(i),u=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-s*d*l)*n),s*c+u*d*l)},pa.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return pa.range(Math.ceil(o/v)*v,i,v).map(f).concat(pa.range(Math.ceil(u/m)*m,s,m).map(p)).concat(pa.range(Math.ceil(r/h)*h,n,h).filter(function(e){return Ma(e%v)>qa}).map(c)).concat(pa.range(Math.ceil(l/g)*g,a,g).filter(function(e){return Ma(e%m)>qa}).map(d))}var n,r,i,o,a,l,s,u,c,d,f,p,h=10,g=h,v=90,m=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(p(s).slice(1),f(i).reverse().slice(1),p(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],u=+t[0][1],s=+t[1][1],o>i&&(t=o,o=i,i=t),u>s&&(t=u,u=s,s=t),e.precision(y)):[[o,u],[i,s]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),e.precision(y)):[[r,l],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],m=+t[1],e):[v,m]},e.minorStep=function(t){return arguments.length?(h=+t[0],g=+t[1],e):[h,g]},e.precision=function(t){return arguments.length?(y=+t,c=Sn(l,a,90),d=Mn(r,n,y),f=Sn(u,s,90),p=Mn(o,i,y),e):y},e.majorExtent([[-180,-90+qa],[180,90-qa]]).minorExtent([[-180,-80-qa],[180,80+qa]])},pa.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=kn,i=Cn;return e.distance=function(){return pa.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},pa.geo.interpolate=function(e,t){return Nn(e[0]*Va,e[1]*Va,t[0]*Va,t[1]*Va)},pa.geo.length=function(e){return $l=0,pa.geo.stream(e,Kl),$l};var $l,Kl={sphere:N,point:N,lineStart:En,lineEnd:N,polygonStart:N,polygonEnd:N},Zl=Tn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(pa.geo.azimuthalEqualArea=function(){return dn(Zl)}).raw=Zl;var Ql=Tn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},M);(pa.geo.azimuthalEquidistant=function(){return dn(Ql)}).raw=Ql,(pa.geo.conicConformal=function(){return Jt(Ln)}).raw=Ln,(pa.geo.conicEquidistant=function(){return Jt(_n)}).raw=_n;var es=Tn(function(e){return 1/e},Math.atan);(pa.geo.gnomonic=function(){return dn(es)}).raw=es,An.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ua]},(pa.geo.mercator=function(){return On(An)}).raw=An;var ts=Tn(function(){return 1},Math.asin);(pa.geo.orthographic=function(){return dn(ts)}).raw=ts;var ns=Tn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(pa.geo.stereographic=function(){return dn(ns)}).raw=ns,Dn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ua]},(pa.geo.transverseMercator=function(){var e=On(Dn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Dn,pa.geom={},pa.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ae(n),o=Ae(r),a=e.length,l=[],s=[];for(t=0;t<a;t++)l.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(l.sort(jn),t=0;t<a;t++)s.push([l[t][0],-l[t][1]]);var u=Rn(l),c=Rn(s),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],p=[];for(t=u.length-1;t>=0;--t)p.push(e[l[u[t]][2]]);for(t=+d;t<c.length-f;++t)p.push(e[l[c[t]][2]]);return p}var n=Pn,r=In;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},pa.geom.polygon=function(e){return Ta(e,rs),e};var rs=pa.geom.polygon.prototype=[];rs.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},rs.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,l=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=l,l=this[r],n=t[0]*l[1]-l[0]*t[1],o+=(t[0]+l[0])*n,a+=(t[1]+l[1])*n;return[o*e,a*e]},rs.clip=function(e){for(var t,n,r,i,o,a,l=zn(e),s=-1,u=this.length-zn(this),c=this[u-1];++s<u;){for(t=e.slice(),e.length=0,i=this[s],o=t[(r=t.length-l)-1],n=-1;++n<r;)a=t[n],Hn(a,c,i)?(Hn(o,c,i)||e.push(qn(o,a,c,i)),e.push(a)):Hn(o,c,i)&&e.push(qn(o,a,c,i)),o=a;l&&e.push(e[0]),c=i}return e};var is,os,as,ls,ss,us=[],cs=[];Xn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort($n),t.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},lr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=dr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ur(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ur(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?dr(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ur(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,cr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,cr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},pa.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=l[0][0],i=l[0][1],o=l[1][0],a=l[1][1];return fr(n(e),l).cells.forEach(function(n,l){var s=n.edges,u=n.site;(t[l]=s.length?s.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=e[l]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/qa)*qa,y:Math.round(a(e,t)/qa)*qa,i:t}})}var r=Pn,i=In,o=r,a=i,l=ds;return e?t(e):(t.links=function(e){return fr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return fr(n(e)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort($n),l=-1,s=a.length,u=a[s-1].edge,c=u.l===o?u.r:u.l;++l<s;)u,i=c,u=a[l].edge,c=u.l===o?u.r:u.l,r<i.i&&r<c.i&&hr(o,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(o=Ae(r=e),t):r},t.y=function(e){return arguments.length?(a=Ae(i=e),t):i},t.clipExtent=function(e){return arguments.length?(l=null==e?ds:e,t):l===ds?null:l},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):l===ds?null:l&&l[1]},t)};var ds=[[-1e6,-1e6],[1e6,1e6]];pa.geom.delaunay=function(e){return pa.geom.voronoi().triangles(e)},pa.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,l){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var s=e.x,c=e.y;if(null!=s)if(Ma(s-n)+Ma(c-r)<.01)u(e,t,n,r,i,o,a,l);else{var d=e.point;e.x=e.y=e.point=null,u(e,d,s,c,i,o,a,l),u(e,t,n,r,i,o,a,l)}else e.x=n,e.y=r,e.point=t}else u(e,t,n,r,i,o,a,l)}function u(e,t,n,r,i,a,l,s){var u=.5*(i+l),c=.5*(a+s),d=n>=u,f=r>=c,p=f<<1|d;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=mr()),d?i=u:l=u,f?a=c:s=c,o(e,t,n,r,i,a,l,s)}var c,d,f,p,h,g,v,m,y,b=Ae(l),x=Ae(s);if(null!=t)g=t,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),d=[],f=[],h=e.length,a)for(p=0;p<h;++p)c=e[p],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),d.push(c.x),f.push(c.y);else for(p=0;p<h;++p){var w=+b(c=e[p],p),S=+x(c,p);w<g&&(g=w),S<v&&(v=S),w>m&&(m=w),S>y&&(y=S),d.push(w),f.push(S)}var M=m-g,k=y-v;M>k?y=v+M:m=g+k;var C=mr();if(C.add=function(e){o(C,e,+b(e,++p),+x(e,p),g,v,m,y)},C.visit=function(e){yr(e,C,g,v,m,y)},C.find=function(e){return br(C,e[0],e[1],g,v,m,y)},p=-1,null==t){for(;++p<h;)o(C,e[p],d[p],f[p],g,v,m,y);--p}else e.forEach(C.add);return d=f=e=c=null,C}var a,l=Pn,s=In;return(a=arguments.length)?(l=gr,s=vr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(l=e,o):l},o.y=function(e){return arguments.length?(s=e,o):s},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},pa.interpolateRgb=xr,pa.interpolateObject=wr,pa.interpolateNumber=Sr,pa.interpolateString=Mr;var fs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ps=new RegExp(fs.source,"g");pa.interpolate=kr,pa.interpolators=[function(e,t){var n=typeof t;return("string"===n?ol.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?xr:Mr:t instanceof de?xr:Array.isArray(t)?Cr:"object"===n&&isNaN(t)?wr:Sr)(e,t)}],pa.interpolateArray=Cr;var hs=function(){return M},gs=pa.map({linear:hs,poly:Or,quad:function(){return Lr},cubic:function(){return _r},sin:function(){return Dr},exp:function(){return Pr},circle:function(){return Ir},elastic:Rr,back:jr,bounce:function(){return Hr}}),vs=pa.map({in:M,out:Er,"in-out":Tr,"out-in":function(e){return Tr(Er(e))}});pa.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=gs.get(n)||hs,r=vs.get(r)||M,Nr(r(n.apply(null,ha.call(arguments,1))))},pa.interpolateHcl=qr,pa.interpolateHsl=zr,pa.interpolateLab=Fr,pa.interpolateRound=Wr,pa.transform=function(e){var t=va.createElementNS(pa.ns.prefix.svg,"g");return(pa.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Br(n?n.matrix:ms)})(e)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ms={a:1,b:0,c:0,d:1,e:0,f:0};pa.interpolateTransform=Zr,pa.layout={},pa.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ti(e[n]));return t}},pa.layout.chord=function(){function e(){var e,u,d,f,p,h={},g=[],v=pa.range(o),m=[];for(n=[],r=[],e=0,f=-1;++f<o;){for(u=0,p=-1;++p<o;)u+=i[f][p];g.push(u),m.push(pa.range(o)),e+=u}for(a&&v.sort(function(e,t){return a(g[e],g[t])}),l&&m.forEach(function(e,t){e.sort(function(e,n){return l(i[t][e],i[t][n])})}),e=(Wa-c*o)/e,u=0,f=-1;++f<o;){for(d=u,p=-1;++p<o;){var y=v[f],b=m[y][p],x=i[y][b],w=u,S=u+=x*e;h[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:S,value:x}}r[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(f=-1;++f<o;)for(p=f-1;++p<o;){var M=h[f+"-"+p],k=h[p+"-"+f];(M.value||k.value)&&n.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}s&&t()}function t(){n.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,l,s,u={},c=0;return u.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,u):i},u.padding=function(e){return arguments.length?(c=e,n=r=null,u):c},u.sortGroups=function(e){return arguments.length?(a=e,n=r=null,u):a},u.sortSubgroups=function(e){return arguments.length?(l=e,n=null,u):l},u.sortChords=function(e){return arguments.length?(s=e,n&&t(),u):s},u.chords=function(){return n||e(),n},u.groups=function(){return r||e(),r},u},pa.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,l=i-n,s=o*o+a*a;if(l*l/m<s){if(s<g){var u=t.charge/s;e.px-=o*u,e.py-=a*u}return!0}if(t.point&&s&&s<g){var u=t.pointCharge/s;e.px-=o*u,e.py-=a*u}}return!t.charge}}function t(e){e.px=pa.event.x,e.py=pa.event.y,s.resume()}var n,r,i,o,a,l,s={},u=pa.dispatch("start","tick","end"),c=[1,1],d=.9,f=ys,p=bs,h=-30,g=xs,v=.1,m=.64,y=[],b=[];return s.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var t,r,s,f,p,g,m,x,w,S=y.length,M=b.length;for(r=0;r<M;++r)s=b[r],f=s.source,p=s.target,x=p.x-f.x,w=p.y-f.y,(g=x*x+w*w)&&(g=i*a[r]*((g=Math.sqrt(g))-o[r])/g,x*=g,w*=g,p.x-=x*(m=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=w*m,f.x+=x*(m=1-m),f.y+=w*m);if((m=i*v)&&(x=c[0]/2,w=c[1]/2,r=-1,m))for(;++r<S;)s=y[r],s.x+=(x-s.x)*m,s.y+=(w-s.y)*m;if(h)for(si(t=pa.geom.quadtree(y),i,l),r=-1;++r<S;)(s=y[r]).fixed||t.visit(e(s));for(r=-1;++r<S;)s=y[r],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*d,s.y-=(s.py-(s.py=s.y))*d);u.tick({type:"tick",alpha:i})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(d=+e,s):d},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.gravity=function(e){return arguments.length?(v=+e,s):v},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):e>0&&(u.start({type:"start",alpha:i=e}),n=Re(s.tick)),s):i},s.start=function(){function e(e,r){if(!n){for(n=new Array(i),s=0;s<i;++s)n[s]=[];for(s=0;s<u;++s){var o=b[s];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,l=n[t],s=-1,c=l.length;++s<c;)if(!isNaN(a=l[s][e]))return a;return Math.random()*r}var t,n,r,i=y.length,u=b.length,d=c[0],g=c[1];for(t=0;t<i;++t)(r=y[t]).index=t,r.weight=0;for(t=0;t<u;++t)r=b[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<i;++t)r=y[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(t=0;t<u;++t)o[t]=+f.call(this,b[t],t);else for(t=0;t<u;++t)o[t]=f;if(a=[],"function"==typeof p)for(t=0;t<u;++t)a[t]=+p.call(this,b[t],t);else for(t=0;t<u;++t)a[t]=p;if(l=[],"function"==typeof h)for(t=0;t<i;++t)l[t]=+h.call(this,y[t],t);else for(t=0;t<i;++t)l[t]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(r||(r=pa.behavior.drag().origin(M).on("dragstart.force",ii).on("drag.force",t).on("dragend.force",oi)),!arguments.length)return r;this.on("mouseover.force",ai).on("mouseout.force",li).call(r)},pa.rebind(s,u,"on")};var ys=20,bs=1,xs=1/0;pa.layout.hierarchy=function(){function e(i){var o,a=[i],l=[];for(i.depth=0;null!=(o=a.pop());)if(l.push(o),(u=n.call(e,o,o.depth))&&(s=u.length)){for(var s,u,c;--s>=0;)a.push(c=u[s]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return di(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),l}var t=hi,n=fi,r=pi;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ci(t,function(e){e.children&&(e.value=0)}),di(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},pa.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,l,s,u=-1;for(r=t.value?r/t.value:0;++u<a;)e(l=o[u],n,s=l.value*r,i),n+=s}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=pa.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ui(n,r)},pa.layout.pie=function(){function e(a){var l,s=a.length,u=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(d)/s,+("function"==typeof o?o.apply(this,arguments):o)),p=f*(d<0?-1:1),h=pa.sum(u),g=h?(d-s*p)/h:0,v=pa.range(s),m=[];return null!=n&&v.sort(n===ws?function(e,t){return u[t]-u[e]}:function(e,t){return n(a[e],a[t])}),v.forEach(function(e){m[e]={data:a[e],value:l=u[e],startAngle:c,endAngle:c+=l*g+p,padAngle:f}}),m}var t=Number,n=ws,r=0,i=Wa,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var ws={};pa.layout.stack=function(){function e(l,s){if(!(f=l.length))return l;var u=l.map(function(n,r){return t.call(e,n,r)}),c=u.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,c,s);u=pa.permute(u,d),c=pa.permute(c,d);var f,p,h,g,v=r.call(e,c,s),m=u[0].length;for(h=0;h<m;++h)for(i.call(e,u[0][h],g=v[h],c[0][h][1]),p=1;p<f;++p)i.call(e,u[p][h],g+=c[p-1][h][1],c[p][h][1]);return l}var t=M,n=bi,r=xi,i=yi,o=vi,a=mi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Ss.get(t)||bi,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ms.get(t)||xi,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var Ss=pa.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(wi),o=e.map(Si),a=pa.range(r).sort(function(e,t){return i[e]-i[t]}),l=0,s=0,u=[],c=[];for(t=0;t<r;++t)n=a[t],l<s?(l+=o[n],u.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return pa.range(e.length).reverse()},default:bi}),Ms=pa.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],l=0,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<o;++n)s[n]=(l-a[n])/2;return s},wiggle:function(e){var t,n,r,i,o,a,l,s,u,c=e.length,d=e[0],f=d.length,p=[];for(p[0]=s=u=0,n=1;n<f;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,o=0,l=d[n][0]-d[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*l);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/l;o+=a*e[t][n][1]}p[n]=s-=i?o/i*l:0,s<u&&(u=s)}for(n=0;n<f;++n)p[n]-=u;return p},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)l[n]=0;return l},zero:xi});pa.layout.histogram=function(){function e(e,o){for(var a,l,s=[],u=e.map(n,this),c=r.call(this,u,o),d=i.call(this,c,u,o),o=-1,f=u.length,p=d.length-1,h=t?1:1/f;++o<p;)a=s[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(p>0)for(o=-1;++o<f;)(l=u[o])>=c[0]&&l<=c[1]&&(a=s[pa.bisect(d,l,1,p)-1],a.y+=h,a.push(e[o]));return s}var t=!0,n=Number,r=Ni,i=ki;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ae(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Ci(e,t)}:Ae(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},pa.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),l=a[0],s=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,di(l,function(e){e.r=+c(e.value)}),di(l,Ai),r){var d=r*(t?1:Math.max(2*l.r/s,2*l.r/u))/2;di(l,function(e){e.r+=d}),di(l,Ai),di(l,function(e){e.r-=d})}return Pi(l,s/2,u/2,t?1:1/Math.max(2*l.r/s,2*l.r/u)),a}var t,n=pa.layout.hierarchy().sort(Ei),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ui(e,n)},pa.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),d=c[0],f=t(d);if(di(f,n),f.parent.m=-f.z,ci(f,r),u)ci(d,o);else{var p=d,h=d,g=d;ci(d,function(e){e.x<p.x&&(p=e),e.x>h.x&&(h=e),e.depth>g.depth&&(g=e)});var v=l(p,h)/2-p.x,m=s[0]/(h.x+l(h,p)/2+v),y=s[1]/(g.depth||1);ci(d,function(e){e.x=(e.x+v)*m,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,l=o.length;a<l;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){zi(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+l(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+l(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,s=i.parent.children[0],u=i.m,c=o.m,d=a.m,f=s.m;a=Hi(a),i=ji(i),a&&i;)s=ji(s),o=Hi(o),o.a=e,r=a.z+d-i.z-u+l(a._,i._),r>0&&(qi(Fi(a,e,n),e,r),u+=r,c+=r),d+=a.m,u+=i.m,f+=s.m,c+=o.m;a&&!Hi(o)&&(o.t=a,o.m+=d-c),i&&!ji(s)&&(s.t=i,s.m+=u-f,n=e)}return n}function o(e){e.x*=s[0],e.y=e.depth*s[1]}var a=pa.layout.hierarchy().sort(null).value(null),l=Ri,s=[1,1],u=null;return e.separation=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(u=null==(s=t)?o:null,e):u?null:s},e.nodeSize=function(t){return arguments.length?(u=null==(s=t)?null:o,e):u?s:null},ui(e,a)},pa.layout.cluster=function(){function e(e,o){var a,l=t.call(this,e,o),s=l[0],u=0;di(s,function(e){var t=e.children;t&&t.length?(e.x=Bi(t),e.y=Wi(t)):(e.x=a?u+=n(e,a):0,e.y=0,a=e)});var c=Ui(s),d=Vi(s),f=c.x-n(c,d)/2,p=d.x+n(d,c)/2;return di(s,i?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(p-f)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),l}var t=pa.layout.hierarchy().sort(null).value(null),n=Ri,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ui(e,t)},pa.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var o=n.children;if(o&&o.length){var a,l,s,u=d(n),c=[],f=o.slice(),h=1/0,g="slice"===p?u.dx:"dice"===p?u.dy:"slice-dice"===p?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(f,u.dx*u.dy/n.value),c.area=0;(s=f.length)>0;)c.push(a=f[s-1]),c.area+=a.area,"squarify"!==p||(l=r(c,g))<=h?(f.pop(),h=l):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,h=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),l=r.slice(),s=[];for(e(l,a.dx*a.dy/t.value),s.area=0;o=l.pop();)s.push(o),s.area+=o.area,null!=o.z&&(i(s,o.z?a.dx:a.dy,a,!l.length),s.length=s.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,l=e.length;++a<l;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*h/r,r/(t*o*h)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,l=n.x,u=n.y,c=t?s(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=l,i.y=u,i.dy=c,l+=i.dx=Math.min(n.x+n.dx-l,c?s(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=l,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?s(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||l(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,a&&l.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),f&&(a=i),i}var a,l=pa.layout.hierarchy(),s=Math.round,u=[1,1],c=null,d=Gi,f=!1,p="squarify",h=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(u=e,o):u},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Gi(t):Yi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Yi(t,e)}if(!arguments.length)return c;var r;return d=null==(c=e)?Gi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(s=e?Math.round:Number,o):s!=Number},o.sticky=function(e){return arguments.length?(f=e,a=null,o):f},o.ratio=function(e){return arguments.length?(h=e,o):h},o.mode=function(e){return arguments.length?(p=e+"",o):p},ui(o,l)},pa.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=pa.random.normal.apply(pa,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=pa.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},pa.scale={};var ks={floor:M,ceil:M};pa.scale.linear=function(){return eo([0,1],[0,1],kr,!1)};var Cs={s:1,g:1,p:1,r:1,e:1};pa.scale.log=function(){return so(pa.scale.linear().domain([0,1]),10,!0,[1,10])};var Ns=pa.format(".0e"),Es={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};pa.scale.pow=function(){return uo(pa.scale.linear(),1,[0,1])},pa.scale.sqrt=function(){return pa.scale.pow().exponent(.5)},pa.scale.ordinal=function(){return fo([],{t:"range",a:[[]]})},pa.scale.category10=function(){return pa.scale.ordinal().range(Ts)},pa.scale.category20=function(){return pa.scale.ordinal().range(Ls)},pa.scale.category20b=function(){return pa.scale.ordinal().range(_s)},pa.scale.category20c=function(){return pa.scale.ordinal().range(As)};var Ts=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ke),Ls=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ke),_s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ke),As=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ke);pa.scale.quantile=function(){return po([],[])},pa.scale.quantize=function(){return ho(0,1,[0,1])},pa.scale.threshold=function(){return go([.5],[0,1])},pa.scale.identity=function(){return vo([0,1])},pa.svg={},pa.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ua,d=l.apply(this,arguments)-Ua,f=Math.abs(d-c),p=c>d?0:1;if(u<e&&(h=u,u=e,e=h),f>=Ba)return t(u,p)+(e?t(e,1-p):"")+"Z";var h,g,v,m,y,b,x,w,S,M,k,C,N=0,E=0,T=[];if((m=(+s.apply(this,arguments)||0)/2)&&(v=o===Os?Math.sqrt(e*e+u*u):+o.apply(this,arguments),p||(E*=-1),u&&(E=ae(v/u*Math.sin(m))),e&&(N=ae(v/e*Math.sin(m)))),u){y=u*Math.cos(c+E),b=u*Math.sin(c+E),x=u*Math.cos(d-E),w=u*Math.sin(d-E);var L=Math.abs(d-c-2*E)<=Fa?0:1;if(E&&Mo(y,b,x,w)===p^L){var _=(c+d)/2;y=u*Math.cos(_),b=u*Math.sin(_),x=w=null}}else y=b=0;if(e){S=e*Math.cos(d-N),M=e*Math.sin(d-N),k=e*Math.cos(c+N),C=e*Math.sin(c+N);var A=Math.abs(c-d+2*N)<=Fa?0:1;if(N&&Mo(S,M,k,C)===1-p^A){var O=(c+d)/2;S=e*Math.cos(O),M=e*Math.sin(O),k=C=null}}else S=M=0;if(f>qa&&(h=Math.min(Math.abs(u-e)/2,+i.apply(this,arguments)))>.001){g=e<u^p?0:1;var D=h,P=h;if(f<Fa){var I=null==k?[S,M]:null==x?[y,b]:qn([y,b],[k,C],[x,w],[S,M]),R=y-I[0],j=b-I[1],H=x-I[0],q=w-I[1],z=1/Math.sin(Math.acos((R*H+j*q)/(Math.sqrt(R*R+j*j)*Math.sqrt(H*H+q*q)))/2),F=Math.sqrt(I[0]*I[0]+I[1]*I[1]);P=Math.min(h,(e-F)/(z-1)),D=Math.min(h,(u-F)/(z+1))}if(null!=x){var W=ko(null==k?[S,M]:[k,C],[y,b],u,D,p),B=ko([x,w],[S,M],u,D,p);h===D?T.push("M",W[0],"A",D,",",D," 0 0,",g," ",W[1],"A",u,",",u," 0 ",1-p^Mo(W[1][0],W[1][1],B[1][0],B[1][1]),",",p," ",B[1],"A",D,",",D," 0 0,",g," ",B[0]):T.push("M",W[0],"A",D,",",D," 0 1,",g," ",B[0])}else T.push("M",y,",",b);if(null!=k){var U=ko([y,b],[k,C],e,-P,p),V=ko([S,M],null==x?[y,b]:[x,w],e,-P,p);h===P?T.push("L",V[0],"A",P,",",P," 0 0,",g," ",V[1],"A",e,",",e," 0 ",p^Mo(V[1][0],V[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",P,",",P," 0 0,",g," ",U[0]):T.push("L",V[0],"A",P,",",P," 0 0,",g," ",U[0])}else T.push("L",S,",",M)}else T.push("M",y,",",b),null!=x&&T.push("A",u,",",u," 0 ",L,",",p," ",x,",",w),T.push("L",S,",",M),null!=k&&T.push("A",e,",",e," 0 ",A,",",1-p," ",k,",",C);return T.push("Z"),T.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=yo,r=bo,i=mo,o=Os,a=xo,l=wo,s=So;return e.innerRadius=function(t){return arguments.length?(n=Ae(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ae(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ae(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Os?Os:Ae(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ae(t),e):a},e.endAngle=function(t){return arguments.length?(l=Ae(t),e):l},e.padAngle=function(t){return arguments.length?(s=Ae(t),e):s},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2-Ua;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Os="auto";pa.svg.line=function(){return Co(M)};var Ds=pa.map({linear:No,"linear-closed":Eo,step:To,"step-before":Lo,"step-after":_o,basis:Ro,"basis-open":jo,"basis-closed":Ho,bundle:qo,cardinal:Do,"cardinal-open":Ao,"cardinal-closed":Oo,monotone:Vo});Ds.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ps=[0,2/3,1/3,0],Is=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];pa.svg.line.radial=function(){var e=Co(Go);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Lo.reverse=_o,_o.reverse=Lo,pa.svg.area=function(){return Yo(M)},pa.svg.area.radial=function(){var e=Yo(Go);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},pa.svg.chord=function(){function e(e,l){var s=t(this,o,e,l),u=t(this,a,e,l);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(n(s,u)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,s.r,s.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=l.call(e,i,r),a=s.call(e,i,r)-Ua,c=u.call(e,i,r)-Ua;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Fa)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=kn,a=Cn,l=Xo,s=xo,u=wo;return e.radius=function(t){return arguments.length?(l=Ae(t),e):l},e.source=function(t){return arguments.length?(o=Ae(t),e):o},e.target=function(t){return arguments.length?(a=Ae(t),e):a},e.startAngle=function(t){return arguments.length?(s=Ae(t),e):s},e.endAngle=function(t){return arguments.length?(u=Ae(t),e):u},e},pa.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),l=(o.y+a.y)/2,s=[o,{x:o.x,y:l},{x:a.x,y:l},a];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=kn,n=Cn,r=Jo;return e.source=function(n){return arguments.length?(t=Ae(n),e):t},e.target=function(t){return arguments.length?(n=Ae(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},pa.svg.diagonal.radial=function(){var e=pa.svg.diagonal(),t=Jo,n=e.projection;return e.projection=function(e){return arguments.length?n($o(t=e)):t},e},pa.svg.symbol=function(){function e(e,r){return(js.get(t.call(this,e,r))||Qo)(n.call(this,e,r))}var t=Zo,n=Ko;return e.type=function(n){return arguments.length?(t=Ae(n),e):t},e.size=function(t){return arguments.length?(n=Ae(t),e):n},e};var js=pa.map({circle:Qo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*qs)),n=t*qs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Hs),n=t*Hs/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Hs),n=t*Hs/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});pa.svg.symbolTypes=js.keys();var Hs=Math.sqrt(3),qs=Math.tan(30*Va);Oa.transition=function(e){for(var t,n,r=zs||++Us,i=ia(e),o=[],a=Fs||{time:Date.now(),ease:Ar,delay:0,duration:250},l=-1,s=this.length;++l<s;){o.push(t=[]);for(var u=this[l],c=-1,d=u.length;++c<d;)(n=u[c])&&oa(n,c,i,r,a),t.push(n)}return ta(o,i,r)},Oa.interrupt=function(e){return this.each(null==e?Ws:ea(ia(e)))};var zs,Fs,Ws=ea(ia()),Bs=[],Us=0;Bs.call=Oa.call,Bs.empty=Oa.empty,Bs.node=Oa.node,Bs.size=Oa.size,pa.transition=function(e,t){return e&&e.transition?zs?e.transition(t):e:pa.selection().transition(e)},pa.transition.prototype=Bs,Bs.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=D(e);for(var l=-1,s=this.length;++l<s;){a.push(t=[]);for(var u=this[l],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=e.call(r,r.__data__,c,l))?("__data__"in r&&(n.__data__=r.__data__),oa(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return ta(a,o,i)},Bs.selectAll=function(e){var t,n,r,i,o,a=this.id,l=this.namespace,s=[];e=P(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,p=d.length;++f<p;)if(r=d[f]){o=r[l][a],n=e.call(r,r.__data__,f,u),s.push(t=[]);for(var h=-1,g=n.length;++h<g;)(i=n[h])&&oa(i,h,l,a,o),t.push(i)}return ta(s,l,a)},Bs.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=G(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]);for(var n=this[o],l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,o)&&t.push(r)}return ta(i,this.namespace,this.id)},Bs.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):X(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Bs.attr=function(e,t){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(l);return n!==e&&(t=a(n,e),function(e){this.setAttribute(l,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(l.space,l.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(l.space,l.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Zr:kr,l=pa.ns.qualify(e);return na(this,"attr."+e,t,l.local?o:i)},Bs.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=pa.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Bs.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=kr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof e){o<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return na(this,"style."+e,t,i)},Bs.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Bs.text=function(e){return na(this,"text",e,ra)},Bs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Bs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=pa.ease.apply(pa,arguments)),X(this,function(r){r[n][t].ease=e}))},Bs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:X(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Bs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:X(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Bs.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Fs,o=zs;try{zs=n,X(this,function(t,i,o){Fs=t[r][n],e.call(t,t.__data__,i,o)})}finally{Fs=i,zs=o}}else X(this,function(i){var o=i[r][n];(o.event||(o.event=pa.dispatch("start","end","interrupt"))).on(e,t)});return this},Bs.transition=function(){for(var e,t,n,r,i=this.id,o=++Us,a=this.namespace,l=[],s=0,u=this.length;s<u;s++){l.push(e=[]);for(var t=this[s],c=0,d=t.length;c<d;c++)(n=t[c])&&(r=n[a][i],oa(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return ta(l,a,o)},pa.svg.axis=function(){function e(e){e.each(function(){var e,u=pa.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==s?d.ticks?d.ticks.apply(d,l):d.domain():s,p=null==t?d.tickFormat?d.tickFormat.apply(d,l):M:t,h=u.selectAll(".tick").data(f,d),g=h.enter().insert("g",".domain").attr("class","tick").style("opacity",qa),v=pa.transition(h.exit()).style("opacity",qa).remove(),m=pa.transition(h.order()).style("opacity",1),y=Math.max(i,0)+a,b=Ji(d),x=u.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),pa.transition(x));g.append("line"),g.append("text");var S,k,C,N,E=g.select("line"),T=m.select("line"),L=h.select("text").text(p),_=g.select("text"),A=m.select("text"),O="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=aa,S="x",C="y",k="x2",N="y2",L.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+O*o+"V0H"+b[1]+"V"+O*o)):(e=la,S="y",C="x",k="y2",N="x2",L.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),w.attr("d","M"+O*o+","+b[0]+"H0V"+b[1]+"H"+O*o)),E.attr(N,O*i),_.attr(C,O*y),T.attr(k,0).attr(N,O*i),A.attr(S,0).attr(C,O*y),d.rangeBand){var D=d,P=D.rangeBand()/2;c=d=function(e){return D(e)+P}}else c.rangeBand?c=d:v.call(e,d,c);g.call(e,c,d),m.call(e,d,d)})}var t,n=pa.scale.linear(),r=Vs,i=6,o=6,a=3,l=[10],s=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Gs?t+"":Vs,e):r},e.ticks=function(){return arguments.length?(l=ga(arguments),e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Vs="bottom",Gs={top:1,right:1,bottom:1,left:1};pa.svg.brush=function(){function e(o){o.each(function(){var o=pa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=o.selectAll(".resize").data(g,M);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ys[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var s,d=pa.transition(o),f=pa.transition(a);u&&(s=Ji(u),f.attr("x",s[0]).attr("width",s[1]-s[0]),n(d)),c&&(s=Ji(c),f.attr("y",s[0]).attr("height",s[1]-s[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==pa.event.keyCode&&(T||(b=null,A[0]-=d[1],A[1]-=f[1],T=2),L())}function g(){32==pa.event.keyCode&&2==T&&(A[0]+=d[1],A[1]+=f[1],T=0,L())}function v(){var e=pa.mouse(w),i=!1;x&&(e[0]+=x[0],e[1]+=x[1]),T||(pa.event.altKey?(b||(b=[(d[0]+d[1])/2,(f[0]+f[1])/2]),A[0]=d[+(e[0]<b[0])],A[1]=f[+(e[1]<b[1])]):b=null),N&&m(e,u,0)&&(n(k),i=!0),E&&m(e,c,1)&&(r(k),i=!0),i&&(t(k),M({type:"brush",mode:T?"move":"resize"}))}function m(e,t,n){var r,i,a=Ji(t),s=a[0],u=a[1],c=A[n],g=n?f:d,v=g[1]-g[0];if(T&&(s-=c,u-=v+c),r=(n?h:p)?Math.max(s,Math.min(u,e[n])):e[n],T?i=(r+=c)+v:(b&&(c=Math.max(s,Math.min(u,2*b[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?l=null:o=null,g[0]=r,g[1]=i,!0}function y(){v(),k.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),pa.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_(),M({type:"brushend"})}var b,x,w=this,S=pa.select(pa.event.target),M=s.of(w,arguments),k=pa.select(w),C=S.datum(),N=!/^(n|s)$/.test(C)&&u,E=!/^(e|w)$/.test(C)&&c,T=S.classed("extent"),_=ee(w),A=pa.mouse(w),O=pa.select(a(w)).on("keydown.brush",i).on("keyup.brush",g);if(pa.event.changedTouches?O.on("touchmove.brush",v).on("touchend.brush",y):O.on("mousemove.brush",v).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),T)A[0]=d[0]-A[0],A[1]=f[0]-A[1];else if(C){var D=+/w$/.test(C),P=+/^n/.test(C);x=[d[1-D]-A[0],f[1-P]-A[1]],A[0]=d[D],A[1]=f[P]}else pa.event.altKey&&(b=A.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),pa.select("body").style("cursor",S.style("cursor")),M({type:"brushstart"}),v()}var o,l,s=A(e,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],f=[0,0],p=!0,h=!0,g=Xs[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:d,y:f,i:o,j:l},n=this.__chart__||t;this.__chart__=t,zs?pa.select(this).transition().each("start.brush",function(){o=n.i,l=n.j,d=n.x,f=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Cr(d,t.x),r=Cr(f,t.y);return o=l=null,function(i){d=t.x=n(i),f=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,l=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,g=Xs[!u<<1|!c],e):u},e.y=function(t){return arguments.length?(c=t,g=Xs[!u<<1|!c],e):c},e.clamp=function(t){return arguments.length?(u&&c?(p=!!t[0],h=!!t[1]):u?p=!!t:c&&(h=!!t),e):u&&c?[p,h]:u?p:c?h:null},e.extent=function(t){var n,r,i,a,s;return arguments.length?(u&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(s=n,n=r,r=s),n==d[0]&&r==d[1]||(d=[n,r])),c&&(i=t[0],a=t[1],u&&(i=i[1],a=a[1]),l=[i,a],c.invert&&(i=c(i),a=c(a)),a<i&&(s=i,i=a,a=s),i==f[0]&&a==f[1]||(f=[i,a])),e):(u&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(s=n,n=r,r=s))),c&&(l?(i=l[0],a=l[1]):(i=f[0],a=f[1],c.invert&&(i=c.invert(i),a=c.invert(a)),a<i&&(s=i,i=a,a=s))),u&&c?[[n,i],[r,a]]:u?[n,r]:c&&[i,a])},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],o=l=null),e},e.empty=function(){return!!u&&d[0]==d[1]||!!c&&f[0]==f[1]},pa.rebind(e,s,"on")};var Ys={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Js=hl.format=xl.timeFormat,$s=Js.utc,Ks=$s("%Y-%m-%dT%H:%M:%S.%LZ");Js.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?sa:Ks,sa.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},sa.toString=Ks.toString,hl.second=Ve(function(e){return new gl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),hl.seconds=hl.second.range,hl.seconds.utc=hl.second.utc.range,hl.minute=Ve(function(e){return new gl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),hl.minutes=hl.minute.range,hl.minutes.utc=hl.minute.utc.range,hl.hour=Ve(function(e){var t=e.getTimezoneOffset()/60;return new gl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),hl.hours=hl.hour.range,hl.hours.utc=hl.hour.utc.range,hl.month=Ve(function(e){return e=hl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),hl.months=hl.month.range,hl.months.utc=hl.month.utc.range;var Zs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qs=[[hl.second,1],[hl.second,5],[hl.second,15],[hl.second,30],[hl.minute,1],[hl.minute,5],[hl.minute,15],[hl.minute,30],[hl.hour,1],[hl.hour,3],[hl.hour,6],[hl.hour,12],[hl.day,1],[hl.day,2],[hl.week,1],[hl.month,1],[hl.month,3],[hl.year,1]],eu=Js.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Pt]]),tu={range:function(e,t,n){return pa.range(Math.ceil(e/n)*n,+t,n).map(ca)},floor:M,ceil:M};Qs.year=hl.year,hl.scale=function(){return ua(pa.scale.linear(),Qs,eu)};var nu=Qs.map(function(e){return[e[0].utc,e[1]]}),ru=$s.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Pt]]);nu.year=hl.year.utc,hl.scale.utc=function(){return ua(pa.scale.linear(),nu,ru)},pa.text=Oe(function(e){return e.responseText}),pa.json=function(e,t){return De(e,"application/json",da,t)},pa.html=function(e,t){return De(e,"text/html",fa,t)},pa.xml=Oe(function(e){return e.responseXML}),this.d3=pa,r=pa,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=(r(i),n(1)),a=r(o),l=void 0,s=[],u=function(){return null},c={pushState:function(e){"history"!==e.event&&(s.unshift(e),l=s.length-1,s.length>=200&&s.pop(),u(s))},undo:function(){var e=0===l?l:--l;a.default.loadData(s[e].data,!0),u(s)},redo:function(){var e=l===s.length-1?l:++l;a.default.loadData(s[e].data,!0),u(s)},onChange:function(e){return u=e}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.nodeName,n={};return"circle"===t&&(n=y.default.getNode(e.parentNode.id)),"path"===t&&(n=y.default.getEdge(e.parentNode.id)),e.id===s.default.SVGROOT_ID&&(n=e),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),a=r(o),l=n(2),s=r(l),u=n(26),c=r(u),d=n(25),f=r(d),p=n(16),h=r(p),g=n(37),v=r(g),m=n(1),y=r(m),b=n(24),x=r(b),w=a.default.behavior.drag().origin(function(e){return e}).on("dragstart",function(e){a.default.event.sourceEvent.stopPropagation(),a.default.select("#"+e.id).classed("dragging",!0)}).on("drag",function(e){e.x=a.default.event.x,e.y=a.default.event.y,y.default.updateNode(e)}).on("dragend",function(e){a.default.select("#"+e.id).classed("dragging",!1)}),S=a.default.behavior.drag().origin(function(e){return e}).on("dragstart",function(e){a.default.event.sourceEvent.stopPropagation(),a.default.select("#"+e.id).select("text").classed("dragging",!0)}).on("drag",function(e){e.middlePointOffset=[e.middlePoint[0]-a.default.event.sourceEvent.x,e.middlePoint[1]-a.default.event.sourceEvent.y],y.default.updateEdge(e)}).on("dragend",function(e){a.default.select("#"+e.id).select("text").classed("dragging",!1)}),M=function(e){var t=y.default.getAllNodes(),n=t.map(function(t){return t.x+=e[0],t.y+=e[1],t});y.default.setAllNodes(n)},k=a.default.behavior.zoom().scaleExtent([.2,3]).on("zoom",function(){var e=a.default.event.sourceEvent;e&&M([e.movementX,e.movementY]),C._entitiesGroup.attr("transform","translate("+a.default.event.translate+") scale("+a.default.event.scale+")")}),C={init:function(e,t,n){if(void 0===e)throw new Error('The EventManager needs a "container" to attach and listen for events.');return C._container=e,C._entitiesGroup=n,C._container.call(k),C._container.on("click",C.svgClickHandler),C._container.on("contextmenu",C.contextClickHandler),v.default.init("#"+t.id),v.default.onAction(function(e){switch(e.type){case c.default.CREATE_NODE:var t=new f.default({x:e.position.x,y:e.position.y});y.default.addNode(t);break;case c.default.DELETE_NODE:y.default.deleteNode(e.target);break;case c.default.CREATE_EDGE:C.createEdgeMouseMove.startNode=e.target,C.createEdgeMouseDown.startNode=e.target,x.default.prepareForRenderLine({source:e.target}),C._container.on("mousemove",C.createEdgeMouseMove),C._container.on("mouseup",C.createEdgeMouseDown);break;case c.default.DELETE_EDGE:y.default.deleteEdge(e.target);break;default:console.log("Unhandeled context menu action",e)}}),C},bindEvents:function(e){window.setTimeout(function(){(e.isNode?a.default.select("#"+e.id):a.default.select("#"+e.id).select("text")).on("dblclick",function(e){y.default.dispatchUpdate("dblclick",e.type,e)}).on("mousedown",function(e){y.default.selectEntity(e.id),a.default.event.preventDefault()}).call(e.isNode?w:S)},0)},svgClickHandler:function(){document.activeElement.blur(),v.default.close();var e=a.default.event.target.classList.contains("path-text"),t="circle"===a.default.event.target.nodeName;e||t||!y.default.isEntitySelected()||y.default.deselectAllEntities(!0),a.default.event.preventDefault()},contextClickHandler:function(){v.default.open([a.default.event.x,a.default.event.y],i(a.default.event.target)),a.default.event.preventDefault()},createEdgeMouseMove:function(){var e=C.createEdgeMouseMove.startNode;x.default.renderLine({source:e,end:[a.default.event.x,a.default.event.y]})},createEdgeMouseDown:function(){var e=i(a.default.event.target),t=C.createEdgeMouseMove.startNode;if(x.default.removeTempLine(),e.isNode){var n=new h.default({endNodeId:e.id,startNodeId:t.id});y.default.addEdge(n)}C._container.on("mousemove",null),C._container.on("mouseup",null),a.default.event.preventDefault()}};t.default=C},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=document.getElementById("property-edit");null!==t&&(t.style.display=e)}function s(){C=u(JSON.parse(localStorage.getItem(M)),JSON.parse(localStorage.getItem(k)))}function u(e,t){t.push({data:e});var n=[],r={},i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)for(var u=l.value,c=u.data.nodes,d=u.data.edges,f=[c,d],p=0;p<f.length;p++){var h=f[p],g=!0,v=!1,m=void 0;try{for(var y,b=h[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var x=y.value,S=x.properties,M=!0,k=!1,C=void 0;try{for(var N,E=S[Symbol.iterator]();!(M=(N=E.next()).done);M=!0){var T=N.value,L={search:(T.key+T.type+T.defaultValue+T.description).toLowerCase(),key:T.key,type:T.type,defaultValue:T.defaultValue,limitMin:T.limitMin,limitMax:T.limitMax,isRequired:T.isRequired,isAutoGenerated:T.isAutoGenerated,description:T.description},_=(0,w.default)(L.search);r.hasOwnProperty(_)||(n.push(L),r[_]=1)}}catch(e){k=!0,C=e}finally{try{!M&&E.return&&E.return()}finally{if(k)throw C}}}}catch(e){v=!0,m=e}finally{try{!g&&b.return&&b.return()}finally{if(v)throw m}}}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}function c(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.key===e)return!1}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0}function d(e,t){var n=document.getElementById("properties-search-result");N.clear(),n.innerHTML="";var r=[],i=0,o=e.toLowerCase().trim();if(""!==o){for(var a=0;a<C.length;a++){var l=C[a];c(l.key,t.properties)&&-1!==l.search.indexOf(o)&&(r[i++]={show:l.key.concat("|",l.type,"|",l.defaultValue,"|",l.description,"|"),data:l})}r.sort(function(e,t){return e.show.length-t.show.length});for(var s=0;s<r.length;s++){var u=document.createElement("li");u.innerHTML=r[s].show,n.appendChild(u),u.className="li";var d="properties-search-result-".concat(s);if(u.id=d,N.set(d,r[s].data),s>10)break}}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(10),h=n(2),g=r(h),v=n(12),m=r(v),y=n(11),b=r(y),x=n(70),w=r(x),S=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={selectedProperty:null,entity:e.entity},t}return a(n,t),f(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({entity:e.entity,selectedProperty:null})}},{key:"componentWillUpdate",value:function(e,t){this.props.onEntityChange(t.entity)}},{key:"selectProperty",value:function(e){l("flex"),this.setState({selectedProperty:e})}},{key:"addProperty",value:function(){var e=this.state.entity;e.properties.push(new b.default),this.setState({entity:e})}},{key:"addPropertyByData",value:function(e){var t=this.state.entity,n=t.properties,r=0,i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){if(l.value.key===e.key){r=1;break}}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}0===r&&(t.properties.push(new b.default(e)),this.setState({entity:t}))}},{key:"changePropertyName",value:function(e,t){t.key=e.target.value}},{key:"deleteProperty",value:function(e){var t=this.state.entity,n=this.state.selectedProperty;t.properties=t.properties.filter(function(t){return t.id!==e.id}),n&&n.id===e.id&&this.setState({selectedProperty:null}),this.setState({entity:t})}},{key:"render",value:function(e,t){var n=this,r=t.entity,i=[m.default.STRING,m.default.INT,m.default.FLOAT,m.default.URL,m.default.EMAIL,m.default.PASSWORD],o=[m.default.STRING,m.default.URL,m.default.EMAIL,m.default.PASSWORD];return r?(0,p.h)("div",{id:g.default.PROPERTY_MENU_ID,className:g.default.PROPERTY_MENU_CLASS},(0,p.h)("div",{className:"header"},(0,p.h)("span",{className:"color"},(0,p.h)("input",{id:"entity-color",value:r.color,onInput:this.linkState("entity.color"),type:"color"})),(0,p.h)("span",{className:"label"},(0,p.h)("input",{id:"entity-label",value:r.label,onInput:this.linkState("entity.label")}),(0,p.h)("small",{className:"type"},r.isNode&&"node"||r.isEdge&&"edge")),(0,p.h)("button",{className:"add-button",onClick:this.addProperty.bind(this)},"+ Add property")),(0,p.h)("div",{className:"main"},(0,p.h)("div",{id:"properties-search"},(0,p.h)("p",null,(0,p.h)("input",{type:"text",name:"",id:"properties-search-input",placeholder:"Search properties",onInput:this.searchData.bind(this)})),(0,p.h)("ul",{id:"properties-search-result",onClick:this.searchResultClick()})),(0,p.h)("div",{className:"properties"},(0,p.h)("ul",{id:"properties-list"},r.properties.map(function(e){return(0,p.h)("li",{className:{selected:t.selectedProperty&&e.id===t.selectedProperty.id,disabled:e.isSystem,schema_indexes:"schema-indexes"===e.key}},(0,p.h)("div",{className:"property"},(0,p.h)("input",{type:"text",className:"propertyName",value:e.key,onInput:function(t){return n.changePropertyName(t,e)},onClick:n.selectProperty.bind(n,e),disabled:e.isSystem}),(0,p.h)("small",{className:"type"},e.type,e.isRequired?"!":"",e.isAutoGenerated?"@":""),""),(0,p.h)("div",{className:"remove-property-button",title:"Delete",onClick:n.deleteProperty.bind(n,e)},"x"))}))),t.selectedProperty&&(0,p.h)("div",{className:"property-edit",id:"property-edit"},(0,p.h)("ul",null,(0,p.h)("li",null,(0,p.h)("label",null,(0,p.h)("span",null,"type:"),(0,p.h)("select",{value:t.selectedProperty.type,onChange:this.linkState("selectedProperty.type")},Object.keys(m.default).map(function(e){return(0,p.h)("option",{value:m.default[e]},m.default[e])})))),!t.selectedProperty.isAutoGenerated&&(0,p.h)("li",null,(0,p.h)("label",null,(0,p.h)("span",{title:"Property's default value"},"Default:"),(0,p.h)("input",{className:"defaultValue",value:t.selectedProperty.defaultValue,onInput:this.linkState("selectedProperty.defaultValue")}))),(0,p.h)("li",null,(0,p.h)("label",null,(0,p.h)("span",{title:"Is the property required"},"Required:"),(0,p.h)("input",{className:"isRequired",type:"checkbox",checked:t.selectedProperty.isRequired,onClick:this.linkState("selectedProperty.isRequired")}))),(0,p.h)("li",null,(0,p.h)("label",null,(0,p.h)("span",{title:"Auto generated"},"Auto gen.:"),(0,p.h)("input",{className:"isRequired",type:"checkbox",checked:t.selectedProperty.isAutoGenerated,onClick:this.linkState("selectedProperty.isAutoGenerated")}))),-1!==i.indexOf(t.selectedProperty.type)&&(0,p.h)("li",null,(0,p.h)("label",null,(0,p.h)("span",null,"min",-1!==o.indexOf(t.selectedProperty.type)?" len.":"",":"),(0,p.h)("input",{className:"limitMin",type:"number",min:"0",max:"100000",value:t.selectedProperty.limitMin,onInput:this.linkState("selectedProperty.limitMin")})),(0,p.h)("label",null,(0,p.h)("span",null,"max",-1!==o.indexOf(t.selectedProperty.type)?" len.":"",":"),(0,p.h)("input",{className:"limitMin",type:"number",min:"0",max:"100000",value:t.selectedProperty.limitMax,onInput:this.linkState("selectedProperty.limitMax")})))),(0,p.h)("div",{className:"propertyDescription"},(0,p.h)("label",null,(0,p.h)("span",null,"Description:"),(0,p.h)("input",{value:t.selectedProperty.description,onInput:this.linkState("selectedProperty.description")})))))):(0,p.h)("div",{className:"no-selected"},"Select node/edge to edit properties")}},{key:"searchData",value:function(){var t=this.state.entity;l("none"),e(function(){e("#properties-search-input").on("input",function(){d(e(this).val(),t),s()})})}},{key:"searchResultClick",value:function(){var e=this,t=document.getElementById("properties-search-result");null!==t&&t.addEventListener("click",function(t){var n=t.target,r=N.get(n.id);e.addPropertyByData(r)})}}]),n}(p.Component),M="nma.grad3ph",k="nma.grad3ph.saves",C=u(JSON.parse(localStorage.getItem(M)),JSON.parse(localStorage.getItem(k))),N=new Map;t.default=S}).call(t,n(7))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return void 0!==e.color?e.color:e.startNode.color}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=(r(o),n(1)),l=r(a),s=n(22),u=r(s),c=n(28),d=r(c),f=n(20),p=r(f),h=n(13),g=(r(h),function(e){if(e.isNode)for(var t=l.default.getAllEdges().filter(function(e){return e.isSelected}),n=0;n<t.length;n++){var r=-1!==[t[n].endNodeId,t[n].startNodeId].indexOf(e.id);if(r)return 1}return e.isSelected?1:e.isEdge&&e.startNode.isSelected?1:l.default.isEntitySelected()?.15:1}),v=function(e){var t=i(e),n="end-arrow-"+e.id;null===document.querySelector("#"+n)&&p.default.select("defs").append("marker").attr({id:n}).append("path").attr({d:"M0,-5L10,0L0,5"}),p.default.select("#"+n).attr({fill:t,viewBox:"0 -5 10 10",refX:20,markerWidth:6,markerHeight:6,orient:"auto",opacity:g(e)})},m=function(e,t){var n=e.selectAll(".node").data(t,function(e){return e.id}),r=n.enter().append("g").classed("node",!0).attr("tabindex",0).each(function(e){return u.default.bindEvents(e)}),i={fill:"#ebebeb",stroke:"#ebebeb",r:5};r.append("circle").attr(i),r.append("text").attr("fill","#ebebeb"),n.exit().transition().duration(100).attr(i).remove(),n.attr({id:function(e){return e.id}}),n.select("circle").attr({cx:function(e){return e.x},cy:function(e){return e.y}}).transition().duration(100).attr({r:12,stroke:function(e){return e.color},fill:function(e){return e.isSelected?e.color:"#ebebeb"},"stroke-opacity":function(e){return g(e)}}),n.select("text").attr({x:function(e){return e.x+20},y:function(e){return e.y+5}}).transition().duration(100).text(function(e){return e.label+" ("+e.properties.length+")"}).attr({fill:function(e){return e.color},opacity:function(e){return g(e)}})},y=function(e,t){var n=e.selectAll(".edge").data(t,function(e){return e.id}),r=n.enter().append("g").classed("edge",!0),o={stroke:"#ebebeb"};r.append("path").attr(o),r.append("text").classed("path-text",!0).attr("tabindex",0).each(function(e){return u.default.bindEvents(e)}),n.exit().transition().duration(100).attr(o).remove(),n.attr({id:function(e){return e.id}}),n.select("text").attr({x:function(e){return e.middlePointWithOffset[0]+10},y:function(e){return e.middlePointWithOffset[1]},fill:function(e){return i(e)},opacity:function(e){return g(e)}}).text(function(e){return e.label+" ("+e.properties.length+")"});var a=function(e){var t=p.default.svg.line().x(function(e){return e[0]}).y(function(e){return e[1]}).interpolate(e.startNodeId===e.endNodeId?"basis":"cardinal");if(e.startNodeId===e.endNodeId){var n=e.startNode,r=d.default.quadWay(d.default.rotatePoint(n,e.middlePointWithOffset,!0),e.middlePointWithOffset),i=d.default.quadWay(d.default.rotatePoint(n,e.middlePointWithOffset,!1),e.middlePointWithOffset);return"M "+n.x+" "+n.y+"\n        Q "+r[0]+" "+r[1]+"\n        "+e.middlePointWithOffset[0]+" "+e.middlePointWithOffset[1]+"\n        Q "+i[0]+" "+i[1]+"\n        "+n.x+" "+n.y}return t([[e.startNode.x,e.startNode.y],e.middlePointWithOffset,[e.endNode.x,e.endNode.y]])};n.select("path").attr({d:function(e){return a(e)}}).transition().duration(100).attr({stroke:function(e){return v(e),i(e)},"stroke-opacity":function(e){return g(e)},style:function(e){return"marker-end: url(#end-arrow-"+e.id+");stroke-dasharray: "+e.pathStrokeDasharray+";"}})},b=function e(t){e.isDown||(e.isDown=!0,x.d3Element=t,x.d3Element.append("defs").classed("defs"),x.d3Element.append("g").classed("tempPaths",!0),x.d3Element.select("defs").append("marker").attr({id:"mark-end-arrow",viewBox:"0 -5 10 10",refX:7,markerWidth:6,markerHeight:6,orient:"auto"}).append("path").attr({d:"M0,-5L10,0L0,5"}),x.d3GroupForEdges=x.d3Element.append("g").classed("edges",!0),x.d3GroupForNodes=x.d3Element.append("g").classed("nodes",!0),x.d3Element.select(".tempPaths").append("path").attr("class","dragLine hidden").attr({d:"M0,0L0,0"}).style("marker-end","url(#mark-end-arrow)"))},x={prepareForRenderLine:function(e){var t=e.source;p.default.select("#mark-end-arrow").select("path").attr({fill:t.color}),p.default.select(".dragLine").classed("hidden",!1).attr({stroke:t.color,d:""}),p.default.select("body").classed("no-cursor",!0)},renderLine:function(e){var t=[e.source.x,e.source.y],n=e.end;p.default.select(".dragLine").attr({d:function(){return"M"+t[0]+","+t[1]+"L"+n[0]+","+n[1]}})},removeTempLine:function(){p.default.select(".dragLine").classed("hidden",!0),p.default.select("body").classed("no-cursor",!1)},render:function(e,t){b(t),y(x.d3GroupForEdges,e.edges),m(x.d3GroupForNodes,e.nodes)}};t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if(void 0!==e.color&&""!==e.color&&null!==e.color)return e.color;var t=v.default.getNodeColor();return void 0!==t&&""!==t&&null!==t&&-1!==t.indexOf("#")?t:(0,c.default)()}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),s=r(l),u=n(17),c=r(u),d=n(11),f=r(d),p=n(12),h=r(p),g=n(13),v=r(g),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n={key:"id",isRequired:!0,type:h.default.ID,isAutoGenerated:!0,isSystem:!0},r=new f.default(n),a={key:"schema-indexes",isRequired:!1,type:h.default.STRING,isAutoGenerated:!1,isSystem:!1,defaultValue:"//CONSTRAINT AND INDEX\n//CONSTRAINT:CREATE CONSTRAINT ON (n:Label) ASSERT n.code IS UNIQUE;\n//CONSTRAINT:CREATE CONSTRAINT ON (n:Label) ASSERT (n.name,n.code) IS NODE KEY;\n//INDEX:CREATE INDEX ON :Label(name);\n//INDEX:CREATE INDEX ON :Label(name,hupdatetime);\n//DROP:DROP CONSTRAINT ON (n:Label) ASSERT (n.name,n.code) IS NODE KEY;\n//DROP:DROP INDEX ON :Label(name)"},l=new f.default(a);this.x=t.x,this.y=t.y,this.color=o(t),this.label=t.label||"new",this.properties=t.properties||[r,l],this.id=t.id||(0,s.default)(),this.isSelected=t.isSelected||!1,this.isNode=!0}return a(e,[{key:"copy",get:function(){return new e(JSON.parse(JSON.stringify(this)))}}]),e}();t.default=m},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CREATE_NODE:"CREATE_NODE",CREATE_EDGE:"CREATE_EDGE",DELETE_NODE:"DELETE_NODE",DELETE_EDGE:"DELETE_EDGE"}},function(e,t){"use strict";function n(e){var t=e.getHours(),n=e.getMinutes(),r=e.getDate(),i=e.getMonth(),o=e.getFullYear(),a=t>=12?"pm":"am";return t%=12,t=t||12,r+"/"+i+"/"+o+" "+t+":"+n+a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={middlePoint:function(e,t){return[(e.x+t.x)/2,(e.y+t.y)/2]},halfWay:function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},quadWay:function(e,t){return n.halfWay(n.halfWay(e,t),t)},rotatePoint:function(e,t,n){var r=[e.x-t[0],e.y-t[1]],i=[-r[1]+t[0],r[0]+t[1]],o=[r[1]+t[0],-r[0]+t[1]];return n?i:o}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=r(i),a=n(31),l=r(a),s=n(48),u=r(s),c=function(e){var t=e.properties.map(l.default).join(""),n=e.endNode.label.toCamelCase();return"\n# Edge description\ntype "+o.default.getName(e,"Edge")+" implements Edge {\n  node: "+n+"\n  "+t+"\n}\n\n"+u.default.schema.getConnectionSchema(e)+"\n"};t.default={schema:{getEdgeSchema:c},resolvers:{getEdgeResolver:function(){return"Edges does not have resolvers on their own."}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),o=r(i),a=n(47),l=r(a),s=n(18),u=r(s),c=n(29),d=r(c);t.default={getFullSchema:o.default,getNodeSchema:u.default.schema.getNodeSchema,getEdgeSchema:d.default.schema.getEdgeSchema,getAllResolvers:l.default,getNodeResolver:u.default.resolvers.getNodeResolver,getEdgeResolver:d.default.resolvers.getEdgeResolver}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=[i.default.STRING,i.default.URL,i.default.EMAIL,i.default.PASSWORD],a=function(e){var t=-1!==o.indexOf(e.type)?" length":"",n="#"+e.description;return e.defaultValue&&(n+="; default: "+e.defaultValue),e.limitMin&&(n+="; min"+t+": "+e.limitMin),e.limitMax&&(n+="; max"+t+": "+e.limitMax),"\n"+n+"\n"+e.key+": "+e.type+(e.isRequired?"!":"")+"\n"};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={schema:"\n# Datetime scalar description\nscalar Datetime\n\n# Email scalar description\nscalar Email\n\n# Url scalar description\nscalar Url\n\n# Password scalar description\nscalar Password\n\ninput GeoPointInput {\n  lat: Float!\n  lng: Float!\n}\n\n# GeoPoint description\ntype GeoPoint {\n  lat: Float!\n  lng: Float!\n}\n\ninterface Node {\n  id: ID!\n}\n\ninterface Edge {\n  id: ID!\n  node: Node\n}\n\ninterface Connection {\n  nodes: [Node]\n  edges: [Edge]\n  pageInfo: PageInfo\n  totalCount: Int!\n}\n\n# page info object - an object to hold the paging and cursors information. github like\ntype PageInfo {\n  endCursor: String\n  hasNextPage: String\n  hasPreviousPage: String\n  startCursor: String\n}\n",javascript:'\nDate: {\n  __parseValue(value) {\n    return new Date(value); // value from the client\n  },\n  __serialize(value) {\n    return value; // value sent to the client\n  },\n  __parseLiteral(ast) {\n    return ast.toString();\n  }\n},\nEmail: {\n  __parseValue(value) {\n    var formatRegex = /^(([^<>()[]\\.,;:s@"]+(.[^<>()[]\\.,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/;\n\n    if (!formatRegex.test(value)) {\n      throw new graphql.GraphQLError(\'Email Validation error.\');\n    }\n\n    return value;\n  },\n  __serialize(value) {\n    return value;\n  },\n  __parseLiteral(ast) {\n    return value;\n  }\n},\nPassword: {\n  __parseValue(value) {\n    return value;\n  },\n  __serialize(value) {\n    return value;\n  },\n  __parseLiteral(ast) {\n    return value;\n  }\n},\nUrl: {\n  __parseValue(value) {\n    return value;\n  },\n  __serialize(value) {\n    return value;\n  },\n  __parseLiteral(ast) {\n    return value;\n  }\n},\nGeoPoint: {\n  __parseValue(value) {\n    return value;\n  },\n  __serialize(value) {\n    return value;\n  },\n  __parseLiteral(ast) {\n    return value;\n  }\n}'}},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=new Map,i=function(){e.ajax({type:"GET",url:"/ongdb-graphene/main/getJsonFileList",contentType:"application/json",success:function(e){n=e,e.forEach(function(e){r[e.id]=e})}})},o=function(t){e.ajax({type:"POST",url:"/ongdb-graphene/main/saveJsonFile",contentType:"application/json",data:JSON.stringify([t]),dataType:"json",success:function(e){console.log(e)}})},a=function(t,n){var r={label:t,id:n};e.ajax({type:"POST",url:"/ongdb-graphene/main/deleteNodeByLabelWithFieldID",contentType:"application/json",data:JSON.stringify(r),dataType:"json",success:function(e){console.log(e)}})},l={loadJsonFileList:function(){e.ajaxSettings.async=n.length>1,i()},refreshJsonFileList:function(){e.ajaxSettings.async=!1,i()},getJsonDataList:function(){return n},getJsonDataMap:function(){return r},uploadJsonFile:function(e,t){null===t||""===t.replace(" ","")?alert("File name cannot be empty!!!"):o(e)},deleteJsonFile:function(e){a("JsonFile",e)}};t.default=l}).call(t,n(7))},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){(function(e,t){/*!
	jQuery JSONView.
	Licensed under the MIT License.
	 */
!function(e){var n,r,i,o;i=function(){function e(e){null==e&&(e={}),this.options=e}return e.prototype.htmlEncode=function(e){return null!==e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},e.prototype.jsString=function(e){return e=JSON.stringify(e).slice(1,-1),this.htmlEncode(e)},e.prototype.decorateWithSpan=function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},e.prototype.valueToHTML=function(e,t){var n;return null==t&&(t=0),n=Object.prototype.toString.call(e).match(/\s(.+)]/)[1].toLowerCase(),this[n+"ToHTML"].call(this,e,t)},e.prototype.nullToHTML=function(e){return this.decorateWithSpan("null","null")},e.prototype.numberToHTML=function(e){return this.decorateWithSpan(e,"num")},e.prototype.stringToHTML=function(e){var t,n;return/^(http|https|file):\/\/[^\s]+$/i.test(e)?'<a href="'+this.htmlEncode(e)+'"><span class="q">"</span>'+this.jsString(e)+'<span class="q">"</span></a>':(t="",e=this.jsString(e),this.options.nl2br&&(n=/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g,n.test(e)&&(t=" multiline",e=(e+"").replace(n,"$1<br />"))),'<span class="string'+t+'">"'+e+'"</span>')},e.prototype.booleanToHTML=function(e){return this.decorateWithSpan(e,"bool")},e.prototype.arrayToHTML=function(e,t){var n,r,i,o,a,l,s,u;for(null==t&&(t=0),r=!1,a="",o=e.length,i=s=0,u=e.length;s<u;i=++s)l=e[i],r=!0,a+="<li>"+this.valueToHTML(l,t+1),o>1&&(a+=","),a+="</li>",o--;return r?(n=0===t?"":" collapsible",'[<ul class="array level'+t+n+'">'+a+"</ul>]"):"[ ]"},e.prototype.objectToHTML=function(e,t){var n,r,i,o,a,l,s;null==t&&(t=0),r=!1,a="",o=0;for(l in e)o++;for(l in e)s=e[l],r=!0,i=this.options.escape?this.jsString(l):l,a+='<li><span class="prop"><span class="q">"</span>'+i+'<span class="q">"</span></span>: '+this.valueToHTML(s,t+1),o>1&&(a+=","),a+="</li>",o--;return r?(n=0===t?"":" collapsible",'{<ul class="obj level'+t+n+'">'+a+"</ul>}"):"{ }"},e.prototype.jsonToHTML=function(e){return'<div class="jsonview">'+this.valueToHTML(e)+"</div>"},e}(),void 0!==t&&null!==t&&(t.exports=i),r=function(){function e(){}return e.bindEvent=function(e,t){var n;if(n=document.createElement("div"),n.className="collapser",n.innerHTML=t.collapsed?"+":"-",n.addEventListener("click",function(e){return function(n){return e.toggle(n.target,t)}}(this)),e.insertBefore(n,e.firstChild),t.collapsed)return this.collapse(n)},e.expand=function(e){var t,n;if(n=this.collapseTarget(e),""!==n.style.display)return t=n.parentNode.getElementsByClassName("ellipsis")[0],n.parentNode.removeChild(t),n.style.display="",e.innerHTML="-"},e.collapse=function(e){var t,n;if(n=this.collapseTarget(e),"none"!==n.style.display)return n.style.display="none",t=document.createElement("span"),t.className="ellipsis",t.innerHTML=" &hellip; ",n.parentNode.insertBefore(t,n),e.innerHTML="+"},e.toggle=function(e,t){var n,r,i,o,a,l;if(null==t&&(t={}),i=this.collapseTarget(e),n="none"===i.style.display?"expand":"collapse",t.recursive_collapser){for(r=e.parentNode.getElementsByClassName("collapser"),l=[],o=0,a=r.length;o<a;o++)e=r[o],l.push(this[n](e));return l}return this[n](e)},e.collapseTarget=function(e){var t;if(t=e.parentNode.getElementsByClassName("collapsible"),t.length)return t[0]},e}(),n=e,o={collapse:function(e){if("-"===e.innerHTML)return r.collapse(e)},expand:function(e){if("+"===e.innerHTML)return r.expand(e)},toggle:function(e){return r.toggle(e)}},n.fn.JSONView=function(){var e,t,a,l,s,u,c;return e=arguments,null!=o[e[0]]?(s=e[0],this.each(function(){var t,r;return t=n(this),null!=e[1]?(r=e[1],t.find(".jsonview .collapsible.level"+r).siblings(".collapser").each(function(){return o[s](this)})):t.find(".jsonview > ul > li .collapsible").siblings(".collapser").each(function(){return o[s](this)})})):(l=e[0],u=e[1]||{},t={collapsed:!1,nl2br:!1,recursive_collapser:!1,escape:!0},u=n.extend(t,u),a=new i({nl2br:u.nl2br,escape:u.escape}),"[object String]"===Object.prototype.toString.call(l)&&(l=JSON.parse(l)),c=a.jsonToHTML(l),this.each(function(){var e,t,i,o,a,l;for(e=n(this),e.html(c),i=e[0].getElementsByClassName("collapsible"),l=[],o=0,a=i.length;o<a;o++)t=i[o],"LI"===t.parentNode.nodeName?l.push(r.bindEvent(t.parentNode,u)):l.push(void 0);return l}))}}(e)}).call(t,n(7),n(74)(e))},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],l=i[2],s=i[3],u={css:a,media:l,sourceMap:s};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function o(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i;if(t.singleton){var o=y++;n=m||(m=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=p.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=x(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var h={},g=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),m=null,y=0,b=[],x=n(71);e.exports=function(e,t){t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=g()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var l=n[a],s=h[l.id];s.refs--,o.push(s)}if(e){r(i(e),t)}for(var a=0;a<o.length;a++){var s=o[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete h[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(26),l=r(a),s=n(4),u=r(s),c=function(){return null},d={init:function(e){var t=(0,u.default)(e,"div",o.default.CONTEXT_MENU_LAYER_ID,o.default.CONTEXT_MENU_LAYER_CLASS);return d.contextMenuElement=(0,u.default)("#"+t.id,"ul",o.default.CONTEXT_MENU_ID,o.default.CONTEXT_MENU_CLASS),d.openedPosition={},d.targetedEntity={},d.contextMenuElement.onclick=function(e){var t=e.target.attributes.action.value;t&&c({position:{x:d.openedPosition[0],y:d.openedPosition[1]},type:t,target:d.targetedEntity}),d.close()},d},onAction:function(e){return c=e},open:function(e,t){d.contextMenuElement.innerHTML=d.getContextMenuHTML(t),d.openedPosition=e,d.targetedEntity=t,d.contextMenuElement.style.left=e[0]+"px",d.contextMenuElement.style.top=e[1]+"px",d.contextMenuElement.classList.add("opened")},close:function(){d.contextMenuElement.classList.remove("opened")},getContextMenuHTML:function(e){return e.isNode?'\n        <li action="'+l.default.CREATE_EDGE+'">Create Edge from <b>"'+e.label+'"</b></li>\n        <li action="'+l.default.DELETE_NODE+'">Delete Node <b>"'+e.label+'"</b></li>\n      ':e.isEdge?"\n        <li id='svg_action_delete_edge' action=\""+l.default.DELETE_EDGE+'">Delete Edge <b>"'+e.label+'"</b></li>\n      ':e.id===o.default.SVGROOT_ID?'<li action="'+l.default.CREATE_NODE+'">New Node</li>':""}};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20),l=r(a),s=n(10),u=n(2),c=r(u),d=n(4),f=r(d),p=n(52),h=r(p),g=n(53),v=r(g),m=n(42),y=r(m),b=n(43),x=r(b),w=n(45),S=r(w),M=n(46),k=r(M),C=n(44),N=r(C);n(55),n(56);var E=n(5),T=r(E),L=n(22),_=r(L),A=n(1),O=r(A),D=n(8),P=r(D),I=n(24),R=r(I),j=function(e){return e},H=function(){function e(t){if(i(this,e),void 0===t)throw new Error('Editor must be created with provided "Container Id"!');var n=(0,f.default)(t,"div",c.default.EDITOR_ID,c.default.EDITOR_CLASS),r=(0,h.default)("#"+n.id,c.default.SVGROOT_ID,c.default.SVGROOT_CLASS),o=(0,v.default)("#"+r.id,c.default.ENTITIES_GROUP_ID,c.default.ENTITIES_GROUP_CLASS),a=l.default.select(o);this.svg=l.default.select(r),(0,x.default)(n),(0,y.default)(n),(0,s.render)((0,s.h)(S.default,null),n),(0,s.render)((0,s.h)(N.default,null),n),(0,s.render)((0,s.h)(k.default,null),n),_.default.init(this.svg,n,a),O.default.onChange(function(e){R.default.render(e.data,a),x.default.render(),j(e)})}return o(e,[{key:"onChange",value:function(e){j=e}},{key:"loadData",value:function(e){e.data&&(O.default.loadData(e.data),T.default.success(e.data.nodes.length+" Nodes and "+e.data.edges.length+" Edges Loaded.")),e.saves&&e.saves.length&&(P.default.loadSaves(e.saves),T.default.success(e.saves.length+" Saves Loaded"))}}]),e}();t.default=H},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),o=(r(i),n(9)),a=r(o),l=n(14),s=r(l),u=n(50),c=r(u),d=n(1),f=r(d),p=n(2),h=r(p),g=void 0,v=void 0,m=void 0,y=void 0,b=void 0,x={cql:function(){null!==document.getElementById("overlay-operation-dialog-body-span-id")?a.default.open(!1,h.default.MENU_DATABASE):(document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").remove(),(0,s.default)(),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",S()),w())}},w=function(){document.querySelector(".overlay-dialog.opened .dialog .body").addEventListener("click",function(t){var n=t.target,r=n.classList[0],i={data:{nodes:f.default.getAllNodes(),edges:f.default.getAllEdges()}};switch(r){case"neo4j-cql":M(),y="neo4j",document.querySelector(".dialog .body .graph-database-http").style.display="grid",document.querySelector(".dialog .body .graph-database-http .text-input").setAttribute("placeholder","Neo4j[Http]:localhost:7474");break;case"ongdb-cql":M(),y="ongdb",document.querySelector(".dialog .body .graph-database-http").style.display="grid",document.querySelector(".dialog .body .graph-database-http .text-input").setAttribute("placeholder","ONgDB[Http]:localhost:7474");break;case"view-cql":var o=document.querySelector(".dialog .body .view-div"),a=o.style.display;o.style.display="none"===a||""===a?"grid":"none",e(".overlay-dialog.opened .dialog .body .view-div").JSONView(i,{collapsed:!0,nl2br:!0,recursive_collapser:!0});break;case"http-url-commit-btn":g=document.getElementById("cql-http-text-input").value,v=document.getElementById("cql-http-text-input-un").value,m=document.getElementById("cql-http-text-input-pw").value,b=(0,c.default)(g,v,m,y,i)}})},S=function(){return'\n       <button class="neo4j-cql left">Neo4j</button>\n       <button class="ongdb-cql left">ONgDB</button>\n       <button class="view-cql right">View CQL</button>\n       <div class="graph-database-http">\n          <input id=\'cql-http-text-input\' type="text" maxlength="20" placeholder="http://localhost:7474/db/data/transaction/commit" class="text-input" />\n          <input id=\'cql-http-text-input-un\' type="tel" maxlength="20" placeholder="username" class="text-input" />\n          <input id=\'cql-http-text-input-pw\' type="password" maxlength="20" placeholder="password" class="text-input" />\n          <button class="http-url-commit-btn">save schema</button>\n       </div>\n       <div class="view-div"></div>'},M=function(){document.getElementById("cql-http-text-input").value=null,document.getElementById("cql-http-text-input-un").value=null,document.getElementById("cql-http-text-input-pw").value=null};t.default=x}).call(t,n(7))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=document.querySelector(".overlay-dialog.opened .dialog .body .saves-list");m.default.refreshJsonFileList(),e.innerHTML=L(m.default.getJsonDataList())}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=(r(o),n(9)),l=r(a),s=n(14),u=r(s),c=n(8),d=r(c),f=n(1),p=r(f),h=n(2),g=r(h),v=n(33),m=r(v),y=n(5),b=r(y),x=n(6),w=r(x),S=n(27),M=r(S),k=void 0,C={all:function(){var t=d.default.getSaves();null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,g.default.MENU_EXPORT):(e(".overlay-dialog.opened .dialog .body").JSONView(t),(0,u.default)().innerHTML=["JSON",JSON.stringify(t)].join(""))},current:function(){var t={data:{nodes:p.default.getAllNodes(),edges:p.default.getAllEdges()}};null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,g.default.MENU_EXPORT):(e(".overlay-dialog.opened .dialog .body").JSONView(t),(0,u.default)().innerHTML=["JSON",JSON.stringify(t)].join(""))},schema:function(){var t={graph:{nodes:p.default.getSchemaNodes(),relationships:p.default.getSchemaEdges()}};null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,g.default.MENU_EXPORT):(e(".overlay-dialog.opened .dialog .body").JSONView(t),(0,u.default)().innerHTML=["JSON",JSON.stringify(t)].join(""))},vis:function(){var t={graph:{nodes:p.default.getVisNodes(),relationships:p.default.getVisEdges()}};null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,g.default.MENU_EXPORT):(e(".overlay-dialog.opened .dialog .body").JSONView(t),(0,u.default)().innerHTML=["JSON",JSON.stringify(t)].join(""))},uploadJson:function(){null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,g.default.MENU_EXPORT):((0,u.default)(),document.querySelector(".overlay-dialog.opened .dialog .sub-header").innerHTML=A(),document.getElementById("set_file_name").style.display="flex",document.querySelector(".dialog .sub-header .new-save-name-input-upload").focus(),document.querySelector(".dialog .sub-header .new-save-name-input-upload").value=d.default.currentName(),m.default.loadJsonFileList(),document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").innerHTML=L(m.default.getJsonDataList()),_(),N(),E(),T())}},N=function(){document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").addEventListener("click",function(e){var t=e.target;k=t.id.replace("save-entry-json-os-",""),document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").innerHTML=L(m.default.getJsonDataList());var n=document.querySelector(".dialog .footer .download-btn"),r=document.querySelector(".dialog .footer .delete-btn-indb"),i=document.getElementById(t.id);if(null!==i){n.style.display="inline",r.style.display="inline";var o=i.style;o.background="#fafafa",o.border="#eee"}else n.style.display="none",r.style.display="none"})},E=function(){document.querySelector(".overlay-dialog.opened .dialog .footer .download-btn").addEventListener("click",function(){var e=m.default.getJsonDataMap()[k];d.default.setCurrentName(e.name),p.default.loadData(e.data),b.default.success("Save successfully loaded."),l.default.close()})},T=function(){document.querySelector(".overlay-dialog.opened .dialog .footer .delete-btn-indb").addEventListener("click",function(){"a399f5a3-8751-491a-bd69-be7c94ec39e2"===prompt("Administrator's key:","Please ask the administrator")?(window.confirm("Are you sure you want to delete all saved nodes and edges?")&&m.default.deleteJsonFile(k),i()):alert("Permission denied!!!")})},L=function(e){var t="";return e.forEach(function(e){t+='\n<li id="save-entry-json-os-'+e.id+'" class="save-entry-json-os" title="'+e.name+" \n"+e.data.nodes.length+" nodes, "+e.data.edges.length+" edges \n"+e.date+'">\n      <div class="icon">&#128196;</div>\n      <div class="name">'+e.name+"\n        <small>"+e.date+"</small>\n      </div>\n    </li>"}),t},_=function(){document.getElementById("upload-json-file-new-save-commit-btn").addEventListener("click",function(){var e=document.querySelector(".overlay-dialog.opened .dialog .sub-header .new-save-name-input-upload").value,t={data:{nodes:p.default.getAllNodes(),edges:p.default.getAllEdges()}},n=Object.assign({id:(0,w.default)(),date:(0,M.default)(new Date),name:e},t);window.confirm("Are you sure you want to upload all saved nodes and edges?")&&m.default.uploadJsonFile(n,e),i()})},A=function(){return'\n            <span>Save graph as:</span>\n            <input type="text" maxLength="20" placeholder="Name of the save you wanna upload." class="new-save-name-input-upload"/>\n            <button id=\'upload-json-file-new-save-commit-btn\'>Upload</button>'};t.default=C}).call(t,n(7))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return void 0===e||null===e?"#f05179":e}function o(e){for(var t=e.nodes,n=e.relationships,r=[],o=0;o<t.length;o++){var a=t[o];r.push(function(e){var t=e.properties,n=[{id:e.id+"_id",key:"id",type:"ID",defaultValue:"",limitMin:"",limitMax:"",isRequired:!0,isAutoGenerated:!0,isSystem:!0,description:""}];for(var r in t)t.hasOwnProperty(r)&&n.push({id:e.id+r,key:r,type:"String",defaultValue:"",limitMin:"",limitMax:"",isRequired:!1,isAutoGenerated:!1,isSystem:!1,description:t[r]});return{x:e.position.x,y:e.position.y,color:i(e.style["border-color"]),label:e.labels[0],properties:n,id:e.id,isSelected:!1,isNode:!0}}(a))}for(var l=[],s=0;s<n.length;s++){var u=n[s];l.push(function(e){var t=e.properties,n=[{id:"rel"+e.id+"_id",key:"id",type:"ID",defaultValue:"",limitMin:"",limitMax:"",isRequired:!0,isAutoGenerated:!0,isSystem:!0,description:""}];for(var r in t)t.hasOwnProperty(r)&&n.push({id:"rel"+e.id+r,key:r,type:"String",defaultValue:"",limitMin:"",limitMax:"",isRequired:!0,isAutoGenerated:!1,isSystem:!1,description:t[r]});return{startNodeId:e.fromId,endNodeId:e.toId,middlePointOffset:[0,0],properties:n,label:e.type,id:"rel"+e.id,isSelected:!1,isEdge:!0}}(u))}return{nodes:r,edges:l}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),l=r(a),s=n(14),u=r(s),c=n(4),d=r(c),f=n(2),p=r(f),h=n(1),g=r(h),v=n(5),m=r(v),y=n(33),b=r(y),x=n(8),w=r(x),S=n(17),M=(r(S),void 0),k={singleModelGraphJson:function(){var t=document.getElementById("overlay-operation-dialog-body-span-id");if(document.querySelector(".overlay-dialog.opened .dialog .footer .load-btn").style.display="inline",null!==t)l.default.open(!1,p.default.MENU_IMPORT);else{document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").remove(),(0,u.default)(),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",T()),(0,d.default)(".overlay-dialog.opened .dialog .body","view-div","view-div","view-div"),e(".overlay-dialog.opened .dialog .body .view-div").JSONView(L);(0,d.default)(".overlay-dialog.opened .dialog .body","span","view-div-temp","view-div-temp").innerHTML=["JSON",L].join("")}},singleModelGraphArrows:function(){var t=document.getElementById("overlay-operation-dialog-body-span-id");if(document.querySelector(".overlay-dialog.opened .dialog .footer .load-btn").style.display="inline",null!==t)l.default.open(!1,p.default.MENU_IMPORT);else{document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").remove(),(0,u.default)(),document.querySelector(".overlay-dialog.opened .dialog .body").insertAdjacentHTML("beforeend",T()),(0,d.default)(".overlay-dialog.opened .dialog .body","view-div","view-div","view-div"),e(".overlay-dialog.opened .dialog .body .view-div").JSONView(_);(0,d.default)(".overlay-dialog.opened .dialog .body","span","view-div-temp","view-div-temp").innerHTML=["JSON",_].join("")}},getInputJsonData:function(){var e=document.querySelector(".overlay-dialog.opened .dialog .body .overlay-operation-dialog-body-input").value,t=JSON.parse(e);return void 0!==t.data&&null!==t.data?t.data:o(t)},getDemoJson:function(){return L+_},downloadJsonFromOS:function(){null!==document.getElementById("overlay-operation-dialog-body-span-id")?l.default.open(!1,p.default.MENU_IMPORT):((0,u.default)(),b.default.loadJsonFileList(),document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").innerHTML=E(b.default.getJsonDataList()),C(),N())}},C=function(){document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").addEventListener("click",function(e){var t=e.target;M=t.id.replace("save-entry-json-os-",""),document.querySelector(".overlay-dialog.opened .dialog .body .saves-list").innerHTML=E(b.default.getJsonDataList());var n=document.querySelector(".dialog .footer .download-btn"),r=document.getElementById(t.id);if(null!==r){n.style.display="inline";var i=r.style;i.background="#fafafa",i.border="#eee"}else n.style.display="none"})},N=function(){document.querySelector(".overlay-dialog.opened .dialog .footer .download-btn").addEventListener("click",function(){var e=b.default.getJsonDataMap()[M];w.default.setCurrentName(e.name),g.default.loadData(e.data),m.default.success("Save successfully loaded."),l.default.close()})},E=function(e){var t="";return e.forEach(function(e){t+='\n<li id="save-entry-json-os-'+e.id+'" class="save-entry-json-os" title="'+e.name+" \n"+e.data.nodes.length+" nodes, "+e.data.edges.length+" edges \n"+e.date+'">\n      <div class="icon">&#128196;</div>\n      <div class="name">'+e.name+"\n        <small>"+e.date+"</small>\n      </div>\n    </li>"}),t},T=function(){return"\n          <input type='text' placeholder='JSON' class=\"overlay-operation-dialog-body-input\" value=''/>JSON"},L='{\n  "id": "a6b34397",\n  "date": "2/11/2021 3:48pm",\n  "name": "DEMO",\n  "data": {\n    "nodes": [\n      {\n        "x": 731,\n        "y": 228,\n        "color": "#f05179",\n        "label": "person",\n        "properties": [\n          {\n            "id": "ab8b5f82",\n            "key": "id",\n            "type": "ID",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": true,\n            "isSystem": true,\n            "description": ""\n          },\n          {\n            "id": "a29ea3b7",\n            "key": "name",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          },\n          {\n            "id": "a2949994",\n            "key": "born",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": false,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          }\n        ],\n        "id": "af90ada8",\n        "isSelected": false,\n        "isNode": true\n      },\n      {\n        "x": 612,\n        "y": 417,\n        "color": "#6379cf",\n        "label": "movie",\n        "properties": [\n          {\n            "id": "afb60ca7",\n            "key": "id",\n            "type": "ID",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": true,\n            "isSystem": true,\n            "description": ""\n          },\n          {\n            "id": "a4b33fb2",\n            "key": "title",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          },\n          {\n            "id": "a5836ebb",\n            "key": "tagline",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": false,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          },\n          {\n            "id": "a2969684",\n            "key": "released",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          }\n        ],\n        "id": "a9ba9c85",\n        "isSelected": false,\n        "isNode": true\n      }\n    ],\n    "edges": [\n      {\n        "startNodeId": "af90ada8",\n        "endNodeId": "a9ba9c85",\n        "middlePointOffset": [\n          30.5,\n          36.5\n        ],\n        "properties": [\n          {\n            "id": "ac8b8991",\n            "key": "id",\n            "type": "ID",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": true,\n            "isSystem": true,\n            "description": ""\n          },\n          {\n            "id": "a2b5f298",\n            "key": "roles",\n            "type": "String",\n            "defaultValue": "",\n            "limitMin": "",\n            "limitMax": "",\n            "isRequired": true,\n            "isAutoGenerated": false,\n            "isSystem": false,\n            "description": ""\n          }\n        ],\n        "label": "acted_in",\n        "id": "abb1a6a0",\n        "isSelected": false,\n        "isEdge": true\n      }\n    ]\n  }\n}',_='{\n  "style": {\n    "font-family": "sans-serif",\n    "background-color": "#ffffff",\n    "background-image": "",\n    "background-size": "100%",\n    "node-color": "#ffffff",\n    "border-width": 4,\n    "border-color": "#000000",\n    "radius": 50,\n    "node-padding": 5,\n    "node-margin": 2,\n    "outside-position": "auto",\n    "node-icon-image": "",\n    "node-background-image": "",\n    "icon-position": "inside",\n    "icon-size": 64,\n    "caption-position": "inside",\n    "caption-max-width": 200,\n    "caption-color": "#000000",\n    "caption-font-size": 50,\n    "caption-font-weight": "normal",\n    "label-position": "inside",\n    "label-display": "pill",\n    "label-color": "#000000",\n    "label-background-color": "#ffffff",\n    "label-border-color": "#000000",\n    "label-border-width": 4,\n    "label-font-size": 40,\n    "label-padding": 5,\n    "label-margin": 4,\n    "directionality": "directed",\n    "detail-position": "inline",\n    "detail-orientation": "parallel",\n    "arrow-width": 5,\n    "arrow-color": "#000000",\n    "margin-start": 5,\n    "margin-end": 5,\n    "margin-peer": 20,\n    "attachment-start": "normal",\n    "attachment-end": "normal",\n    "relationship-icon-image": "",\n    "type-color": "#000000",\n    "type-background-color": "#ffffff",\n    "type-border-color": "#000000",\n    "type-border-width": 0,\n    "type-font-size": 16,\n    "type-padding": 5,\n    "property-position": "outside",\n    "property-alignment": "colon",\n    "property-color": "#000000",\n    "property-font-size": 16,\n    "property-font-weight": "normal"\n  },\n  "nodes": [\n    {\n      "id": "n0",\n      "position": {\n        "x": -359,\n        "y": -355\n      },\n      "caption": "",\n      "labels": [\n        ""\n      ],\n      "properties": {\n        "id": "ID"\n      },\n      "style": {}\n    },\n    {\n      "id": "n1",\n      "position": {\n        "x": 151.78074360871938,\n        "y": -355\n      },\n      "caption": "",\n      "labels": [\n        ""\n      ],\n      "properties": {\n        "name": ""\n      },\n      "style": {}\n    }\n  ],\n  "relationships": [\n    {\n      "id": "n0",\n      "fromId": "n0",\n      "toId": "n1",\n      "type": "",\n      "properties": {\n        "weight": ""\n      },\n      "style": {}\n    }\n  ]\n}';t.default=k}).call(t,n(7))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(2),l=r(a);t.default=function(e){var t=(0,o.default)("#"+e.id,"div",l.default.HELP_ID,l.default.HELP_CLASS);t.setAttribute("tabindex",0),t.setAttribute("title","User short help."),(0,o.default)("#"+t.id,"div",l.default.HELP_PANEL_ID,l.default.HELP_PANEL_CLASS).innerHTML="\n      1. Use the right mouse button to show the a context menu from which you can create, delete and connect nodes.\n      <br/><br/>\n      2. Double click on a node or edge to open the properties panel.\n      <br/><br/>\n      3. You can move the middle points of the edges to make the connection between the nodes more visible.\n    "}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(2),l=r(a),s=n(1),u=r(s),c=n(23),d=r(c),f=function e(t){var n=(0,o.default)("#"+t.id,"div",l.default.INFO_ID,l.default.INFO_CLASS);n.setAttribute("tabindex",0),n.setAttribute("title","Summary Information."),e.infoPanel=(0,o.default)("#"+n.id,"div",l.default.INFO_PANEL_ID,l.default.INFO_PANEL_CLASS),d3.select("#"+n.id).on("mouseover",function(){var e=d3.event.target;if(e.classList.contains("entity")){var t=e.attributes["entity-id"].value;u.default.selectEntity(t)}}).on("click",function(){var e=d3.event.target;if(e.classList.contains("entity")){var t=e.attributes["entity-id"].value,n=u.default.getNode(t)||u.default.getEdge(t),r=n.isNode?[n.x+20,n.y+15]:[n.middlePointWithOffset[0]+10,n.middlePointWithOffset[1]+10];d.default.open(r,n)}})};f.render=function(){function e(e){0!==e.length&&(t+="<div class='col'><h1>"+e.length+" "+(e[0].isNode?"Nodes":"Edges")+"</h1>",e.forEach(function(e){t+='<div class="entity" entity-id="'+e.id+'"><strong><span class="color" style="background-color: '+e.color+'"></span> '+e.label+" ("+e.properties.length+")</strong>",e.properties.length&&(t+="<ul>",e.properties.forEach(function(e){t+="\n                <li>\n                  <b>"+e.key+"</b> ("+e.type.toLowerCase()+(e.isRequired?", required":"")+(e.defaultValue?", with Default Value":"")+(e.hasLimit?", limited":"")+")\n                </li>\n              "}),t+="</ul>"),t+="</div>"}),t+="</div>")}var t="",n=u.default.getAllNodes(),r=u.default.getAllEdges();e(n),e(r),f.infoPanel.innerHTML=t},t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(10),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!0},n}return o(t,e),a(t,[{key:"toggleOpen",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(e,t){return(0,l.h)("div",{id:"overlay-dialog",className:{opened:t.isOpen,"overlay-dialog":!0,intro:!0}},(0,l.h)("div",{class:"dialog intro"},(0,l.h)("div",{class:"header"},"Introduction"),(0,l.h)("div",{class:"sub-header"},(0,l.h)("span",null,"The project is still in prototype state. Suggestions and recommendations are welcome. Drop me a line at ",(0,l.h)("a",{href:"mailto:aleksandrenko@gmail.com"},"aleksandrenko@gmail.com"),"."),(0,l.h)("span",null,"Secondary Development By Graph Data Lab. Drop me a line at ",(0,l.h)("a",{href:"yanchaoma@foxmail.com"},"yanchaoma@foxmail.com"),".")),(0,l.h)("div",{class:"body"},(0,l.h)("iframe",{width:"853",height:"480",src:"https://cn.bing.com/search?q=Graph%20Data%20Modeling",frameborder:"0",allowfullscreen:!0})),(0,l.h)("div",{class:"footer"},(0,l.h)("button",{class:"close-dialog-btn",onClick:this.toggleOpen.bind(this)},"Close"))))}}]),t}(l.Component);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);return new Blob([o],{type:n})}function s(e,t){var n=document.createElement("a"),r=document.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.download=e,n.href=URL.createObjectURL(t),n.dispatchEvent(r)}function u(e,t){var n=void 0,r=e.getBBox(),i=r.x,o=r.y,a=r.width,l=r.height;if(t){if(!(n=e.getElementsByClassName(t.replace(/\./g,""))[0]))return window.alert("zoomObj"),!1;var s=n.getAttribute("transform"),u=n.getAttribute("transform");if(s||u){var c=s.match(/translate\(([^,]*),([^,)]*)\)/),d=u.match(/scale\((.*)\)/);if(c||d){var f=c[1],p=c[2],h=d[1];i=(i-f)/h,o=(o-p)/h,a/=h,l/=h}}}var g=e.cloneNode(!0);g.setAttribute("width",a+256),g.setAttribute("height",l+64),g.setAttribute("viewBox",[i,o,a,l]),t&&(n=g.getElementsByClassName(t.replace(/\./g,""))[0],n.setAttribute("transform","translate(0,0) scale(1)")),E(g)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(10),f=n(1),p=r(f),h=n(21),g=r(h),v=n(5),m=r(v),y=n(15),b=r(y),x=n(30),w=r(x),S=n(9),M=r(S),k=n(2),C=r(k),N=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isMenuOpen:!1,isSchemaOpen:!1},n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,b.default)(document.querySelector("#graphql-schema"),{lineNumbers:!0,readOnly:!0,undoDepth:0,mode:"yaml",lineWrapping:!0,value:""}),n=(0,b.default)(document.querySelector("#jshandlers-schema"),{lineNumbers:!0,readOnly:!0,undoDepth:0,mode:"javascript",lineWrapping:!0,value:""});p.default.onChange(function(){t.setValue(w.default.getFullSchema()),n.setValue(w.default.getAllResolvers())}.bind(this)),d3.select("body").on("keydown.menu",function(){if(d3.event.ctrlKey||d3.event.metaKey)switch(d3.event.keyCode){case 83:e.save();break;case 76:e.load();break;case 90:e.undo();break;case 89:e.redo()}})}},{key:"toggleMenuOpen",value:function(){this.setState({isMenuOpen:!this.state.isMenuOpen,isSchemaOpen:!1})}},{key:"toggleGraphqlView",value:function(){this.setState({isMenuOpen:!1,isSchemaOpen:!this.state.isSchemaOpen})}},{key:"closeAll",value:function(){this.setState({isMenuOpen:!1,isSchemaOpen:!1})}},{key:"deleteAll",value:function(){window.confirm("Are you sure you want to delete all nodes and edges?")&&(p.default.clear(),m.default.error("All nodes and edges have been deleted. (Hint: Ctrl+Z to undo)")),this.closeAll()}},{key:"save",value:function(){M.default.open(!0,C.default.MENU_SAVE),this.closeAll()}},{key:"load",value:function(){M.default.open(!1,C.default.MENU_LOAD),this.closeAll()}},{key:"task",value:function(){M.default.open(!1,C.default.MENU_TASK),this.closeAll()}},{key:"export",value:function(){M.default.open(!1,C.default.MENU_EXPORT),this.closeAll()}},{key:"import",value:function(){M.default.open(!1,C.default.MENU_IMPORT),this.closeAll()}},{key:"database",value:function(){M.default.open(!1,C.default.MENU_DATABASE),this.closeAll()}},{key:"download",value:function(){u(d3.select("svg").node(),".entities-group")}},{key:"svgStyleAdjust",value:function(){M.default.open(!1,C.default.MENU_SVG_STYLE),this.closeAll()}},{key:"undo",value:function(){g.default.undo(),this.closeAll()}},{key:"redo",value:function(){g.default.redo(),this.closeAll()}},{key:"render",value:function(e,t){return(0,d.h)("menu",{className:"top-menu",id:"top-menu"},(0,d.h)("span",{className:"toggle-button"+(t.isMenuOpen?" open":""),onClick:this.toggleMenuOpen.bind(this)},""),(0,d.h)("section",{className:"drop-down-menu content"+(t.isMenuOpen?" open":"")},(0,d.h)("ul",null,(0,d.h)("li",{className:"menu-save-btn",onClick:this.save.bind(this)}," Save ",(0,d.h)("small",null,"(ctrl+s)")),(0,d.h)("li",{className:"menu-load-btn",onClick:this.load.bind(this)}," Load ",(0,d.h)("small",null,"(ctrl+l)")),(0,d.h)("li",{className:"menu-task-btn",onClick:this.task.bind(this)}," Task ",(0,d.h)("small",null,"(task)")),(0,d.h)("li",{className:"menu-export-btn",onClick:this.export.bind(this)}," Export",(0,d.h)("small",null,"(export)")),(0,d.h)("li",{className:"menu-import-btn",onClick:this.import.bind(this)}," Import",(0,d.h)("small",null,"(import)")),(0,d.h)("li",{className:"menu-database-btn",onClick:this.database.bind(this)}," Database",(0,d.h)("small",null,"(database)")),(0,d.h)("li",{className:"menu-download-btn",onClick:this.download.bind(this)}," Download",(0,d.h)("small",null,"(download)")),(0,d.h)("li",{className:"menu-style-adjust-btn",onClick:this.svgStyleAdjust.bind(this)}," Style",(0,d.h)("small",null,"(style)")),(0,d.h)("li",{className:"menu-undo-btn",onClick:this.undo.bind(this)}," Undo ",(0,d.h)("small",null,"(ctrl+z)")),(0,d.h)("li",{className:"menu-redo-btn",onClick:this.redo.bind(this)}," Redo ",(0,d.h)("small",null,"(ctrl+y)")),(0,d.h)("li",{className:"menu-delete-all-btn",onClick:this.deleteAll.bind(this)}," Delete all"))),(0,d.h)("span",{className:"toggle-button"+(t.isSchemaOpen?" open":""),onClick:this.toggleGraphqlView.bind(this)},""),(0,d.h)("section",{className:"graphql-schema content"+(t.isSchemaOpen?" open":"")},(0,d.h)("section",{id:"graphql-schema"}),(0,d.h)("section",{id:"jshandlers-schema"})),(this.state.isMenuOpen||this.state.isSchemaOpen)&&(0,d.h)("overlay",{className:"top-menu-overlay",onClick:this.closeAll.bind(this)}))}}]),t}(d.Component),E=function(e){var t=new XMLSerializer,n='<?xml version="1.0" standalone="no"?>\r\n'+t.serializeToString(e),r=new Image;r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n),r.onload=function(){var e=this.naturalWidth,t=this.naturalHeight,n=document.createElement("canvas");n.width=e,n.height=t;var i=n.getContext("2d");i.rect(0,0,e,t),i.fillStyle="#fff",i.fill(),i.drawImage(r,0,0),s("svg.jpg",l(n.toDataURL("image/jpg",1)))}};t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=document.getElementById("svg_action_delete_edge");null!==e&&e.remove()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(10),c=n(1),d=r(c),f=n(23),p=r(f),h=n(30),g=r(h),v=n(15),m=r(v),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPropertiesOpen:!1,isSchemaOpen:!1,isJavascriptOpen:!1,isIndexesOpen:!1,selectedEntry:null},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=(0,m.default)(document.querySelector("#side-panel-schema"),{lineNumbers:!0,readOnly:!0,undoDepth:0,mode:"yaml",lineWrapping:!0,value:""}),t=(0,m.default)(document.querySelector("#side-panel-editor"),{lineNumbers:!0,readOnly:!0,lineWrapping:!0,mode:"javascript",value:""}),n=(0,m.default)(document.querySelector("#side-panel-indexes"),{lineNumbers:!0,lineWrapping:!0,mode:"javascript",value:""});d.default.onChange(function(r,i){var o=d.default.getSelectedEntity();if("select"===i&&(this.setState({selectedEntry:o}),o.isNode)){var a=g.default.getNodeResolver(o),l=g.default.getNodeSchema(o);t.setValue(a),e.setValue(l),n.setValue(this.getIndexesValue(o))}if("update"===i){var s=void 0,u=void 0;o.isNode&&(s=g.default.getNodeResolver(o),u=g.default.getNodeSchema(o)),o.isEdge&&(s=g.default.getEdgeResolver(o),u=g.default.getEdgeSchema(o)),t.setValue(s),e.setValue(u),n.setValue(this.getIndexesValue(o))}if("deselect"===i&&(this.setState({selectedEntry:null}),t.setValue(""),e.setValue(""),n.setValue("")),"dblclick"===i){var c=d.default.getSelectedEntity();this.setState({selectedEntry:c,isPropertiesOpen:!0})}}.bind(this))}},{key:"getIndexesValue",value:function(e){var t=e.properties,n=document.querySelector("#properties-list .selected .property .propertyName");if(null!==n){var r=n.value,i=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;if(u.key===r)return null===u.description||""===u.description.trim()?u.defaultValue:u.description}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}else{var c=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var g=p.value;if("schema-indexes"===g.key)return null===g.description||""===g.description.trim()?g.defaultValue:g.description}}catch(e){d=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(d)throw f}}}return""}},{key:"togglePanelProperties",value:function(){this.setState({isPropertiesOpen:!this.state.isPropertiesOpen})}},{key:"togglePanelSchema",value:function(){this.setState({isSchemaOpen:!this.state.isSchemaOpen})}},{key:"togglePanelJs",value:function(){this.setState({isJavascriptOpen:!this.state.isJavascriptOpen})}},{key:"togglePanelInx",value:function(){this.setState({isIndexesOpen:!this.state.isIndexesOpen})}},{key:"onEntityChange",value:function(e){if(!e)return!1;e.isNode&&d.default.updateNode(e),e.isEdge&&d.default.updateEdge(e)}},{key:"_onClick",value:function(){var e=document.getElementById("side-panel");null!==e&&e.addEventListener("click",function(e){l()})}},{key:"render",value:function(e,t){return(0,u.h)("section",{id:"side-panel",className:{hasOpen:t.isPropertiesOpen||t.isSchemaOpen||t.isJavascriptOpen||t.isIndexesOpen},onClick:this._onClick()},(0,u.h)("header",{className:{open:t.isPropertiesOpen},onClick:this.togglePanelProperties.bind(this)},"Properties"),(0,u.h)("section",{id:"side-panel-properties",className:{open:t.isPropertiesOpen}},(0,u.h)(p.default,{entity:t.selectedEntry,onEntityChange:this.onEntityChange})),(0,u.h)("header",{className:{open:t.isIndexesOpen},onClick:this.togglePanelInx.bind(this)},"Indexes"),(0,u.h)("section",{id:"side-panel-indexes",className:{open:t.isIndexesOpen}}),(0,u.h)("header",{className:{open:t.isSchemaOpen},onClick:this.togglePanelSchema.bind(this)},"Schema"),(0,u.h)("section",{id:"side-panel-schema",className:{open:t.isSchemaOpen}}),(0,u.h)("header",{className:{open:t.isJavascriptOpen},onClick:this.togglePanelJs.bind(this)},"Javascript"),(0,u.h)("section",{id:"side-panel-editor",className:{open:t.isJavascriptOpen}}))}}]),t}(u.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(32),l=r(a),s=n(18),u=r(s),c=function(){var e=o.default.getAllNodes(),t=e.map(u.default.resolvers.getNodeResolver).join("\n");return"\n    "+l.default.javascript+"\n    "+t+"\n  "};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){return"\n# Connection for "+e.label.toCamelCase()+"\ntype "+i.default.getName(e,"Connection")+" implements Connection {\n  nodes: ["+e.startNode.label.toCamelCase()+"]\n  edges: ["+i.default.getName(e,"Edge")+"]\n  pageInfo: PageInfo\n  totalCount: Int!\n}\n"};t.default={schema:{getConnectionSchema:o},resolvers:{}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(32),l=r(a),s=n(18),u=r(s),c=n(29),d=r(c),f=function(){var e=o.default.getAllNodes(),t=o.default.getAllEdges(),n=e.map(function(e){return u.default.schema.getNodeSchema(e)}).join("\n"),r=t.map(d.default.schema.getEdgeSchema).join("\n"),i=e.map(u.default.schema.getNodeMutation).join("\n"),a=e.map(function(e){return e.label+"s(id:[ID]): ["+e.label.toCamelCase()+"]"}).join("\n  ");return"\n"+l.default.schema+"\n"+n+"\n"+r+"\n\ntype Mutation {\n  "+i+"\n}\n\ntype Query {\n  nodes(id:[ID]): [Node]\n  "+a+"\n}\n\nschema {\n  query: Query\n  mutation: Mutation\n}\n"};t.default=f},function(e,t){"use strict";function n(e,t,n,r,i){console.log(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){var t=Array.from(e),n=document.querySelector("#"+i.default.EDITOR_ID),r=n.clientWidth,o=n.clientHeight,a=Math.min.apply(null,t.map(function(e){return e.x})),l=Math.max.apply(null,t.map(function(e){return e.x})),s=Math.min.apply(null,t.map(function(e){return e.y})),u=Math.max.apply(null,t.map(function(e){return e.y})),c=a<0?Math.abs(a)+25:0,d=l-r+100,f=s<0?Math.abs(s)+25:0,p=u-o+25;return t.map(function(e){return c>0&&(e.x+=c),d>0&&(e.x-=d),f>0&&(e.y+=f),p>0&&(e.y-=p),e}),t}},function(e,t){"use strict";function n(e,t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("id",t),r.setAttribute("class",n),document.querySelector(e).appendChild(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","g");return r.setAttribute("id",t),r.setAttribute("class",n),document.querySelector(e).appendChild(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";var r=n(38),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(72),n(73),String.prototype.toCamelCase=function(){return this.replace(/\b(\w+)/g,function(e,t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})};var o=new i.default("body");o.onChange(function(e){localStorage.setItem("nma.grad3ph",JSON.stringify(e.data)),localStorage.setItem("nma.grad3ph.saves",JSON.stringify(e.saves))});var a=localStorage.getItem("nma.grad3ph"),l=localStorage.getItem("nma.grad3ph.saves");o.loadData({data:JSON.parse(a),saves:JSON.parse(l)})},function(e,t,n){!function(e){e(n(15))}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return Be=e,Ue=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return i("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=l,l(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):We(e,t,1)?(r(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=s,s(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),i("meta","meta");if("#"==n&&e.eatWhile(Ke))return i("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),i("comment","comment");if(Qe.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?i("."):i("operator","operator",e.current());if(Ke.test(n)){e.eatWhile(Ke);var o=e.current();if("."!=t.lastType){if(Ze.propertyIsEnumerable(o)){var u=Ze[o];return i(u.type,u.style,o)}if("async"==o&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(Ye&&"@"==t.peek()&&t.match(et))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function l(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function s(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if($e){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var l=e.string.charAt(a),s=tt.indexOf(l);if(s>=0&&s<3){if(!i){++a;break}if(0==--i){"("==l&&(o=!0);break}}else if(s>=3&&s<6)++i;else if(Ke.test(l))o=!0;else if(/["'\/`]/.test(l))for(;;--a){if(0==a)return;var u=e.string.charAt(a-1);if(u==l&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function d(e,t){if(!Je)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,i){var o=e.cc;for(rt.state=e,rt.stream=i,rt.marked=null,rt.cc=o,rt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():Xe?L:E)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return rt.marked?rt.marked:"variable"==n&&d(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)rt.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function g(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function v(e){var t=rt.state;if(rt.marked="def",Je){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=m(e,t.context);if(null!=r)return void(t.context=r)}else if(!g(e,t.localVars))return void(t.localVars=new x(e,t.localVars));n.globalVars&&!g(e,t.globalVars)&&(t.globalVars=new x(e,t.globalVars))}}function m(e,t){if(t){if(t.block){var n=m(e,t.prev);return n?n==t.prev?t:new b(n,t.vars,!0):null}return g(e,t.vars)?t:new b(t.prev,new x(e,t.vars),!1)}return null}function y(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function b(e,t,n){this.prev=e,this.vars=t,this.block=n}function x(e,t){this.name=e,this.next=t}function w(){rt.state.context=new b(rt.state.context,rt.state.localVars,!1),rt.state.localVars=it}function S(){rt.state.context=new b(rt.state.context,rt.state.localVars,!0),rt.state.localVars=null}function M(){rt.state.localVars=rt.state.context.vars,rt.state.context=rt.state.context.prev}function k(e,t){var n=function(){var n=rt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,rt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function C(){var e=rt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function N(e){function t(n){return n==e?h():";"==e||"}"==n||")"==n||"]"==n?p():h(t)}return t}function E(e,t){return"var"==e?h(k("vardef",t),fe,N(";"),C):"keyword a"==e?h(k("form"),A,E,C):"keyword b"==e?h(k("form"),E,C):"keyword d"==e?rt.stream.match(/^\s*$/,!1)?h():h(k("stat"),D,N(";"),C):"debugger"==e?h(N(";")):"{"==e?h(k("}"),S,$,C,M):";"==e?h():"if"==e?("else"==rt.state.lexical.info&&rt.state.cc[rt.state.cc.length-1]==C&&rt.state.cc.pop()(),h(k("form"),A,E,C,ye)):"function"==e?h(Se):"for"==e?h(k("form"),S,be,E,M,C):"class"==e||$e&&"interface"==t?(rt.marked="keyword",h(k("form","class"==e?e:t),Ee,C)):"variable"==e?$e&&"declare"==t?(rt.marked="keyword",h(E)):$e&&("module"==t||"enum"==t||"type"==t)&&rt.stream.match(/^\s*\w/,!1)?(rt.marked="keyword","enum"==t?h(qe):"type"==t?h(ke,N("operator"),te,N(";")):h(k("form"),pe,N("{"),k("}"),$,C,C)):$e&&"namespace"==t?(rt.marked="keyword",h(k("form"),L,E,C)):$e&&"abstract"==t?(rt.marked="keyword",h(E)):h(k("stat"),B):"switch"==e?h(k("form"),A,N("{"),k("}","switch"),S,$,C,C,M):"case"==e?h(L,N(":")):"default"==e?h(N(":")):"catch"==e?h(k("form"),w,T,E,C,M):"export"==e?h(k("stat"),Ae,C):"import"==e?h(k("stat"),De,C):"async"==e?h(E):"@"==t?h(L,E):p(k("stat"),L,N(";"),C)}function T(e){if("("==e)return h(Ce,N(")"))}function L(e,t){return O(e,t,!1)}function _(e,t){return O(e,t,!0)}function A(e){return"("!=e?p():h(k(")"),D,N(")"),C)}function O(e,t,n){if(rt.state.fatArrowAt==rt.stream.start){var r=n?q:H;if("("==e)return h(w,k(")"),X(Ce,")"),C,N("=>"),r,M);if("variable"==e)return p(w,pe,N("=>"),r,M)}var i=n?I:P;return nt.hasOwnProperty(e)?h(i):"function"==e?h(Se,i):"class"==e||$e&&"interface"==t?(rt.marked="keyword",h(k("form"),Ne,C)):"keyword c"==e||"async"==e?h(n?_:L):"("==e?h(k(")"),D,N(")"),C,i):"operator"==e||"spread"==e?h(n?_:L):"["==e?h(k("]"),He,C,i):"{"==e?J(V,"}",null,i):"quasi"==e?p(R,i):"new"==e?h(z(n)):h()}function D(e){return e.match(/[;\}\)\],]/)?p():p(L)}function P(e,t){return","==e?h(D):I(e,t,!1)}function I(e,t,n){var r=0==n?P:I,i=0==n?L:_;return"=>"==e?h(w,n?q:H,M):"operator"==e?/\+\+|--/.test(t)||$e&&"!"==t?h(r):$e&&"<"==t&&rt.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?h(k(">"),X(te,">"),C,r):"?"==t?h(L,N(":"),i):h(i):"quasi"==e?p(R,r):";"!=e?"("==e?J(_,")","call",r):"."==e?h(U,r):"["==e?h(k("]"),D,N("]"),C,r):$e&&"as"==t?(rt.marked="keyword",h(te,r)):"regexp"==e?(rt.state.lastType=rt.marked="operator",rt.stream.backUp(rt.stream.pos-rt.stream.start-1),h(i)):void 0:void 0}function R(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(R):h(D,j)}function j(e){if("}"==e)return rt.marked="string-2",rt.state.tokenize=s,h(R)}function H(e){return u(rt.stream,rt.state),p("{"==e?E:L)}function q(e){return u(rt.stream,rt.state),p("{"==e?E:_)}function z(e){return function(t){return"."==t?h(e?W:F):"variable"==t&&$e?h(ue,e?I:P):p(e?_:L)}}function F(e,t){if("target"==t)return rt.marked="keyword",h(P)}function W(e,t){if("target"==t)return rt.marked="keyword",h(I)}function B(e){return":"==e?h(C,E):p(P,N(";"),C)}function U(e){if("variable"==e)return rt.marked="property",h()}function V(e,t){if("async"==e)return rt.marked="property",h(V);if("variable"==e||"keyword"==rt.style){if(rt.marked="property","get"==t||"set"==t)return h(G);var n;return $e&&rt.state.fatArrowAt==rt.stream.start&&(n=rt.stream.match(/^\s*:\s*/,!1))&&(rt.state.fatArrowAt=rt.stream.pos+n[0].length),h(Y)}return"number"==e||"string"==e?(rt.marked=Ye?"property":rt.style+" property",h(Y)):"jsonld-keyword"==e?h(Y):$e&&y(t)?(rt.marked="keyword",h(V)):"["==e?h(L,K,N("]"),Y):"spread"==e?h(_,Y):"*"==t?(rt.marked="keyword",h(V)):":"==e?p(Y):void 0}function G(e){return"variable"!=e?p(Y):(rt.marked="property",h(Se))}function Y(e){return":"==e?h(_):"("==e?p(Se):void 0}function X(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=rt.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),h(function(n,r){return n==t||r==t?p():p(e)},r)}return i==t||o==t?h():n&&n.indexOf(";")>-1?p(e):h(N(t))}return function(n,i){return n==t||i==t?h():p(e,r)}}function J(e,t,n){for(var r=3;r<arguments.length;r++)rt.cc.push(arguments[r]);return h(k(t,n),X(e,t),C)}function $(e){return"}"==e?h():p(E,$)}function K(e,t){if($e){if(":"==e)return h(te);if("?"==t)return h(K)}}function Z(e,t){if($e&&(":"==e||"in"==t))return h(te)}function Q(e){if($e&&":"==e)return rt.stream.match(/^\s*\w+\s+is\b/,!1)?h(L,ee,te):h(te)}function ee(e,t){if("is"==t)return rt.marked="keyword",h()}function te(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(rt.marked="keyword",h("typeof"==t?_:te)):"variable"==e||"void"==t?(rt.marked="type",h(se)):"|"==t||"&"==t?h(te):"string"==e||"number"==e||"atom"==e?h(se):"["==e?h(k("]"),X(te,"]",","),C,se):"{"==e?h(k("}"),re,C,se):"("==e?h(X(le,")"),ne,se):"<"==e?h(X(te,">"),te):"quasi"==e?p(oe,se):void 0}function ne(e){if("=>"==e)return h(te)}function re(e){return e.match(/[\}\)\]]/)?h():","==e||";"==e?h(re):p(ie,re)}function ie(e,t){return"variable"==e||"keyword"==rt.style?(rt.marked="property",h(ie)):"?"==t||"number"==e||"string"==e?h(ie):":"==e?h(te):"["==e?h(N("variable"),Z,N("]"),ie):"("==e?p(Me,ie):e.match(/[;\}\)\],]/)?void 0:h()}function oe(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(oe):h(te,ae)}function ae(e){if("}"==e)return rt.marked="string-2",rt.state.tokenize=s,h(oe)}function le(e,t){return"variable"==e&&rt.stream.match(/^\s*[?:]/,!1)||"?"==t?h(le):":"==e?h(te):"spread"==e?h(le):p(te)}function se(e,t){return"<"==t?h(k(">"),X(te,">"),C,se):"|"==t||"."==e||"&"==t?h(te):"["==e?h(te,N("]"),se):"extends"==t||"implements"==t?(rt.marked="keyword",h(te)):"?"==t?h(te,N(":"),te):void 0}function ue(e,t){if("<"==t)return h(k(">"),X(te,">"),C,se)}function ce(){return p(te,de)}function de(e,t){if("="==t)return h(te)}function fe(e,t){return"enum"==t?(rt.marked="keyword",h(qe)):p(pe,K,ve,me)}function pe(e,t){return $e&&y(t)?(rt.marked="keyword",h(pe)):"variable"==e?(v(t),h()):"spread"==e?h(pe):"["==e?J(ge,"]"):"{"==e?J(he,"}"):void 0}function he(e,t){return"variable"!=e||rt.stream.match(/^\s*:/,!1)?("variable"==e&&(rt.marked="property"),"spread"==e?h(pe):"}"==e?p():"["==e?h(L,N("]"),N(":"),he):h(N(":"),pe,ve)):(v(t),h(ve))}function ge(){return p(pe,ve)}function ve(e,t){if("="==t)return h(_)}function me(e){if(","==e)return h(fe)}function ye(e,t){if("keyword b"==e&&"else"==t)return h(k("form","else"),E,C)}function be(e,t){return"await"==t?h(be):"("==e?h(k(")"),xe,C):void 0}function xe(e){return"var"==e?h(fe,we):"variable"==e?h(we):p(we)}function we(e,t){return")"==e?h():";"==e?h(we):"in"==t||"of"==t?(rt.marked="keyword",h(L,we)):p(L,we)}function Se(e,t){return"*"==t?(rt.marked="keyword",h(Se)):"variable"==e?(v(t),h(Se)):"("==e?h(w,k(")"),X(Ce,")"),C,Q,E,M):$e&&"<"==t?h(k(">"),X(ce,">"),C,Se):void 0}function Me(e,t){return"*"==t?(rt.marked="keyword",h(Me)):"variable"==e?(v(t),h(Me)):"("==e?h(w,k(")"),X(Ce,")"),C,Q,M):$e&&"<"==t?h(k(">"),X(ce,">"),C,Me):void 0}function ke(e,t){return"keyword"==e||"variable"==e?(rt.marked="type",h(ke)):"<"==t?h(k(">"),X(ce,">"),C):void 0}function Ce(e,t){return"@"==t&&h(L,Ce),"spread"==e?h(Ce):$e&&y(t)?(rt.marked="keyword",h(Ce)):$e&&"this"==e?h(K,ve):p(pe,K,ve)}function Ne(e,t){return"variable"==e?Ee(e,t):Te(e,t)}function Ee(e,t){if("variable"==e)return v(t),h(Te)}function Te(e,t){return"<"==t?h(k(">"),X(ce,">"),C,Te):"extends"==t||"implements"==t||$e&&","==e?("implements"==t&&(rt.marked="keyword"),h($e?te:L,Te)):"{"==e?h(k("}"),Le,C):void 0}function Le(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||$e&&y(t))&&rt.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(rt.marked="keyword",h(Le)):"variable"==e||"keyword"==rt.style?(rt.marked="property",h(_e,Le)):"number"==e||"string"==e?h(_e,Le):"["==e?h(L,K,N("]"),_e,Le):"*"==t?(rt.marked="keyword",h(Le)):$e&&"("==e?p(Me,Le):";"==e||","==e?h(Le):"}"==e?h():"@"==t?h(L,Le):void 0}function _e(e,t){if("!"==t)return h(_e);if("?"==t)return h(_e);if(":"==e)return h(te,ve);if("="==t)return h(_);var n=rt.state.lexical.prev;return p(n&&"interface"==n.info?Me:Se)}function Ae(e,t){return"*"==t?(rt.marked="keyword",h(je,N(";"))):"default"==t?(rt.marked="keyword",h(L,N(";"))):"{"==e?h(X(Oe,"}"),je,N(";")):p(E)}function Oe(e,t){return"as"==t?(rt.marked="keyword",h(N("variable"))):"variable"==e?p(_,Oe):void 0}function De(e){return"string"==e?h():"("==e?p(L):"."==e?p(P):p(Pe,Ie,je)}function Pe(e,t){return"{"==e?J(Pe,"}"):("variable"==e&&v(t),"*"==t&&(rt.marked="keyword"),h(Re))}function Ie(e){if(","==e)return h(Pe,Ie)}function Re(e,t){if("as"==t)return rt.marked="keyword",h(Pe)}function je(e,t){if("from"==t)return rt.marked="keyword",h(L)}function He(e){return"]"==e?h():p(X(_,"]"))}function qe(){return p(k("form"),pe,N("{"),k("}"),X(ze,"}"),C,C)}function ze(){return p(pe,ve)}function Fe(e,t){return"operator"==e.lastType||","==e.lastType||Qe.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function We(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Be,Ue,Ve=t.indentUnit,Ge=n.statementIndent,Ye=n.jsonld,Xe=n.json||Ye,Je=!1!==n.trackScope,$e=n.typescript,Ke=n.wordCharacters||/[\w$\xa1-\uffff]/,Ze=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),Qe=/[+\-*&%=<>!?|~^@]/,et=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,tt="([{}])",nt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0},rt={state:null,column:null,marked:null,cc:null},it=new x("this",new x("arguments",null));return w.lex=S.lex=!0,M.lex=!0,C.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-Ve,0,"block",!1),localVars:n.localVars,context:n.localVars&&new b(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Be?n:(t.lastType="operator"!=Be||"++"!=Ue&&"--"!=Ue?Be:"incdec",f(t,n,Be,Ue,e))},indent:function(t,r){if(t.tokenize==l||t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var d=t.cc[c];if(d==C)u=u.prev;else if(d!=ye&&d!=M)break}for(;("stat"==u.type||"form"==u.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==P||i==I)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;Ge&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var f=u.type,p=a==f;return"vardef"==f?u.indented+("operator"==t.lastType||","==t.lastType?u.info.length+1:0):"form"==f&&"{"==a?u.indented:"form"==f?u.indented+Ve:"stat"==f?u.indented+(Fe(t,r)?Ge||Ve:0):"switch"!=u.info||p||0==n.doubleIndentSwitch?u.align?u.column+(p?0:1):u.indented+(p?0:Ve):u.indented+(/^(?:case|default)\b/.test(r)?Ve:2*Ve)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Xe?null:"/*",blockCommentEnd:Xe?null:"*/",blockCommentContinue:Xe?null:" * ",lineComment:Xe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Xe?"json":"javascript",jsonldMode:Ye,jsonMode:Xe,expressionAllowed:We,skipExpression:function(t){f(t,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,n){!function(e){e(n(15))}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match("---"))return"def";if(e.match("..."))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return e.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")})},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,"/* ============================================================================ */\n/* Context menu styles */\n/* ============================================================================ */\n\n.context-menu-layer {\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.context-menu {\n  background: #fff;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  transition: opacity 0.2s;\n  min-width: 200px;\n  list-style: none;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n}\n\n.context-menu.opened {\n  pointer-events: all;\n  opacity: 1;\n}\n\n.context-menu li {\n  border-bottom: solid 1px #fafafa;\n  cursor: pointer;\n  padding: 10px 15px;\n  transition: background-color 0.2s;\n}\n\n.context-menu li:last-child {\n  border-bottom: none;\n}\n\n.context-menu li:hover {\n  background-color: #617170;\n  color: #fff;\n}\n\n.context-menu li b {\n  pointer-events: none;\n}",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,'\nhtml, body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  width: 100%;\n}\n\n/* ============================================================================ */\n/* Global styles */\n/* ============================================================================ */\n\n.no-cursor {\n  cursor: none;\n}\n\n.blurred {\n  -webkit-filter: blur(15px) grayscale(85%);\n  filter: blur(10px) grayscale(80%);\n}\n\n.graph-editor {\n  background: #ebebeb;\n  color: #617170;\n  font: 11px/18px "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;\n}\n\n.graph-editor * {\n  /*box-sizing: border-box;*/\n  box-sizing: content-box;\n}\n\n.graph-editor pre {\n  font-family: inherit;\n}\n\n.graph-editor {\n  height: 100%;\n  width: 100%;\n}\n\n.graph-editor ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.graph-editor input,\n.graph-editor select {\n  color: #666;\n}\n\n.graph-editor select,\n.graph-editor button,\n.graph-editor input {\n  cursor: pointer;\n  height: 25px;\n  font: 11px/18px "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif;\n}\n\n.graph-editor select:disabled,\n.graph-editor button:disabled,\n.graph-editor input:disabled {\n  opacity: 0.5;\n}\n\n.graph-editor label {\n  cursor: pointer;\n}\n\n.graph-editor select {\n  text-transform: none;\n}\n\n.graph-editor input[type="checkbox"],\n.graph-editor input[type="radio"] {\n  height: auto;\n  vertical-align: bottom;\n}\n\n.graph-editor button {\n  border-radius: 3px;\n  border: solid 1px #bbb;\n  background: #e6e6e6;\n  color: #666;\n  box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.5);\n  transition: all 0.2s;\n  outline: none;\n}\n\n.graph-editor button:hover {\n  background: #dddddd;\n}\n\n.graph-editor button:active {\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n\n/* */\n\n.toggle-button {\n  opacity: .25;\n  transition: all .2s;\n  padding: 4px 5px;\n  cursor: pointer;\n  min-width: 26px;\n  display: inline-block;\n  text-align: center;\n  border-radius: 5px;\n  outline: none;\n  border: solid 1px transparent;\n  user-select: none;\n}\n\n.toggle-button.open {\n  opacity: 1;\n  background: #fff;\n}\n\n.toggle-button:hover {\n  border: solid 1px #d1d1d1;\n  opacity: 1;\n}',""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,".help,\n.info {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  cursor: help;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #aaa;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.5), inset 0 1px 4px rgba(255, 255, 255, 0.4), inset 0 -1px 4px rgba(0, 0, 0, 0.1);\n  opacity: 0.5;\n  transition: all 0.2s;\n  outline: none;\n}\n\n.info {\n  right: 45px;\n}\n\n.help:hover,\n.info:hover {\n  opacity: 1;\n}\n\n.help::after,\n.info::after {\n  content: '?';\n  position: absolute;\n  left: 6px;\n  top: 0;\n  font-size: 9px;\n  color: #fff;\n  text-shadow: 0 1px rgba(0, 0, 0, 0.4);\n  pointer-events: none;\n}\n\n.info::after {\n  content: 'i';\n  left: 7px;\n  font-weight: bold;\n}\n\n.help:active,\n.info:active {\n  box-shadow: inset 0 1px 4px rgba(255, 255, 255, 0.4), inset 0 -1px 4px rgba(0, 0, 0, 0.1);\n}\n\n.help:focus,\n.info:focus {\n  opacity: 1;\n  background-color: dodgerblue;\n  box-shadow: none;\n  border-radius: 0 0 5px 5px;\n  border-top: solid 20px;\n  box-sizing: content-box;\n  border-color: dodgerblue;\n}\n\n.help:focus .help-panel,\n.info:focus .info-panel {\n  display: block;\n  pointer-events: all;\n  max-height: 90vh;\n  overflow: auto;\n}\n\n.info:focus .info-panel {\n  display: flex;\n}\n\n.help-panel,\n.info-panel {\n  width: 450px;\n  display: none;\n  position: absolute;\n  bottom: 30px;\n  right: -4px;\n  background: #ffffff;\n  padding: 10px;\n  border-radius: 6px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  cursor: default;\n  pointer-events: none;\n  z-index: 1000;\n  border-bottom: solid 3px dodgerblue;\n  min-width: 80px;\n  min-height: 50px;\n}\n\n.info-panel {\n  right: -29px;\n  width: auto;\n}\n\n.info-panel h1 {\n  font-size: 100%;\n  margin: 0 0 4px 0;\n  background: #617170;\n  padding: 2px 6px;\n  border-radius: 5px;\n  font-weight: normal;\n  color: #fff;\n}\n\n.info-panel .col {\n  width: 210px;\n  margin-right: 10px;\n  padding-right: 10px;\n  border-right: solid 1px #eee;\n}\n\n.info-panel .col:last-child {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.info-panel .col .color {\n  width: 7px;\n  height: 10px;\n  border-radius: 5px;\n  display: inline-block;\n  margin-left: 2px;\n}\n\n.info-panel .col ul {\n  margin-left: 12px;\n  margin-bottom: 5px;\n}\n\n.info-panel .col ul li {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 90%;\n  line-height: 1.5;\n  color: #aaa;\n}\n\n.info-panel .col ul li b {\n  color: #617170;\n}\n\n.info-panel .col ul:last-child {\n  margin-bottom: 0;\n}\n\n.info-panel .col .entity {\n  padding: 5px;\n  border-radius: 5px;\n  transition: background 0.2s;\n  text-transform: none;\n}\n\n.info-panel .col .entity * {\n  pointer-events: none;\n}\n\n.info-panel .col .entity:hover {\n  background: #eee;\n}",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,'@charset "UTF-8";\n.jsonview {\n  font-family: monospace;\n  font-size: 1.1em;\n  white-space: pre-wrap; }\n  .jsonview .prop {\n    font-weight: bold; }\n  .jsonview .null {\n    color: red; }\n  .jsonview .bool {\n    color: blue; }\n  .jsonview .num {\n    color: blue; }\n  .jsonview .string {\n    color: green;\n    white-space: pre-wrap; }\n    .jsonview .string.multiline {\n      display: inline-block;\n      vertical-align: text-top; }\n  .jsonview .collapser {\n    position: absolute;\n    left: -1em;\n    cursor: pointer; }\n  .jsonview .collapsible {\n    transition: height 1.2s;\n    transition: width 1.2s; }\n  .jsonview .collapsible.collapsed {\n    height: .8em;\n    width: 1em;\n    display: inline-block;\n    overflow: hidden;\n    margin: 0; }\n  .jsonview .collapsible.collapsed:before {\n    content: "\\2026";\n    width: 1em;\n    margin-left: .2em; }\n  .jsonview .collapser.collapsed {\n    transform: rotate(0deg); }\n  .jsonview .q {\n    display: inline-block;\n    width: 0px;\n    color: transparent; }\n  .jsonview li {\n    position: relative; }\n  .jsonview ul {\n    list-style: none;\n    margin: 0 0 0 2em;\n    padding: 0; }\n  .jsonview h1 {\n    font-size: 1.2em; }\n',""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,".notification-layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n  text-align: center;\n  vertical-align: top;\n  font-size: 80%;\n}\n\n.notification-layer .notifications {\n  display: inline-block;\n  max-width: 80vw;\n}\n\n.notification-layer .notification {\n  opacity: 0;\n  pointer-events: none;\n  text-align: center;\n  background: #666;\n  color: #fff;\n  padding: 6px 20px 4px;\n  text-transform: none;\n  overflow: hidden;\n  transition: all 0.2s;\n  border-radius: 5px;\n  margin-top: 5px;\n  border: solid 1px #333;\n  line-height: 1.2;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.1);\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);\n}\n\n.notification-layer .notification.success {\n  background: #5DA423;\n  border-color: #549420;\n}\n\n.notification-layer .notification.warning {\n  background: #E3B000;\n  border-color: #CC9F01;\n}\n\n.notification-layer .notification.error {\n  background: #C60F13;\n  border-color: #B20E12;\n}\n\n.notification-layer .notification.information {\n  background: #2BA6CB;\n  border-color: #2796B7;\n}\n\n.notification-layer .notification.open {\n  opacity: 1;\n}\n\n.notification-layer .notification.closed {\n  opacity: 0;\n}",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,"\n.overlay-dialog.opened {\n  opacity: 1;\n  pointer-events: all;\n}\n\n.overlay-dialog.opened .dialog {\n  margin-top: 0;\n}\n\n.overlay-dialog {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity .2s;\n  z-index: 1;\n}\n\n.dialog {\n  border-radius: 5px;\n  background: #fff;\n  margin-top: -150px;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3), 0 2px 10px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  transition: margin .2s;\n}\n\n.dialog .header,\n.dialog .footer,\n.dialog .body,\n.dialog .sub-header {\n  padding: 10px;\n}\n\n.dialog .header,\n.dialog .footer {\n  background: #efefef;\n}\n\n.dialog .header,\n.dialog .sub-header {\n  border-bottom: solid 1px #ddd;\n}\n\n.dialog .sub-header {\n  background: #eee;\n  display: none;\n  line-height: 24px;\n}\n\n.dialog .sub-header input[type=\"text\"] {\n  flex: 1;\n  margin: 0 8px;\n}\n\n.dialog .sub-header button {\n  width: 100px;\n}\n\n.dialog .body .graph-database-http {\n  display: none;\n  padding: 3px;\n  min-width: 200px;\n}\n\n.dialog .body .upload-json-file-new-save {\n  padding: 3ch;\n}\n\n.dialog .body .upload-json-file-new-save .text-input {\n  min-width: 280px;\n}\n\n.dialog .body .view-cql {\n  color: #f34e;\n}\n\n.dialog .body .view-div {\n  padding: 5px;\n  display: grid;\n}\n\n.dialog .footer {\n  border-top: solid 1px #ddd;\n  text-align: right;\n}\n\n.dialog .footer button  {\n  min-width: 80px;\n}\n\n.dialog .footer .left {\n  float: left;\n}\n\n.dialog .body {\n  min-height: 240px;\n  max-height: 50vh;\n  display: flex;\n  align-content: flex-start;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 536px;\n  max-width: 50vw;\n  overflow: auto;\n}\n\n.save-entry {\n  width: 100px;\n  flex: 1;\n  display: inline-block;\n  cursor: pointer;\n  text-align: center;\n  border-radius: 5px;\n  transition: all .2s;\n  padding: 10px;\n  border: solid 1px transparent;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.save-entry * {\n  pointer-events: none;\n}\n\n.save-entry:hover,\n.save-entry:focus {\n  border-color: #eee;\n  outline: none;\n}\n\n.save-entry.selected {\n  background: #fafafa;\n  border-color: #eee;\n}\n\n.save-entry .icon {\n  display: inline-block;\n  height: 55px;\n  width: 48px;\n  font-size: 48px;\n  line-height: 54px;\n  vertical-align: middle;\n}\n\n.save-entry .name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-transform: none;\n}\n\n.save-entry small {\n  opacity: .3;\n  display: block;\n  font-size: 70%;\n  padding: 0 10px;\n  line-height: 1;\n  white-space: normal;\n}\n\n.dialog.intro .body {\n  padding: 0;\n  width: 853px;\n  max-width: none;\n  min-height: 480px;\n  display: block;\n}\n\n.dialog.intro::before {\n  content: '';\n  display: block;\n  position: fixed;\n  z-index: -1;\n  background: rgba(0,0,0,0.6);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.dialog .body .overlay-operation-dialog-body-input {\n  height: 256px;\n  width: 512px;\n}\n\n\n.save-entry-json-os {\n  width: 100px;\n  flex: 1;\n  display: inline-block;\n  cursor: pointer;\n  text-align: center;\n  border-radius: 5px;\n  transition: all .2s;\n  padding: 10px;\n  border: solid 1px transparent;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.save-entry-json-os * {\n  pointer-events: none;\n}\n\n.save-entry-json-os:hover,\n.save-entry-json-os:focus {\n  border-color: #eee;\n  outline: none;\n}\n\n.save-entry-json-os.selected {\n  background: #fafafa;\n  border-color: #eee;\n}\n\n.save-entry-json-os .icon {\n  display: inline-block;\n  height: 55px;\n  width: 48px;\n  font-size: 48px;\n  line-height: 54px;\n  vertical-align: middle;\n}\n\n.save-entry-json-os .name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-transform: none;\n}\n\n.save-entry-json-os small {\n  opacity: .3;\n  display: block;\n  font-size: 70%;\n  padding: 0 10px;\n  line-height: 1;\n  white-space: normal;\n}\n\n",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,"/* ============================================================================ */\n/* Properties menu styles */\n/* ============================================================================ */\n\n.property-menu {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.property-menu.edge-properties .header .color {\n  display: none;\n}\n\n.property-menu.edge-properties .header .label {\n  margin-left: 0;\n}\n\n/* header ===================================================================== */\n\n.property-menu .header {\n  background: #fafafa;\n  border-bottom: solid 1px #ddd;\n  padding: 10px 10px 7px;\n  position: relative;\n}\n\n.property-menu .header input {\n  background: none;\n  padding: 0;\n  border: none;\n  outline: none;\n}\n\n.property-menu .header .label {\n  margin: 0 22px;\n  display: block;\n}\n\n.property-menu .header .label input {\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 24px;\n  /**/\n  text-transform: none;\n}\n\n.property-menu .header .label .type {\n  display: block;\n  color: #888;\n  line-height: 7px;\n  padding-bottom: 5px;\n}\n\n.property-menu .header .color {\n  height: 16px;\n  width: 16px;\n  position: absolute;\n  left: 10px;\n  top: 15px;\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n.property-menu .header .color input {\n  width: 100px;\n  height: 100px;\n  margin: -15px;\n}\n\n/* add button */\n\n.property-menu .add-button {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  background-color: transparent;\n  color: #ddd;\n  outline: none;\n  display: block;\n  transition: all 0.2s;\n  box-shadow: none;\n  border: solid 1px transparent;\n}\n\n.property-menu .add-button:hover {\n  background-color: #f1f1f1;\n  color: #666;\n  border: solid 1px #ddd;\n}\n\n/* */\n\n.no-selected {\n  background: #fafafa;\n  padding: 10px 15px;\n  width: 100%;\n}\n\n/* main ======================================================================= */\n\n.property-menu .main {\n  display: flex;\n  flex: 1;\n}\n\n.property-menu .main .properties {\n  display: flex;\n  flex-direction: column;\n  flex: 3;\n}\n\n.property-menu .main ul#properties-list {\n  overflow: auto;\n}\n\n.property-menu .main #properties-list li {\n  position: relative;\n  transition: background-color 0.2s;\n  overflow: hidden;\n}\n\n.property-menu .main #properties-list li.selected,\n.property-menu .main #properties-list li.selected:hover {\n  background-color: #f8f8f8;\n}\n\n.property-menu .main #properties-list li.disabled::after {\n  content: '';\n  display: block;\n  background: #ccc;\n  width: 10px;\n  height: 8px;\n  border-radius: 2px;\n  position: absolute;\n  left: 10px;\n  top: 50%;\n  margin-top: -3px;\n}\n\n.property-menu .main #properties-list li.disabled::before {\n  content: '';\n  display: block;\n  border: solid 2px #ccc;\n  width: 2px;\n  height: 8px;\n  border-radius: 3px;\n  position: absolute;\n  top: 50%;\n  left: 12px;\n  margin-top: -8px\n}\n\n.property-menu .main #properties-list li.disabled,\n.property-menu .main #properties-list li.disabled:hover {\n  pointer-events: none ;\n  background: inherit;\n  opacity: 0.8;\n  text-indent: 10px;\n  color: #ccc;\n}\n\n.property-menu .main #properties-list li.disabled .propertyName {\n  left: 15px;\n}\n\n.property-menu .main #properties-list li .property {\n  cursor: pointer;\n  padding: 6px 15px 6px 10px;\n  border-bottom: solid 1px #eee;\n  text-transform: none;\n}\n\n.property-menu .main #properties-list li .property input {\n  background: transparent;\n  border: none;\n  outline: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  padding: 0;\n  height: auto;\n  text-indent: 10px;\n}\n\n.property-menu .main #properties-list li .property .type {\n  color: #999;\n  float: right;\n  transition: margin 0.2s;\n  text-transform: none;\n}\n\n.property-menu .main #properties-list li .remove-property-button {\n  display: none;\n  position: absolute;\n  top: 50%;\n  margin-top: -8px;\n  right: 7px;\n  width: 14px;\n  height: 14px;\n  background: #aaa;\n  border-radius: 3px;\n  cursor: pointer;\n  line-height: 13px;\n  font-size: 10px;\n  text-align: center;\n  color: #eee;\n  transition: all .2s;\n}\n\n.property-menu .main #properties-list li .remove-property-button:hover {\n  background-color: #de4041;\n  color: #fff;\n}\n\n.property-menu .main #properties-list li:hover {\n  background-color: #f1f1f1;\n}\n\n.property-menu .main #properties-list li:hover .type {\n  margin-right: 10px;\n}\n\n.property-menu .main #properties-list li:hover .remove-property-button {\n  display: block;\n}\n\n/* edit mode ================================================================== */\n\n.property-menu .main .property-edit {\n  border-left: solid 1px #ddd;\n  vertical-align: top;\n  flex: 5;\n  display: flex;\n  flex-direction: column;\n}\n\n.property-edit ul {\n  padding: 10px;\n  flex: 1;\n}\n\n.property-edit li input {\n  min-width: 0;\n  width: auto;\n}\n\n.property-edit li input[type=\"checkbox\"] {\n  margin-left: -3px;\n}\n\n.property-edit li label {\n  text-transform: none;\n  display: flex;\n  align-items: center;\n  padding-bottom: 8px;\n}\n\n.property-edit li label *:nth-child(2) {\n  flex: 1;\n}\n\n.property-edit li label span {\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  width: 65px;\n  line-height: 24px;\n}\n\n.property-edit .propertyDescription {\n  padding: 10px;\n  border-top: solid 1px #ddd;\n}\n\n.property-edit .propertyDescription label span {\n  display: block;\n}\n\n.property-edit .propertyDescription label input {\n  width: 100%;\n}",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,"#side-panel {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 120px;\n  background: #fff;\n  border-radius: 4px;\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n  transition: width 0.2s\n}\n\n#side-panel.hasOpen {\n  bottom: 55px;\n  width: 380px;\n}\n\n#side-panel .CodeMirror {\n  height: auto;\n  width: 100%;\n}\n\n#side-panel > section {\n  width: 100%;\n  border-bottom: 1px solid #ddd;\n  display: block;\n  height: 0;\n  position: relative;\n  overflow: hidden;\n}\n\n#side-panel > section:last-child {\n  border-bottom: none;\n}\n\n#side-panel > section.open {\n  display: flex;\n  flex: 1;\n}\n\n#side-panel > header {\n  background: #fafafa;\n  padding: 3px 10px 3px 20px;\n  cursor: pointer;\n  position: relative;\n}\n\n#side-panel > header.open {\n  border-bottom: solid 1px #ddd;\n}\n\n#side-panel > header::after {\n  content: '';\n  position: absolute;\n  height: 0;\n  border: solid 4px transparent;\n  border-top-color: #aaa;\n  left: 7px;\n  top: 12px;\n}\n\n#side-panel > header.open::after {\n  border-bottom-color: #aaa;\n  border-top-color: transparent;\n  top: 8px;\n}\n\n/* */\n\n#side-panel-properties.open {\n  min-height: 340px;\n}\n\n#properties-list .schema_indexes .property .propertyName {\n  color: #ccc;\n}\n\n#properties-search {\n  position: absolute;\n  top: 45px;\n  left: 130px;\n  width: 190px;\n  z-index: 999;\n}\n\n#properties-search-result {\n  /*background: #d8e3ed;*/\n  background: rgba(216,227,237,0.5);\n}\n\n#properties-search-input {\n  background: rgba(247,194,194,0.5);\n  width: 103px;\n  height: 20px;\n  border: inset;\n}\n\n#properties-search-result .li:hover {\n  background: #ccc;\n}\n\n",""])},function(e,t,n){t=e.exports=n(3)(!1),t.i(n(59),""),t.i(n(67),""),t.i(n(64),""),t.i(n(58),""),t.i(n(63),""),t.i(n(60),""),t.i(n(62),""),t.i(n(65),""),t.i(n(61),""),t.push([e.id,"/* ============================================================================ */\n/* ============================================================================ */\n/* Node styles */\n/* ============================================================================ */\n\n.graph-editor .node circle {\n  transition: transform 1s;\n}\n\n.graph-editor .node.dragging circle {\n  cursor: move;\n}\n\n.graph-editor .node circle {\n  cursor: pointer;\n  stroke-width: 5px;\n}\n\n.graph-editor .node text {\n  white-space: nowrap;\n  fill-opacity: 1;\n  text-transform: none;\n}\n\n.graph-editor .node:focus {\n  outline-offset: 5px;\n}\n\n/* ============================================================================ */\n/* Edge styles */\n/* ============================================================================ */\n\n.graph-editor .edge text {\n  cursor: pointer;\n  text-transform: none;\n}\n\n.graph-editor .edge text.dragging {\n  cursor: move;\n}\n\n.graph-editor .edge path {\n  fill: none;\n}\n\n.graph-editor .edge text:focus {\n  outline-offset: 5px;\n}\n\n.graph-editor path {\n  stroke-width: 2px;\n}\n\n.graph-editor path .path-text {\n\n}\n\n.graph-editor .dragLine {\n  stroke-dasharray: 2;\n}\n\n.graph-editor .dragLine.hidden {\n  display: none;\n}\n",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,".top-menu {\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 10;\n}\n\n.top-menu-overlay {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -1\n}\n\n.top-menu .toggle-button {\n  opacity: .25;\n  transition: all .2s;\n  padding: 4px 5px;\n  cursor: pointer;\n  min-width: 26px;\n  display: inline-block;\n  text-align: center;\n  border-radius: 5px;\n  outline: none;\n  border: solid 1px transparent;\n  user-select: none;\n}\n\n.top-menu .toggle-button.open {\n  opacity: 1;\n  background: #fff;\n}\n\n.top-menu .toggle-button:hover {\n  border: solid 1px #d1d1d1;\n  opacity: 1;\n}\n\n.top-menu .content {\n  opacity: 0;\n  transition: all .2s;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);\n  position: absolute;\n  top: 35px;\n  left: 0;\n  background: #fff;\n  border-radius: 5px;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.top-menu .content.open {\n  opacity: 1;\n  pointer-events: all;\n}\n\n.top-menu .drop-down-menu li {\n  padding: 6px 120px 6px 10px;\n  white-space: nowrap;\n  border-bottom: solid 1px #eee;\n  position: relative;\n  transition: all .2s;\n  cursor: pointer;\n}\n\n.top-menu .drop-down-menu li:hover {\n  background: #fafafa;\n}\n\n.top-menu .drop-down-menu li:last-of-type {\n  border-bottom: none;\n}\n\n.top-menu .drop-down-menu li small {\n  opacity: .5;\n  position: absolute;\n  right: 10px;\n}\n\n.top-menu .graphql-schema {\n  left: 35px;\n  top: 45px;\n  right: 10px;\n  bottom: 10px;\n  position: fixed;\n  display: flex;\n}\n\n.top-menu .graphql-schema > section {\n  flex: 1;\n}\n\n.top-menu .graphql-schema > section .CodeMirror {\n  height: 100%;\n}",""])},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection, \n.cm-fat-cursor .CodeMirror-line > span > span::selection { background: transparent; }\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection { background: transparent; }\n.cm-fat-cursor { caret-color: transparent; }\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  z-index: 0;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){!function(){var t=n(57),r=n(34).utf8,i=n(69),o=n(34).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var l=t.bytesToWords(e),s=8*e.length,u=1732584193,c=-271733879,d=-1732584194,f=271733878,p=0;p<l.length;p++)l[p]=16711935&(l[p]<<8|l[p]>>>24)|4278255360&(l[p]<<24|l[p]>>>8);l[s>>>5]|=128<<s%32,l[14+(s+64>>>9<<4)]=s;for(var h=a._ff,g=a._gg,v=a._hh,m=a._ii,p=0;p<l.length;p+=16){var y=u,b=c,x=d,w=f;u=h(u,c,d,f,l[p+0],7,-680876936),f=h(f,u,c,d,l[p+1],12,-389564586),d=h(d,f,u,c,l[p+2],17,606105819),c=h(c,d,f,u,l[p+3],22,-1044525330),u=h(u,c,d,f,l[p+4],7,-176418897),f=h(f,u,c,d,l[p+5],12,1200080426),d=h(d,f,u,c,l[p+6],17,-1473231341),c=h(c,d,f,u,l[p+7],22,-45705983),u=h(u,c,d,f,l[p+8],7,1770035416),f=h(f,u,c,d,l[p+9],12,-1958414417),d=h(d,f,u,c,l[p+10],17,-42063),c=h(c,d,f,u,l[p+11],22,-1990404162),u=h(u,c,d,f,l[p+12],7,1804603682),f=h(f,u,c,d,l[p+13],12,-40341101),d=h(d,f,u,c,l[p+14],17,-1502002290),c=h(c,d,f,u,l[p+15],22,1236535329),u=g(u,c,d,f,l[p+1],5,-165796510),f=g(f,u,c,d,l[p+6],9,-1069501632),d=g(d,f,u,c,l[p+11],14,643717713),c=g(c,d,f,u,l[p+0],20,-373897302),u=g(u,c,d,f,l[p+5],5,-701558691),f=g(f,u,c,d,l[p+10],9,38016083),d=g(d,f,u,c,l[p+15],14,-660478335),c=g(c,d,f,u,l[p+4],20,-405537848),u=g(u,c,d,f,l[p+9],5,568446438),f=g(f,u,c,d,l[p+14],9,-1019803690),d=g(d,f,u,c,l[p+3],14,-187363961),c=g(c,d,f,u,l[p+8],20,1163531501),u=g(u,c,d,f,l[p+13],5,-1444681467),f=g(f,u,c,d,l[p+2],9,-51403784),d=g(d,f,u,c,l[p+7],14,1735328473),c=g(c,d,f,u,l[p+12],20,-1926607734),u=v(u,c,d,f,l[p+5],4,-378558),f=v(f,u,c,d,l[p+8],11,-2022574463),d=v(d,f,u,c,l[p+11],16,1839030562),c=v(c,d,f,u,l[p+14],23,-35309556),u=v(u,c,d,f,l[p+1],4,-1530992060),f=v(f,u,c,d,l[p+4],11,1272893353),d=v(d,f,u,c,l[p+7],16,-155497632),c=v(c,d,f,u,l[p+10],23,-1094730640),u=v(u,c,d,f,l[p+13],4,681279174),f=v(f,u,c,d,l[p+0],11,-358537222),d=v(d,f,u,c,l[p+3],16,-722521979),c=v(c,d,f,u,l[p+6],23,76029189),u=v(u,c,d,f,l[p+9],4,-640364487),f=v(f,u,c,d,l[p+12],11,-421815835),d=v(d,f,u,c,l[p+15],16,530742520),c=v(c,d,f,u,l[p+2],23,-995338651),u=m(u,c,d,f,l[p+0],6,-198630844),f=m(f,u,c,d,l[p+7],10,1126891415),d=m(d,f,u,c,l[p+14],15,-1416354905),c=m(c,d,f,u,l[p+5],21,-57434055),u=m(u,c,d,f,l[p+12],6,1700485571),f=m(f,u,c,d,l[p+3],10,-1894986606),d=m(d,f,u,c,l[p+10],15,-1051523),c=m(c,d,f,u,l[p+1],21,-2054922799),u=m(u,c,d,f,l[p+8],6,1873313359),f=m(f,u,c,d,l[p+15],10,-30611744),d=m(d,f,u,c,l[p+6],15,-1560198380),c=m(c,d,f,u,l[p+13],21,1309151649),u=m(u,c,d,f,l[p+4],6,-145523070),f=m(f,u,c,d,l[p+11],10,-1120210379),d=m(d,f,u,c,l[p+2],15,718787259),c=m(c,d,f,u,l[p+9],21,-343485551),u=u+y>>>0,c=c+b>>>0,d=d+x>>>0,f=f+w>>>0}return t.endian([u,c,d,f])};a._ff=function(e,t,n,r,i,o,a){var l=e+(t&n|~t&r)+(i>>>0)+a;return(l<<o|l>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var l=e+(t&r|n&~r)+(i>>>0)+a;return(l<<o|l>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var l=e+(t^n^r)+(i>>>0)+a;return(l<<o|l>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var l=e+(n^(t|~r))+(i>>>0)+a;return(l<<o|l>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){var r=n(66);"string"==typeof r&&(r=[[e.id,r,""]]);n(36)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(68);"string"==typeof r&&(r=[[e.id,r,""]]);n(36)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);